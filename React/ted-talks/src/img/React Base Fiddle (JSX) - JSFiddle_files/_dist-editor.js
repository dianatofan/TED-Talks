!function(){function e(e,t,n){if(r)for(var o=r.length;o--;){var s=r[o];i.call(e,s)&&t.call(n,s,e[s])}}this.MooTools={version:"1.6.0",build:"529422872adfff401b901b8b6c7ca5114ee95e2b"};var t=this.typeOf=function(e){if(null==e)return"null";if(null!=e.$family)return e.$family();if(e.nodeName){if(1==e.nodeType)return"element";if(3==e.nodeType)return/\S/.test(e.nodeValue)?"textnode":"whitespace"}else if("number"==typeof e.length){if("callee"in e)return"arguments";if("item"in e)return"collection"}return typeof e},n=this.instanceOf=function(e,t){if(null==e)return!1;for(var n=e.$constructor||e.constructor;n;){if(n===t)return!0;n=n.parent}return!!e.hasOwnProperty&&e instanceof t},i=Object.prototype.hasOwnProperty,r=!0;for(var o in{toString:1})r=null;r&&(r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]);var s=this.Function;s.prototype.overloadSetter=function(t){var n=this;return function(i,r){if(null==i)return this;if(t||"string"!=typeof i){for(var o in i)n.call(this,o,i[o]);e(i,n,this)}else n.call(this,i,r);return this}},s.prototype.overloadGetter=function(e){var t=this;return function(n){var i,r;if("string"!=typeof n?i=n:arguments.length>1?i=arguments:e&&(i=[n]),i){r={};for(var o=0;o<i.length;o++)r[i[o]]=t.call(this,i[o])}else r=t.call(this,n);return r}},s.prototype.extend=function(e,t){this[e]=t}.overloadSetter(),s.prototype.implement=function(e,t){this.prototype[e]=t}.overloadSetter();var a=Array.prototype.slice;Array.convert=function(e){return null==e?[]:l.isEnumerable(e)&&"string"!=typeof e?"array"==t(e)?e:a.call(e):[e]},s.convert=function(e){return"function"==t(e)?e:function(){return e}},Number.convert=function(e){var t=parseFloat(e);return isFinite(t)?t:null},String.convert=function(e){return e+""},Array.from=Array.convert,s.from=s.convert,Number.from=Number.convert,String.from=String.convert,s.implement({hide:function(){return this.$hidden=!0,this},protect:function(){return this.$protected=!0,this}});var l=this.Type=function(e,n){if(e){var i=e.toLowerCase(),r=function(e){return t(e)==i};l["is"+e]=r,null!=n&&(n.prototype.$family=function(){return i}.hide(),n.type=r)}return null==n?null:(n.extend(this),n.$constructor=l,n.prototype.$constructor=n,n)},c=Object.prototype.toString;l.isEnumerable=function(e){return null!=e&&"number"==typeof e.length&&"[object Function]"!=c.call(e)};var u={},p=function(e){var n=t(e.prototype);return u[n]||(u[n]=[])},h=function(e,n){if(!n||!n.$hidden){for(var i=p(this),r=0;r<i.length;r++){var o=i[r];"type"==t(o)?h.call(o,e,n):o.call(this,e,n)}var s=this.prototype[e];null!=s&&s.$protected||(this.prototype[e]=n),null==this[e]&&"function"==t(n)&&f.call(this,e,function(e){return n.apply(e,a.call(arguments,1))})}},f=function(e,t){if(!t||!t.$hidden){var n=this[e];null!=n&&n.$protected||(this[e]=t)}};l.implement({implement:h.overloadSetter(),extend:f.overloadSetter(),alias:function(e,t){h.call(this,e,this.prototype[t])}.overloadSetter(),mirror:function(e){return p(this).push(e),this}}),new l("Type",l);var d=function(e,t,n){var i=t!=Object,r=t.prototype;i&&(t=new l(e,t));for(var o=0,s=n.length;o<s;o++){var a=n[o],c=t[a],u=r[a];c&&c.protect(),i&&u&&t.implement(a,u.protect())}if(i){var p=r.propertyIsEnumerable(n[0]);t.forEachMethod=function(e){if(!p)for(var t=0,i=n.length;t<i;t++)e.call(r,r[n[t]],n[t]);for(var o in r)e.call(r,r[o],o)}}return d};d("String",String,["charAt","charCodeAt","concat","contains","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","trim","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight","contains"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",s,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]),Object.extend=f.overloadSetter(),Date.extend("now",function(){return+new Date}),new l("Boolean",Boolean),Number.prototype.$family=function(){return isFinite(this)?"number":"null"}.hide(),Number.extend("random",function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}),Array.implement({forEach:function(e,t){for(var n=0,i=this.length;n<i;n++)n in this&&e.call(t,this[n],n,this)},each:function(e,t){return Array.forEach(this,e,t),this}}),Object.extend({keys:function(t){var n=[];for(var r in t)i.call(t,r)&&n.push(r);return e(t,function(e){n.push(e)}),n},forEach:function(e,t,n){Object.keys(e).forEach(function(i){t.call(n,e[i],i,e)})}}),Object.each=Object.forEach;var y=function(e){switch(t(e)){case"array":return e.clone();case"object":return Object.clone(e);default:return e}};Array.implement("clone",function(){for(var e=this.length,t=new Array(e);e--;)t[e]=y(this[e]);return t});var m=function(e,n,i){switch(t(i)){case"object":"object"==t(e[n])?Object.merge(e[n],i):e[n]=Object.clone(i);break;case"array":e[n]=i.clone();break;default:e[n]=i}return e};Object.extend({merge:function(e,n,i){if("string"==t(n))return m(e,n,i);for(var r=1,o=arguments.length;r<o;r++){var s=arguments[r];for(var a in s)m(e,a,s[a])}return e},clone:function(e){var t={};for(var n in e)t[n]=y(e[n]);return t},append:function(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t]||{};for(var r in i)e[r]=i[r]}return e}}),["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(e){new l(e)});var g=Date.now();String.extend("uniqueID",function(){return(g++).toString(36)});var v=this.Hash=new l("Hash",function(e){"hash"==t(e)&&(e=Object.clone(e.getClean()));for(var n in e)this[n]=e[n];return this});v.implement({forEach:function(e,t){Object.forEach(this,e,t)},getClean:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},getLength:function(){var e=0;for(var t in this)this.hasOwnProperty(t)&&e++;return e}}),v.alias("each","forEach"),Object.type=l.isObject;var b=this.Native=function(e){return new l(e.name,e.initialize)};b.type=l.type,b.implement=function(e,t){for(var n=0;n<e.length;n++)e[n].implement(t);return b};var x=Array.type;Array.type=function(e){return n(e,Array)||x(e)},this.$A=function(e){return Array.convert(e).slice()},this.$arguments=function(e){return function(){return arguments[e]}},this.$chk=function(e){return!(!e&&0!==e)},this.$clear=function(e){return clearTimeout(e),clearInterval(e),null},this.$defined=function(e){return null!=e},this.$each=function(e,n,i){var r=t(e);("arguments"==r||"collection"==r||"array"==r||"elements"==r?Array:Object).each(e,n,i)},this.$empty=function(){},this.$extend=function(e,t){return Object.append(e,t)},this.$H=function(e){return new v(e)},this.$merge=function(){var e=Array.slice(arguments);return e.unshift({}),Object.merge.apply(null,e)},this.$lambda=s.convert,this.$mixin=Object.merge,this.$random=Number.random,this.$splat=Array.convert,this.$time=Date.now,this.$type=function(e){var n=t(e);return"elements"==n?"array":"null"!=n&&n},this.$unlink=function(e){switch(t(e)){case"object":return Object.clone(e);case"array":return Array.clone(e);case"hash":return new v(e);default:return e}}}(),Array.implement({every:function(e,t){for(var n=0,i=this.length>>>0;n<i;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},filter:function(e,t){for(var n,i=[],r=0,o=this.length>>>0;r<o;r++)r in this&&(n=this[r],e.call(t,n,r,this)&&i.push(n));return i},indexOf:function(e,t){for(var n=this.length>>>0,i=t<0?Math.max(0,n+t):t||0;i<n;i++)if(this[i]===e)return i;return-1},map:function(e,t){for(var n=this.length>>>0,i=Array(n),r=0;r<n;r++)r in this&&(i[r]=e.call(t,this[r],r,this));return i},some:function(e,t){for(var n=0,i=this.length>>>0;n<i;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},clean:function(){return this.filter(function(e){return null!=e})},invoke:function(e){var t=Array.slice(arguments,1);return this.map(function(n){return n[e].apply(n,t)})},associate:function(e){for(var t={},n=Math.min(this.length,e.length),i=0;i<n;i++)t[e[i]]=this[i];return t},link:function(e){for(var t={},n=0,i=this.length;n<i;n++)for(var r in e)if(e[r](this[n])){t[r]=this[n],delete e[r];break}return t},contains:function(e,t){return-1!=this.indexOf(e,t)},append:function(e){return this.push.apply(this,e),this},getLast:function(){return this.length?this[this.length-1]:null},getRandom:function(){return this.length?this[Number.random(0,this.length-1)]:null},include:function(e){return this.contains(e)||this.push(e),this},combine:function(e){for(var t=0,n=e.length;t<n;t++)this.include(e[t]);return this},erase:function(e){for(var t=this.length;t--;)this[t]===e&&this.splice(t,1);return this},empty:function(){return this.length=0,this},flatten:function(){for(var e=[],t=0,n=this.length;t<n;t++){var i=typeOf(this[t]);"null"!=i&&(e=e.concat("array"==i||"collection"==i||"arguments"==i||instanceOf(this[t],Array)?Array.flatten(this[t]):this[t]))}return e},pick:function(){for(var e=0,t=this.length;e<t;e++)if(null!=this[e])return this[e];return null},hexToRgb:function(e){if(3!=this.length)return null;var t=this.map(function(e){return 1==e.length&&(e+=e),parseInt(e,16)});return e?t:"rgb("+t+")"},rgbToHex:function(e){if(this.length<3)return null;if(4==this.length&&0==this[3]&&!e)return"transparent";for(var t=[],n=0;n<3;n++){var i=(this[n]-0).toString(16);t.push(1==i.length?"0"+i:i)}return e?t:"#"+t.join("")}}),Array.alias("extend","append");var $pick=this.$pick=function(){return Array.convert(arguments).pick()};Function.extend({attempt:function(){for(var e=0,t=arguments.length;e<t;e++)try{return arguments[e]()}catch(e){}return null}}),Function.implement({attempt:function(e,t){try{return this.apply(t,Array.convert(e))}catch(e){}return null},bind:function(e){var t=this,n=arguments.length>1?Array.slice(arguments,1):null,i=function(){},r=function(){var o=e,s=arguments.length;this instanceof r&&(i.prototype=t.prototype,o=new i);var a=n||s?t.apply(o,n&&s?n.concat(Array.slice(arguments)):n||arguments):t.call(o);return o==e?a:o};return r},pass:function(e,t){var n=this;return null!=e&&(e=Array.convert(e)),function(){return n.apply(t,e||arguments)}},delay:function(e,t,n){return setTimeout(this.pass(null==n?[]:n,t),e)},periodical:function(e,t,n){return setInterval(this.pass(null==n?[]:n,t),e)}}),delete Function.prototype.bind,Function.implement({create:function(e){var t=this;return e=e||{},function(n){var i=e.arguments;i=null!=i?Array.convert(i):Array.slice(arguments,e.event?1:0),e.event&&i.unshift(n||window.event);var r=function(){return t.apply(e.bind||null,i)};return e.delay?setTimeout(r,e.delay):e.periodical?setInterval(r,e.periodical):e.attempt?Function.attempt(r):r()}},bind:function(e,t){var n=this;return null!=t&&(t=Array.convert(t)),function(){return n.apply(e,t||arguments)}},bindWithEvent:function(e,t){var n=this;return null!=t&&(t=Array.convert(t)),function(i){return n.apply(e,null==t?arguments:[i].concat(t))}},run:function(e,t){return this.apply(t,Array.convert(e))}}),Object.create==Function.prototype.create&&(Object.create=null);var $try=Function.attempt;Number.implement({limit:function(e,t){return Math.min(t,Math.max(e,this))},round:function(e){return e=Math.pow(10,e||0).toFixed(e<0?-e:0),Math.round(this*e)/e},times:function(e,t){for(var n=0;n<this;n++)e.call(t,n,this)},toFloat:function(){return parseFloat(this)},toInt:function(e){return parseInt(this,e||10)}}),Number.alias("each","times"),function(e){var t={};["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"].each(function(e){Number[e]||(t[e]=function(){return Math[e].apply(null,[this].concat(Array.convert(arguments)))})}),Number.implement(t)}(),String.implement({contains:function(e,t){return(t?String(this).slice(t):String(this)).indexOf(e)>-1},test:function(e,t){return("regexp"==typeOf(e)?e:new RegExp(""+e,t)).test(this)},trim:function(){return String(this).replace(/^\s+|\s+$/g,"")},clean:function(){return String(this).replace(/\s+/g," ").trim()},camelCase:function(){return String(this).replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()})},hyphenate:function(){return String(this).replace(/[A-Z]/g,function(e){return"-"+e.charAt(0).toLowerCase()})},capitalize:function(){return String(this).replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},escapeRegExp:function(){return String(this).replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},toInt:function(e){return parseInt(this,e||10)},toFloat:function(){return parseFloat(this)},hexToRgb:function(e){var t=String(this).match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return t?t.slice(1).hexToRgb(e):null},rgbToHex:function(e){var t=String(this).match(/\d{1,3}/g);return t?t.rgbToHex(e):null},substitute:function(e,t){return String(this).replace(t||/\\?\{([^{}]+)\}/g,function(t,n){return"\\"==t.charAt(0)?t.slice(1):null!=e[n]?e[n]:""})}}),String.prototype.contains=function(e,t){return t?(t+this+t).indexOf(t+e+t)>-1:String(this).indexOf(e)>-1},function(){var e=this.document,t=e.window=this,n=function(e,t){e=e.toLowerCase(),t=t?t.toLowerCase():"";var n=e.match(/(edge)[\s\/:]([\w\d\.]+)/);return n||(n=e.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0]),"trident"==n[1]?(n[1]="ie",n[4]&&(n[2]=n[4])):"crios"==n[1]&&(n[1]="chrome"),"win"==(t=e.match(/ip(?:ad|od|hone)/)?"ios":(e.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||["other"])[0])&&(t="windows"),{extend:Function.prototype.extend,name:"version"==n[1]?n[3]:n[1],version:parseFloat("opera"==n[1]&&n[4]?n[4]:n[2]),platform:t}},i=this.Browser=n(navigator.userAgent,navigator.platform);"ie"==i.name&&e.documentMode&&(i.version=e.documentMode),i.extend({Features:{xpath:!!e.evaluate,air:!!t.runtime,query:!!e.querySelector,json:!!t.JSON},parseUA:n}),i[i.name]=!0,i[i.name+parseInt(i.version,10)]=!0,"ie"==i.name&&i.version>="11"&&delete i.ie;var r=i.platform;"windows"==r&&(r="win"),i.Platform={name:r},i.Platform[r]=!0,i.Request=function(){var e=function(){return new XMLHttpRequest},t=function(){return new ActiveXObject("MSXML2.XMLHTTP")},n=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return Function.attempt(function(){return e(),e},function(){return t(),t},function(){return n(),n})}(),i.Features.xhr=!!i.Request;var o=(Function.attempt(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);if(i.Plugins={Flash:{version:Number(o[0]||"0."+o[1])||0,build:Number(o[2])||0}},i.exec=function(n){if(!n)return n;if(t.execScript)t.execScript(n);else{var i=e.createElement("script");i.setAttribute("type","text/javascript"),i.text=n,e.head.appendChild(i),e.head.removeChild(i)}return n},String.implement("stripScripts",function(e){var t="",n=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(e,n){return t+=n+"\n",""});return!0===e?i.exec(t):"function"==typeOf(e)&&e(t,n),n}),i.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event}),this.Window=this.$constructor=new Type("Window",function(){}),this.$family=Function.convert("window").hide(),Window.mirror(function(e,n){t[e]=n}),this.Document=e.$constructor=new Type("Document",function(){}),e.$family=Function.convert("document").hide(),Document.mirror(function(t,n){e[t]=n}),e.html=e.documentElement,e.head||(e.head=e.getElementsByTagName("head")[0]),e.execCommand)try{e.execCommand("BackgroundImageCache",!1,!0)}catch(e){}if(this.attachEvent&&!this.addEventListener){var s=function(){this.detachEvent("onunload",s),e.head=e.html=e.window=null,t=this.Window=e=null};this.attachEvent("onunload",s)}var a=Array.convert;try{a(e.html.childNodes)}catch(e){Array.convert=function(e){if("string"!=typeof e&&Type.isEnumerable(e)&&"array"!=typeOf(e)){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}return a(e)};var l=Array.prototype,c=l.slice;["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(e){var t=l[e];Array[e]=function(e){return t.apply(Array.convert(e),c.call(arguments,1))}})}i.Platform.ios&&(i.Platform.ipod=!0),i.Engine={};var u=function(e,t){i.Engine.name=e,i.Engine[e+t]=!0,i.Engine.version=t};if(i.ie)switch(i.Engine.trident=!0,i.version){case 6:u("trident",4);break;case 7:u("trident",5);break;case 8:u("trident",6)}if(i.firefox&&(i.Engine.gecko=!0,i.version>=3?u("gecko",19):u("gecko",18)),i.safari||i.chrome)switch(i.Engine.webkit=!0,i.version){case 2:u("webkit",419);break;case 3:u("webkit",420);break;case 4:u("webkit",525)}if(i.opera&&(i.Engine.presto=!0,i.version>=9.6?u("presto",960):i.version>=9.5?u("presto",950):u("presto",925)),"unknown"==i.name)switch((navigator.userAgent.toLowerCase().match(/(?:webkit|khtml|gecko)/)||[])[0]){case"webkit":case"khtml":i.Engine.webkit=!0;break;case"gecko":i.Engine.gecko=!0}this.$exec=i.exec}(),function(){var e=this.Class=new Type("Class",function(i){instanceOf(i,Function)&&(i={initialize:i});var r=function(){if(n(this),r.$prototyping)return this;this.$caller=null,this.$family=null;var e=this.initialize?this.initialize.apply(this,arguments):this;return this.$caller=this.caller=null,e}.extend(this).implement(i);return r.$constructor=e,r.prototype.$constructor=r,r.prototype.parent=t,r}),t=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var e=this.$caller.$name,t=this.$caller.$owner.parent,n=t?t.prototype[e]:null;if(!n)throw new Error('The method "'+e+'" has no parent.');return n.apply(this,arguments)},n=function(e){for(var t in e){var i=e[t];switch(typeOf(i)){case"object":var r=function(){};r.prototype=i,e[t]=n(new r);break;case"array":e[t]=i.clone()}}return e},i=function(t,n,i){if(e.Mutators.hasOwnProperty(t)&&null==(n=e.Mutators[t].call(this,n)))return this;if("function"==typeOf(n)){if(n.$hidden)return this;this.prototype[t]=i?n:function(e,t,n){n.$origin&&(n=n.$origin);var i=function(){if(n.$protected&&null==this.$caller)throw new Error('The method "'+t+'" cannot be called.');var e=this.caller,r=this.$caller;this.caller=r,this.$caller=i;var o=n.apply(this,arguments);return this.$caller=r,this.caller=e,o}.extend({$owner:e,$origin:n,$name:t});return i}(this,t,n)}else Object.merge(this.prototype,t,n);return this};e.implement("implement",i.overloadSetter()),e.Mutators={Extends:function(e){this.parent=e,this.prototype=function(e){e.$prototyping=!0;var t=new e;return delete e.$prototyping,t}(e)},Implements:function(e){Array.convert(e).each(function(e){var t=new e;for(var n in t)i.call(this,n,t[n],!0)},this)}}}(),function(){this.Chain=new Class({$chain:[],chain:function(){return this.$chain.append(Array.flatten(arguments)),this},callChain:function(){return!!this.$chain.length&&this.$chain.shift().apply(this,arguments)},clearChain:function(){return this.$chain.empty(),this}});var e=function(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})};this.Events=new Class({$events:{},addEvent:function(t,n,i){return t=e(t),n==$empty?this:(this.$events[t]=(this.$events[t]||[]).include(n),i&&(n.internal=!0),this)},addEvents:function(e){for(var t in e)this.addEvent(t,e[t]);return this},fireEvent:function(t,n,i){t=e(t);var r=this.$events[t];return r?(n=Array.convert(n),r.each(function(e){i?e.delay(i,this,n):e.apply(this,n)},this),this):this},removeEvent:function(t,n){t=e(t);var i=this.$events[t];if(i&&!n.internal){var r=i.indexOf(n);-1!=r&&delete i[r]}return this},removeEvents:function(t){var n;if("object"==typeOf(t)){for(n in t)this.removeEvent(n,t[n]);return this}t&&(t=e(t));for(n in this.$events)if(!t||t==n)for(var i=this.$events[n],r=i.length;r--;)r in i&&this.removeEvent(n,i[r]);return this}}),this.Options=new Class({setOptions:function(){var e=this.options=Object.merge.apply(null,[{},this.options].append(arguments));if(this.addEvent)for(var t in e)"function"==typeOf(e[t])&&/^on[A-Z]/.test(t)&&(this.addEvent(t,e[t]),delete e[t]);return this}})}(),function(){function e(i,o){if(i.$thenableState===r)if(i===o)n(i,new TypeError("Tried to resolve a thenable with itself."));else if(!o||"object"!=typeof o&&"function"!=typeof o)t(i,o);else{var s;try{s=o.then}catch(e){n(i,e)}if("function"==typeof s){var a=!1;l(function(){try{s.call(o,function(t){a||(a=!0,e(i,t))},function(e){a||(a=!0,n(i,e))})}catch(e){a||(a=!0,n(i,e))}})}else t(i,o)}}function t(e,t){e.$thenableState===r&&(e.$thenableResult=t,e.$thenableState=o,i(e))}function n(e,t){e.$thenableState===r&&(e.$thenableResult=t,e.$thenableState=s,i(e))}function i(t){var i,r=t.$thenableState,a=t.$thenableResult,c=t.$thenableReactions;r===o?(t.$thenableReactions=[],i="fulfillHandler"):r==s&&(t.$thenableReactions=[],i="rejectHandler"),i&&l(function(t,i,r){for(var o=0,s=i.length;o<s;++o){var a=i[o],l=a[r];if("Identity"===l)e(a.thenable,t);else if("Thrower"===l)n(a.thenable,t);else try{e(a.thenable,l(t))}catch(e){n(a.thenable,e)}}}.pass([a,c,i]))}var r=0,o=1,s=2,a=Class.Thenable=new Class({$thenableState:r,$thenableResult:null,$thenableReactions:[],resolve:function(t){return e(this,t),this},reject:function(e){return n(this,e),this},getThenableState:function(){switch(this.$thenableState){case r:return"pending";case o:return"fulfilled";case s:return"rejected"}},resetThenable:function(e){return n(this,e),function(e){e.$thenableState!==r&&(e.$thenableResult=null,e.$thenableState=r)}(this),this},then:function(e,t){"function"!=typeof e&&(e="Identity"),"function"!=typeof t&&(t="Thrower");var n=new a;return this.$thenableReactions.push({thenable:n,fulfillHandler:e,rejectHandler:t}),this.$thenableState!==r&&i(this),n},catch:function(e){return this.then(null,e)}});a.extend({resolve:function(t){var n;return t instanceof a?n=t:e(n=new a,t),n},reject:function(e){var t=new a;return n(t,e),t}});var l;l="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick:"undefined"!=typeof setImmediate?setImmediate:function(e){setTimeout(e,0)}}(),Object.extend({subset:function(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n},map:function(e,t,n){for(var i={},r=Object.keys(e),o=0;o<r.length;o++){var s=r[o];i[s]=t.call(n,e[s],s,e)}return i},filter:function(e,t,n){for(var i={},r=Object.keys(e),o=0;o<r.length;o++){var s=r[o],a=e[s];t.call(n,a,s,e)&&(i[s]=a)}return i},every:function(e,t,n){for(var i=Object.keys(e),r=0;r<i.length;r++){var o=i[r];if(!t.call(n,e[o],o))return!1}return!0},some:function(e,t,n){for(var i=Object.keys(e),r=0;r<i.length;r++){var o=i[r];if(t.call(n,e[o],o))return!0}return!1},values:function(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];t.push(e[r])}return t},getLength:function(e){return Object.keys(e).length},keyOf:function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(e[r]===t)return r}return null},contains:function(e,t){return null!=Object.keyOf(e,t)},toQueryString:function(e,t){var n=[];return Object.each(e,function(e,i){t&&(i=t+"["+i+"]");var r;switch(typeOf(e)){case"object":r=Object.toQueryString(e,i);break;case"array":var o={};e.each(function(e,t){o[t]=e}),r=Object.toQueryString(o,i);break;default:r=i+"="+encodeURIComponent(e)}null!=e&&n.push(r)}),n.join("&")}}),Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(e){return Object.keyOf(this,e)},hasValue:function(e){return Object.contains(this,e)},extend:function(e){return Hash.each(e||{},function(e,t){Hash.set(this,t,e)},this),this},combine:function(e){return Hash.each(e||{},function(e,t){Hash.include(this,t,e)},this),this},erase:function(e){return this.hasOwnProperty(e)&&delete this[e],this},get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]&&!this.hasOwnProperty(e)||(this[e]=t),this},empty:function(){return Hash.each(this,function(e,t){delete this[t]},this),this},include:function(e,t){return null==this[e]&&(this[e]=t),this},map:function(e,t){return new Hash(Object.map(this,e,t))},filter:function(e,t){return new Hash(Object.filter(this,e,t))},every:function(e,t){return Object.every(this,e,t)},some:function(e,t){return Object.some(this,e,t)},getKeys:function(){return Object.keys(this)},getValues:function(){return Object.values(this)},toQueryString:function(e){return Object.toQueryString(this,e)}}),Hash.extend=Object.append,Hash.alias({indexOf:"keyOf",contains:"hasValue"}),function(){function e(e,o,s,l,u,h,f,d,y,m,g,v,b,x,w,_){if((o||-1===n)&&(t.expressions[++n]=[],i=-1,o))return"";if(s||l||-1===i){s=s||" ";var k=t.expressions[n];r&&k[i]&&(k[i].reverseCombinator=c(s)),k[++i]={combinator:s,tag:"*"}}var S=t.expressions[n][i];if(u)S.tag=u.replace(a,"");else if(h)S.id=h.replace(a,"");else if(f)f=f.replace(a,""),S.classList||(S.classList=[]),S.classes||(S.classes=[]),S.classList.push(f),S.classes.push({value:f,regexp:new RegExp("(^|\\s)"+p(f)+"(\\s|$)")});else if(b)_=(_=_||w)?_.replace(a,""):null,S.pseudos||(S.pseudos=[]),S.pseudos.push({key:b.replace(a,""),value:_,type:1==v.length?"class":"element"});else if(d){d=d.replace(a,""),g=(g||"").replace(a,"");var C,T;switch(y){case"^=":T=new RegExp("^"+p(g));break;case"$=":T=new RegExp(p(g)+"$");break;case"~=":T=new RegExp("(^|\\s)"+p(g)+"(\\s|$)");break;case"|=":T=new RegExp("^"+p(g)+"(-|$)");break;case"=":C=function(e){return g==e};break;case"*=":C=function(e){return e&&e.indexOf(g)>-1};break;case"!=":C=function(e){return g!=e};break;default:C=function(e){return!!e}}""==g&&/^[*$^]=$/.test(y)&&(C=function(){return!1}),C||(C=function(e){return e&&T.test(e)}),S.attributes||(S.attributes=[]),S.attributes.push({key:d,operator:y,value:g,test:C})}return""}var t,n,i,r,o={},s={},a=/\\/g,l=function(i,a){if(null==i)return null;if(!0===i.Slick)return i;i=(""+i).replace(/^\s+|\s+$/g,"");var c=(r=!!a)?s:o;if(c[i])return c[i];for(t={Slick:!0,expressions:[],raw:i,reverse:function(){return l(this.raw,!0)}},n=-1;i!=(i=i.replace(h,e)););return t.length=t.expressions.length,c[t.raw]=r?u(t):t},c=function(e){return"!"===e?" ":" "===e?"!":/^!/.test(e)?e.replace(/^!/,""):"!"+e},u=function(e){for(var t=e.expressions,n=0;n<t.length;n++){for(var i=t[n],r={parts:[],tag:"*",combinator:c(i[0].combinator)},o=0;o<i.length;o++){var s=i[o];s.reverseCombinator||(s.reverseCombinator=" "),s.combinator=s.reverseCombinator,delete s.reverseCombinator}i.reverse().push(r)}return e},p=function(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(e){return"\\"+e})},h=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+p(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),f=this.Slick||{};f.parse=function(e){return l(e)},f.escapeRegExp=p,this.Slick||(this.Slick=f)}.apply("undefined"!=typeof exports?exports:this),function(){var e={},t={},n=Object.prototype.toString;e.isNativeCode=function(e){return/\{\s*\[native code\]\s*\}/.test(""+e)},e.isXML=function(e){return!!e.xmlVersion||!!e.xml||"[object XMLDocument]"==n.call(e)||9==e.nodeType&&"HTML"!=e.documentElement.nodeName},e.setDocument=function(e){var n=e.nodeType;if(9==n);else if(n)e=e.ownerDocument;else{if(!e.navigator)return;e=e.document}if(this.document!==e){this.document=e;var i,r=e.documentElement,o=this.getUIDXML(r),s=t[o];if(s)for(i in s)this[i]=s[i];else{(s=t[o]={}).root=r,s.isXMLDocument=this.isXML(e),s.brokenStarGEBTN=s.starSelectsClosedQSA=s.idGetsName=s.brokenMixedCaseQSA=s.brokenGEBCN=s.brokenCheckedQSA=s.brokenEmptyAttributeQSA=s.isHTMLDocument=s.nativeMatchesSelector=!1;var a,l,c,u,p,h,f="slick_uniqueid",d=e.createElement("div"),y=e.body||e.getElementsByTagName("body")[0]||r;y.appendChild(d);try{d.innerHTML='<a id="'+f+'"></a>',s.isHTMLDocument=!!e.getElementById(f)}catch(e){}if(s.isHTMLDocument){d.style.display="none",d.appendChild(e.createComment("")),l=d.getElementsByTagName("*").length>1;try{d.innerHTML="foo</foo>",a=(h=d.getElementsByTagName("*"))&&!!h.length&&"/"==h[0].nodeName.charAt(0)}catch(e){}s.brokenStarGEBTN=l||a;try{d.innerHTML='<a name="'+f+'"></a><b id="'+f+'"></b>',s.idGetsName=e.getElementById(f)===d.firstChild}catch(e){}if(d.getElementsByClassName){try{d.innerHTML='<a class="f"></a><a class="b"></a>',d.getElementsByClassName("b").length,d.firstChild.className="b",u=2!=d.getElementsByClassName("b").length}catch(e){}try{d.innerHTML='<a class="a"></a><a class="f b a"></a>',c=2!=d.getElementsByClassName("a").length}catch(e){}s.brokenGEBCN=u||c}if(d.querySelectorAll){try{d.innerHTML="foo</foo>",h=d.querySelectorAll("*"),s.starSelectsClosedQSA=h&&!!h.length&&"/"==h[0].nodeName.charAt(0)}catch(e){}try{d.innerHTML='<a class="MiX"></a>',s.brokenMixedCaseQSA=!d.querySelectorAll(".MiX").length}catch(e){}try{d.innerHTML='<select><option selected="selected">a</option></select>',s.brokenCheckedQSA=0==d.querySelectorAll(":checked").length}catch(e){}try{d.innerHTML='<a class=""></a>',s.brokenEmptyAttributeQSA=0!=d.querySelectorAll('[class*=""]').length}catch(e){}}try{d.innerHTML='<form action="s"><input id="action"/></form>',p="s"!=d.firstChild.getAttribute("action")}catch(e){}if(s.nativeMatchesSelector=r.matches||r.mozMatchesSelector||r.webkitMatchesSelector,s.nativeMatchesSelector)try{s.nativeMatchesSelector.call(r,":slick"),s.nativeMatchesSelector=null}catch(e){}}try{r.slick_expando=1,delete r.slick_expando,s.getUID=this.getUIDHTML}catch(e){s.getUID=this.getUIDXML}y.removeChild(d),d=h=y=null,s.getAttribute=s.isHTMLDocument&&p?function(e,t){var n=this.attributeGetters[t];if(n)return n.call(e);var i=e.getAttributeNode(t);return i?i.nodeValue:null}:function(e,t){var n=this.attributeGetters[t];return n?n.call(e):e.getAttribute(t)},s.hasAttribute=r&&this.isNativeCode(r.hasAttribute)?function(e,t){return e.hasAttribute(t)}:function(e,t){return!(!(e=e.getAttributeNode(t))||!e.specified&&!e.nodeValue)};var m=r&&this.isNativeCode(r.contains),g=e&&this.isNativeCode(e.contains);s.contains=m&&g?function(e,t){return e.contains(t)}:m&&!g?function(t,n){return t===n||(t===e?e.documentElement:t).contains(n)}:r&&r.compareDocumentPosition?function(e,t){return e===t||!!(16&e.compareDocumentPosition(t))}:function(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1},s.documentSorter=r.compareDocumentPosition?function(e,t){return e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:e===t?0:1:0}:"sourceIndex"in r?function(e,t){return e.sourceIndex&&t.sourceIndex?e.sourceIndex-t.sourceIndex:0}:e.createRange?function(e,t){if(!e.ownerDocument||!t.ownerDocument)return 0;var n=e.ownerDocument.createRange(),i=t.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,0),i.setStart(t,0),i.setEnd(t,0),n.compareBoundaryPoints(Range.START_TO_END,i)}:null,r=null;for(i in s)this[i]=s[i]}}};var i=/^([#.]?)((?:[\w-]+|\*))$/,r=/\[.+[*$^]=(?:""|'')?\]/,o={};e.search=function(e,t,n,s){var a=this.found=s?null:n||[];if(!e)return a;if(e.navigator)e=e.document;else if(!e.nodeType)return a;var l,c,u,h,f=this.uniques={},d=!(!n||!n.length),y=9==e.nodeType;if(this.document!==(y?e:e.ownerDocument)&&this.setDocument(e),d)for(c=a.length;c--;)f[this.getUID(a[c])]=!0;if("string"==typeof t){var m=t.match(i);e:if(m){var g=m[1],v=m[2];if(g){if("#"==g){if(!this.isHTMLDocument||!y)break e;if(!(u=e.getElementById(v)))return a;if(this.idGetsName&&u.getAttributeNode("id").nodeValue!=v)break e;if(s)return u||null;d&&f[this.getUID(u)]||a.push(u)}else if("."==g){if(!this.isHTMLDocument||(!e.getElementsByClassName||this.brokenGEBCN)&&e.querySelectorAll)break e;if(e.getElementsByClassName&&!this.brokenGEBCN){if(h=e.getElementsByClassName(v),s)return h[0]||null;for(c=0;u=h[c++];)d&&f[this.getUID(u)]||a.push(u)}else{var b=new RegExp("(^|\\s)"+p.escapeRegExp(v)+"(\\s|$)");for(h=e.getElementsByTagName("*"),c=0;u=h[c++];)if(className=u.className,className&&b.test(className)){if(s)return u;d&&f[this.getUID(u)]||a.push(u)}}}}else{if("*"==v&&this.brokenStarGEBTN)break e;if(h=e.getElementsByTagName(v),s)return h[0]||null;for(c=0;u=h[c++];)d&&f[this.getUID(u)]||a.push(u)}return d&&this.sort(a),s?null:a}e:if(e.querySelectorAll){if(!this.isHTMLDocument||o[t]||this.brokenMixedCaseQSA||this.brokenCheckedQSA&&t.indexOf(":checked")>-1||this.brokenEmptyAttributeQSA&&r.test(t)||!y&&t.indexOf(",")>-1||p.disableQSA)break e;var x,w=t,_=e;y||(x=_.getAttribute("id"),slickid="slickid__",_.setAttribute("id",slickid),w="#"+slickid+" "+w,e=_.parentNode);try{if(s)return e.querySelector(w)||null;h=e.querySelectorAll(w)}catch(e){o[t]=1;break e}finally{y||(x?_.setAttribute("id",x):_.removeAttribute("id"),e=_)}if(this.starSelectsClosedQSA)for(c=0;u=h[c++];)!(u.nodeName>"@")||d&&f[this.getUID(u)]||a.push(u);else for(c=0;u=h[c++];)d&&f[this.getUID(u)]||a.push(u);return d&&this.sort(a),a}if(!(l=this.Slick.parse(t)).length)return a}else{if(null==t)return a;if(!t.Slick)return this.contains(e.documentElement||e,t)?(a?a.push(t):a=t,a):a;l=t}this.posNTH={},this.posNTHLast={},this.posNTHType={},this.posNTHTypeLast={},this.push=!d&&(s||1==l.length&&1==l.expressions[0].length)?this.pushArray:this.pushUID,null==a&&(a=[]);var k,S,C,T,E,M,A,O,L,P,R,I,j,N,D=l.expressions;e:for(c=0;I=D[c];c++)for(k=0;j=I[k];k++){if(T="combinator:"+j.combinator,!this[T])continue e;if(E=this.isXMLDocument?j.tag:j.tag.toUpperCase(),M=j.id,A=j.classList,O=j.classes,L=j.attributes,P=j.pseudos,N=k===I.length-1,this.bitUniques={},N?(this.uniques=f,this.found=a):(this.uniques={},this.found=[]),0===k){if(this[T](e,E,M,O,L,P,A),s&&N&&a.length)break e}else if(s&&N){for(S=0,C=R.length;S<C;S++)if(this[T](R[S],E,M,O,L,P,A),a.length)break e}else for(S=0,C=R.length;S<C;S++)this[T](R[S],E,M,O,L,P,A);R=this.found}return(d||l.expressions.length>1)&&this.sort(a),s?a[0]||null:a},e.uidx=1,e.uidk="slick-uniqueid",e.getUIDXML=function(e){var t=e.getAttribute(this.uidk);return t||(t=this.uidx++,e.setAttribute(this.uidk,t)),t},e.getUIDHTML=function(e){return e.uniqueNumber||(e.uniqueNumber=this.uidx++)},e.sort=function(e){return this.documentSorter?(e.sort(this.documentSorter),e):e},e.cacheNTH={},e.matchNTH=/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/,e.parseNTHArgument=function(e){var t=e.match(this.matchNTH);if(!t)return!1;var n=t[2]||!1,i=t[1]||1;"-"==i&&(i=-1);var r=+t[3]||0;return t="n"==n?{a:i,b:r}:"odd"==n?{a:2,b:1}:"even"==n?{a:2,b:0}:{a:0,b:i},this.cacheNTH[e]=t},e.createNTHPseudo=function(e,t,n,i){return function(r,o){var s=this.getUID(r);if(!this[n][s]){var a=r.parentNode;if(!a)return!1;var l=a[e],c=1;if(i){var u=r.nodeName;do{l.nodeName==u&&(this[n][this.getUID(l)]=c++)}while(l=l[t])}else do{1==l.nodeType&&(this[n][this.getUID(l)]=c++)}while(l=l[t])}o=o||"n";var p=this.cacheNTH[o]||this.parseNTHArgument(o);if(!p)return!1;var h=p.a,f=p.b,d=this[n][s];if(0==h)return f==d;if(h>0){if(d<f)return!1}else if(f<d)return!1;return(d-f)%h==0}},e.pushArray=function(e,t,n,i,r,o){this.matchSelector(e,t,n,i,r,o)&&this.found.push(e)},e.pushUID=function(e,t,n,i,r,o){var s=this.getUID(e);!this.uniques[s]&&this.matchSelector(e,t,n,i,r,o)&&(this.uniques[s]=!0,this.found.push(e))},e.matchNode=function(e,t){if(this.isHTMLDocument&&this.nativeMatchesSelector)try{return this.nativeMatchesSelector.call(e,t.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(e){}var n=this.Slick.parse(t);if(!n)return!0;var i,r,o=n.expressions,s=0;for(i=0;r=o[i];i++)if(1==r.length){var a=r[0];if(this.matchSelector(e,this.isXMLDocument?a.tag:a.tag.toUpperCase(),a.id,a.classes,a.attributes,a.pseudos))return!0;s++}if(s==n.length)return!1;var l,c=this.search(this.document,n);for(i=0;l=c[i++];)if(l===e)return!0;return!1},e.matchPseudo=function(e,t,n){var i="pseudo:"+t;if(this[i])return this[i](e,n);var r=this.getAttribute(e,t);return n?n==r:!!r},e.matchSelector=function(e,t,n,i,r,o){if(t){var s=this.isXMLDocument?e.nodeName:e.nodeName.toUpperCase();if("*"==t){if(s<"@")return!1}else if(s!=t)return!1}if(n&&e.getAttribute("id")!=n)return!1;var a,l,c;if(i)for(a=i.length;a--;)if(!(c=this.getAttribute(e,"class"))||!i[a].regexp.test(c))return!1;if(r)for(a=r.length;a--;)if((l=r[a]).operator?!l.test(this.getAttribute(e,l.key)):!this.hasAttribute(e,l.key))return!1;if(o)for(a=o.length;a--;)if(l=o[a],!this.matchPseudo(e,l.key,l.value))return!1;return!0};var s={" ":function(e,t,n,i,r,o,s){var a,l,c;if(this.isHTMLDocument){e:if(n){if(!(l=this.document.getElementById(n))&&e.all||this.idGetsName&&l&&l.getAttributeNode("id").nodeValue!=n){if(!(c=e.all[n]))return;for(c[0]||(c=[c]),a=0;l=c[a++];){var u=l.getAttributeNode("id");if(u&&u.nodeValue==n){this.push(l,t,null,i,r,o);break}}return}if(!l){if(this.contains(this.root,e))return;break e}if(this.document!==e&&!this.contains(e,l))return;return void this.push(l,t,null,i,r,o)}e:if(i&&e.getElementsByClassName&&!this.brokenGEBCN){if(!(c=e.getElementsByClassName(s.join(" ")))||!c.length)break e;for(a=0;l=c[a++];)this.push(l,t,n,null,r,o);return}}if((c=e.getElementsByTagName(t))&&c.length)for(this.brokenStarGEBTN||(t=null),a=0;l=c[a++];)this.push(l,t,n,i,r,o)},">":function(e,t,n,i,r,o){if(e=e.firstChild)do{1==e.nodeType&&this.push(e,t,n,i,r,o)}while(e=e.nextSibling)},"+":function(e,t,n,i,r,o){for(;e=e.nextSibling;)if(1==e.nodeType){this.push(e,t,n,i,r,o);break}},"^":function(e,t,n,i,r,o){(e=e.firstChild)&&(1==e.nodeType?this.push(e,t,n,i,r,o):this["combinator:+"](e,t,n,i,r,o))},"~":function(e,t,n,i,r,o){for(;e=e.nextSibling;)if(1==e.nodeType){var s=this.getUID(e);if(this.bitUniques[s])break;this.bitUniques[s]=!0,this.push(e,t,n,i,r,o)}},"++":function(e,t,n,i,r,o){this["combinator:+"](e,t,n,i,r,o),this["combinator:!+"](e,t,n,i,r,o)},"~~":function(e,t,n,i,r,o){this["combinator:~"](e,t,n,i,r,o),this["combinator:!~"](e,t,n,i,r,o)},"!":function(e,t,n,i,r,o){for(;e=e.parentNode;)e!==this.document&&this.push(e,t,n,i,r,o)},"!>":function(e,t,n,i,r,o){(e=e.parentNode)!==this.document&&this.push(e,t,n,i,r,o)},"!+":function(e,t,n,i,r,o){for(;e=e.previousSibling;)if(1==e.nodeType){this.push(e,t,n,i,r,o);break}},"!^":function(e,t,n,i,r,o){(e=e.lastChild)&&(1==e.nodeType?this.push(e,t,n,i,r,o):this["combinator:!+"](e,t,n,i,r,o))},"!~":function(e,t,n,i,r,o){for(;e=e.previousSibling;)if(1==e.nodeType){var s=this.getUID(e);if(this.bitUniques[s])break;this.bitUniques[s]=!0,this.push(e,t,n,i,r,o)}}};for(var a in s)e["combinator:"+a]=s[a];var l={empty:function(e){var t=e.firstChild;return!(t&&1==t.nodeType||(e.innerText||e.textContent||"").length)},not:function(e,t){return!this.matchNode(e,t)},contains:function(e,t){return(e.innerText||e.textContent||"").indexOf(t)>-1},"first-child":function(e){for(;e=e.previousSibling;)if(1==e.nodeType)return!1;return!0},"last-child":function(e){for(;e=e.nextSibling;)if(1==e.nodeType)return!1;return!0},"only-child":function(e){for(var t=e;t=t.previousSibling;)if(1==t.nodeType)return!1;for(var n=e;n=n.nextSibling;)if(1==n.nodeType)return!1;return!0},"nth-child":e.createNTHPseudo("firstChild","nextSibling","posNTH"),"nth-last-child":e.createNTHPseudo("lastChild","previousSibling","posNTHLast"),"nth-of-type":e.createNTHPseudo("firstChild","nextSibling","posNTHType",!0),"nth-last-of-type":e.createNTHPseudo("lastChild","previousSibling","posNTHTypeLast",!0),index:function(e,t){return this["pseudo:nth-child"](e,""+(t+1))},even:function(e){return this["pseudo:nth-child"](e,"2n")},odd:function(e){return this["pseudo:nth-child"](e,"2n+1")},"first-of-type":function(e){for(var t=e.nodeName;e=e.previousSibling;)if(e.nodeName==t)return!1;return!0},"last-of-type":function(e){for(var t=e.nodeName;e=e.nextSibling;)if(e.nodeName==t)return!1;return!0},"only-of-type":function(e){for(var t=e,n=e.nodeName;t=t.previousSibling;)if(t.nodeName==n)return!1;for(var i=e;i=i.nextSibling;)if(i.nodeName==n)return!1;return!0},enabled:function(e){return!e.disabled},disabled:function(e){return e.disabled},checked:function(e){return e.checked||e.selected},focus:function(e){return this.isHTMLDocument&&this.document.activeElement===e&&(e.href||e.type||this.hasAttribute(e,"tabindex"))},root:function(e){return e===this.root},selected:function(e){return e.selected}};for(var c in l)e["pseudo:"+c]=l[c];var u=e.attributeGetters={for:function(){return"htmlFor"in this?this.htmlFor:this.getAttribute("for")},href:function(){return"href"in this?this.getAttribute("href",2):this.getAttribute("href")},style:function(){return this.style?this.style.cssText:this.getAttribute("style")},tabindex:function(){var e=this.getAttributeNode("tabindex");return e&&e.specified?e.nodeValue:null},type:function(){return this.getAttribute("type")},maxlength:function(){var e=this.getAttributeNode("maxLength");return e&&e.specified?e.nodeValue:null}};u.MAXLENGTH=u.maxLength=u.maxlength;var p=e.Slick=this.Slick||{};p.version="1.1.7",p.search=function(t,n,i){return e.search(t,n,i)},p.find=function(t,n){return e.search(t,n,null,!0)},p.contains=function(t,n){return e.setDocument(t),e.contains(t,n)},p.getAttribute=function(t,n){return e.setDocument(t),e.getAttribute(t,n)},p.hasAttribute=function(t,n){return e.setDocument(t),e.hasAttribute(t,n)},p.match=function(t,n){return!(!t||!n)&&(!n||n===t||(e.setDocument(t),e.matchNode(t,n)))},p.defineAttributeGetter=function(t,n){return e.attributeGetters[t]=n,this},p.lookupAttributeGetter=function(t){return e.attributeGetters[t]},p.definePseudo=function(t,n){return e["pseudo:"+t]=function(e,t){return n.call(e,t)},this},p.lookupPseudo=function(t){var n=e["pseudo:"+t];return n?function(e){return n.call(this,e)}:null},p.override=function(t,n){return e.override(t,n),this},p.isXML=e.isXML,p.uidOf=function(t){return e.getUIDHTML(t)},this.Slick||(this.Slick=p)}.apply("undefined"!=typeof exports?exports:this);var Element=this.Element=function(e,t){var n=Element.Constructors[e];if(n)return n(t);if("string"!=typeof e)return document.id(e).set(t);if(t||(t={}),!/^[\w-]+$/.test(e)){var i=Slick.parse(e).expressions[0][0];e="*"==i.tag?"div":i.tag,i.id&&null==t.id&&(t.id=i.id);var r=i.attributes;if(r)for(var o,s=0,a=r.length;s<a;s++)null==t[(o=r[s]).key]&&(null!=o.value&&"="==o.operator?t[o.key]=o.value:o.value||o.operator||(t[o.key]=!0));i.classList&&null==t.class&&(t.class=i.classList.join(" "))}return document.newElement(e,t)};Browser.Element&&(Element.prototype=Browser.Element.prototype,Element.prototype._fireEvent=function(e){return function(t,n){return e.call(this,t,n)}}(Element.prototype.fireEvent)),new Type("Element",Element).mirror(function(e){if(!Array.prototype[e]){var t={};t[e]=function(){for(var t=[],n=arguments,i=!0,r=0,o=this.length;r<o;r++){var s=this[r],a=t[r]=s[e].apply(s,n);i=i&&"element"==typeOf(a)}return i?new Elements(t):t},Elements.implement(t)}}),Browser.Element||(Element.parent=Object,Element.Prototype={$constructor:Element,$family:Function.convert("element").hide()},Element.mirror(function(e,t){Element.Prototype[e]=t})),Element.Constructors={},Element.Constructors=new Hash;var IFrame=new Type("IFrame",function(){var e,t=Array.link(arguments,{properties:Type.isObject,iframe:function(e){return null!=e}}),n=t.properties||{};t.iframe&&(e=document.id(t.iframe));var i=n.onload||function(){};delete n.onload,n.id=n.name=[n.id,n.name,e?e.id||e.name:"IFrame_"+String.uniqueID()].pick(),e=new Element(e||"iframe",n);var r=function(){i.call(e.contentWindow)};return window.frames[n.id]?r():e.addListener("load",r),e}),Elements=this.Elements=function(e){if(e&&e.length)for(var t,n={},i=0;t=e[i++];){var r=Slick.uidOf(t);n[r]||(n[r]=!0,this.push(t))}};Elements.prototype={length:0},Elements.parent=Array,new Type("Elements",Elements).implement({filter:function(e,t){return e?new Elements(Array.filter(this,"string"==typeOf(e)?function(t){return t.match(e)}:e,t)):this}.protect(),push:function(){for(var e=this.length,t=0,n=arguments.length;t<n;t++){var i=document.id(arguments[t]);i&&(this[e++]=i)}return this.length=e}.protect(),unshift:function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var i=document.id(arguments[t]);i&&e.push(i)}return Array.prototype.unshift.apply(this,e)}.protect(),concat:function(){for(var e=new Elements(this),t=0,n=arguments.length;t<n;t++){var i=arguments[t];Type.isEnumerable(i)?e.append(i):e.push(i)}return e}.protect(),append:function(e){for(var t=0,n=e.length;t<n;t++)this.push(e[t]);return this}.protect(),empty:function(){for(;this.length;)delete this[--this.length];return this}.protect()}),Elements.alias("extend","append"),function(){var e=Array.prototype.splice,t={0:0,1:1,length:2};e.call(t,1,1),1==t[1]&&Elements.implement("splice",function(){for(var t=this.length,n=e.apply(this,arguments);t>=this.length;)delete this[t--];return n}.protect()),Array.forEachMethod(function(e,t){Elements.implement(t,e)}),Array.mirror(Elements);var n;try{n="x"==document.createElement("<input name=x>").name}catch(e){}var i=function(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},r=function(){var e=document.createElement("style"),t=!1;try{e.innerHTML="#justTesing{margin: 0px;}",t=!!e.innerHTML}catch(e){}return t}();Document.implement({newElement:function(e,t){if(t){if(null!=t.checked&&(t.defaultChecked=t.checked),"checkbox"!=t.type&&"radio"!=t.type||null!=t.value||(t.value="on"),!r&&"style"==e){var o=document.createElement("style");return o.setAttribute("type","text/css"),t.type&&delete t.type,this.id(o).set(t)}n&&(e="<"+e,t.name&&(e+=' name="'+i(t.name)+'"'),t.type&&(e+=' type="'+i(t.type)+'"'),e+=">",delete t.name,delete t.type)}return this.id(this.createElement(e)).set(t)}})}(),function(){Slick.uidOf(window),Slick.uidOf(document),Document.implement({newTextNode:function(e){return this.createTextNode(e)},getDocument:function(){return this},getWindow:function(){return this.window},id:function(){var e={string:function(t,n,i){return(t=Slick.find(i,"#"+t.replace(/(\W)/g,"\\$1")))?e.element(t,n):null},element:function(e,t){if(Slick.uidOf(e),!t&&!e.$family&&!/^(?:object|embed)$/i.test(e.tagName)){var n=e.fireEvent;e._fireEvent=function(e,t){return n(e,t)},Object.append(e,Element.Prototype)}return e},object:function(t,n,i){return t.toElement?e.element(t.toElement(i),n):null}};return e.textnode=e.whitespace=e.window=e.document=function(e){return e},function(t,n,i){if(t&&t.$family&&t.uniqueNumber)return t;var r=typeOf(t);return e[r]?e[r](t,n,i||document):null}}()}),null==window.$&&Window.implement("$",function(e,t){return document.id(e,t,this.document)}),Window.implement({getDocument:function(){return this.document},getWindow:function(){return this}}),[Document,Element].invoke("implement",{getElements:function(e){return Slick.search(this,e,new Elements)},getElement:function(e){return document.id(Slick.find(this,e))}});var e={contains:function(e){return Slick.contains(this,e)}};document.contains||Document.implement(e),document.createElement("div").contains||Element.implement(e),Element.implement("hasChild",function(e){return this!==e&&this.contains(e)}),function(e,t,n){this.Selectors={};var i=this.Selectors.Pseudo=new Hash,r=function(){for(var e in i)i.hasOwnProperty(e)&&(Slick.definePseudo(e,i[e]),delete i[e])};Slick.search=function(t,n,i){return r(),e.call(this,t,n,i)},Slick.find=function(e,n){return r(),t.call(this,e,n)},Slick.match=function(e,t){return r(),n.call(this,e,t)}}(Slick.search,Slick.find,Slick.match);var t=function(e,t){if(!e)return t;for(var n=(e=Object.clone(Slick.parse(e))).expressions,i=n.length;i--;)n[i][0].combinator=t;return e};Object.forEach({getNext:"~",getPrevious:"!~",getParent:"!"},function(e,n){Element.implement(n,function(n){return this.getElement(t(n,e))})}),Object.forEach({getAllNext:"~",getAllPrevious:"!~",getSiblings:"~~",getChildren:">",getParents:"!"},function(e,n){Element.implement(n,function(n){return this.getElements(t(n,e))})}),Element.implement({getFirst:function(e){return document.id(Slick.search(this,t(e,">"))[0])},getLast:function(e){return document.id(Slick.search(this,t(e,">")).getLast())},getWindow:function(){return this.ownerDocument.window},getDocument:function(){return this.ownerDocument},getElementById:function(e){return document.id(Slick.find(this,"#"+(""+e).replace(/(\W)/g,"\\$1")))},match:function(e){return!e||Slick.match(this,e)}}),null==window.$$&&Window.implement("$$",function(e){var t=new Elements;if(1==arguments.length&&"string"==typeof e)return Slick.search(this.document,e,t);for(var n=Array.flatten(arguments),i=0,r=n.length;i<r;i++){var o=n[i];switch(typeOf(o)){case"element":t.push(o);break;case"string":Slick.search(this.document,o,t)}}return t}),null==window.$$&&Window.implement("$$",function(e){if(1==arguments.length){if("string"==typeof e)return Slick.search(this.document,e,new Elements);if(Type.isEnumerable(e))return new Elements(e)}return new Elements(arguments)});var n={before:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)},after:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t.nextSibling)},bottom:function(e,t){t.appendChild(e)},top:function(e,t){t.insertBefore(e,t.firstChild)}};n.inside=n.bottom,Object.each(n,function(e,t){var n={};n["inject"+(t=t.capitalize())]=function(t){return e(this,document.id(t,!0)),this},n["grab"+t]=function(t){return e(document.id(t,!0),this),this},Element.implement(n)});var i={},r={},o={};Array.forEach(["type","value","defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","rowSpan","tabIndex","useMap"],function(e){o[e.toLowerCase()]=e}),o.html="innerHTML",o.text=null==document.createElement("div").textContent?"innerText":"textContent",Object.forEach(o,function(e,t){r[t]=function(t,n){t[e]=n},i[t]=function(t){return t[e]}}),r.text=(r.text,function(e,t){"style"==e.get("tag")?e.set("html",t):e[o.text]=t}),i.text=function(e){return function(t){return"style"==t.get("tag")?t.innerHTML:e(t)}}(i.text);var s={};Array.forEach(["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked","autofocus","controls","autoplay","loop"],function(e){var t=e.toLowerCase();s[t]=e,r[t]=function(t,n){t[e]=!!n},i[t]=function(t){return!!t[e]}}),Object.append(r,{class:function(e,t){"className"in e?e.className=t||"":e.setAttribute("class",t)},for:function(e,t){"htmlFor"in e?e.htmlFor=t:e.setAttribute("for",t)},style:function(e,t){e.style?e.style.cssText=t:e.setAttribute("style",t)},value:function(e,t){e.value=null!=t?t:""}}),i.class=function(e){return"className"in e?e.className||null:e.getAttribute("class")};var a=document.createElement("button");try{a.type="button"}catch(e){}"button"!=a.type&&(r.type=function(e,t){e.setAttribute("type",t)}),a=null;var c,u,p=function(){var e=document.createElement("style"),t=!1;try{e.innerHTML="#justTesing{margin: 0px;}",t=!!e.innerHTML}catch(e){}return t}(),h=document.createElement("input");h.value="t",h.type="submit",c="t"!=h.value;try{h.value="",h.type="email",u="email"==h.type}catch(e){}h=null,!c&&u||(r.type=function(e,t){try{var n=e.value;e.type=t,e.value=n}catch(e){}});var f=function(e){return e.random="attribute","attribute"==e.getAttribute("random")}(document.createElement("div")),d=function(e){return e.innerHTML='<object><param name="should_fix" value="the unknown" /></object>',1!=e.cloneNode(!0).firstChild.childNodes.length}(document.createElement("div")),y=!!document.createElement("div").classList,m=function(e){var t={};return(e||"").clean().split(" ").filter(function(e){if(""!==e&&!t[e])return t[e]=e})},g=function(e){this.classList.add(e)},v=function(e){this.classList.remove(e)};Element.implement({setProperty:function(e,t){var n=r[e.toLowerCase()];if(n)n(this,t);else{var i;f&&(i=this.retrieve("$attributeWhiteList",{})),null==t?(this.removeAttribute(e),f&&delete i[e]):(this.setAttribute(e,""+t),f&&(i[e]=!0))}return this},setProperties:function(e){for(var t in e)this.setProperty(t,e[t]);return this},getProperty:function(e){var t=i[e.toLowerCase()];if(t)return t(this);if(f){var n=this.getAttributeNode(e),r=this.retrieve("$attributeWhiteList",{});if(!n)return null;if(n.expando&&!r[e]){var o=this.outerHTML;if(o.substr(0,o.search(/\/?['"]?>(?![^<]*<['"])/)).indexOf(e)<0)return null;r[e]=!0}}var s=Slick.getAttribute(this,e);return s||Slick.hasAttribute(this,e)?s:null},getProperties:function(){var e=Array.convert(arguments);return e.map(this.getProperty,this).associate(e)},removeProperty:function(e){return this.setProperty(e,null)},removeProperties:function(){return Array.each(arguments,this.removeProperty,this),this},set:function(e,t){var n=Element.Properties[e];n&&n.set?n.set.call(this,t):this.setProperty(e,t)}.overloadSetter(),get:function(e){var t=Element.Properties[e];return t&&t.get?t.get.apply(this):this.getProperty(e)}.overloadGetter(),erase:function(e){var t=Element.Properties[e];return t&&t.erase?t.erase.apply(this):this.removeProperty(e),this},hasClass:y?function(e){return this.classList.contains(e)}:function(e){return m(this.className).contains(e)},addClass:y?function(e){return m(e).forEach(g,this),this}:function(e){return this.className=m(e+" "+this.className).join(" "),this},removeClass:y?function(e){return m(e).forEach(v,this),this}:function(e){var t=m(this.className);return m(e).forEach(t.erase,t),this.className=t.join(" "),this},toggleClass:function(e,t){return null==t&&(t=!this.hasClass(e)),t?this.addClass(e):this.removeClass(e)},adopt:function(){var e,t=this,n=Array.flatten(arguments),i=n.length;i>1&&(t=e=document.createDocumentFragment());for(var r=0;r<i;r++){var o=document.id(n[r],!0);o&&t.appendChild(o)}return e&&this.appendChild(e),this},appendText:function(e,t){return this.grab(this.getDocument().newTextNode(e),t)},grab:function(e,t){return n[t||"bottom"](document.id(e,!0),this),this},inject:function(e,t){return n[t||"bottom"](this,document.id(e,!0)),this},replaces:function(e){return(e=document.id(e,!0)).parentNode.replaceChild(this,e),this},wraps:function(e,t){return e=document.id(e,!0),this.replaces(e).grab(e,t)},getSelected:function(){return this.selectedIndex,new Elements(Array.convert(this.options).filter(function(e){return e.selected}))},toQueryString:function(){var e=[];return this.getElements("input, select, textarea").each(function(t){var n=t.type;if(t.name&&!t.disabled&&"submit"!=n&&"reset"!=n&&"file"!=n&&"image"!=n){var i="select"==t.get("tag")?t.getSelected().map(function(e){return document.id(e).get("value")}):"radio"!=n&&"checkbox"!=n||t.checked?t.get("value"):null;Array.convert(i).each(function(n){void 0!==n&&e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(n))})}}),e.join("&")}});var b={before:"beforeBegin",after:"afterEnd",bottom:"beforeEnd",top:"afterBegin",inside:"beforeEnd"};Element.implement("appendHTML","insertAdjacentHTML"in document.createElement("div")?function(e,t){return this.insertAdjacentHTML(b[t||"bottom"],e),this}:function(e,t){var i=new Element("div",{html:e}),r=i.childNodes,o=i.firstChild;if(!o)return this;if(r.length>1){o=document.createDocumentFragment();for(var s=0,a=r.length;s<a;s++)o.appendChild(r[s])}return n[t||"bottom"](o,this),this});var x={},w={},_=function(e){return w[e]||(w[e]={})},k=function(e){var t=e.uniqueNumber;return e.removeEvents&&e.removeEvents(),e.clearAttributes&&e.clearAttributes(),null!=t&&(delete x[t],delete w[t]),e},S={input:"checked",option:"selected",textarea:"value"};if(Element.implement({destroy:function(){var e=k(this).getElementsByTagName("*");return Array.each(e,k),Element.dispose(this),null},empty:function(){return Array.convert(this.childNodes).each(Element.dispose),this},dispose:function(){return this.parentNode?this.parentNode.removeChild(this):this},clone:function(e,t){e=!1!==e;var n,i=this.cloneNode(e),r=[i],o=[this];for(e&&(r.append(Array.convert(i.getElementsByTagName("*"))),o.append(Array.convert(this.getElementsByTagName("*")))),n=r.length;n--;){var s=r[n],a=o[n];if(t||s.removeAttribute("id"),s.clearAttributes&&(s.clearAttributes(),s.mergeAttributes(a),s.removeAttribute("uniqueNumber"),s.options))for(var l=s.options,c=a.options,u=l.length;u--;)l[u].selected=c[u].selected;var p=S[a.tagName.toLowerCase()];p&&a[p]&&(s[p]=a[p])}if(d){var h=i.getElementsByTagName("object"),f=this.getElementsByTagName("object");for(n=h.length;n--;)h[n].outerHTML=f[n].outerHTML}return document.id(i)}}),[Element,Window,Document].invoke("implement",{addListener:function(e,t){return window.attachEvent&&!window.addEventListener&&(x[Slick.uidOf(this)]=this),this.addEventListener?this.addEventListener(e,t,!!arguments[2]):this.attachEvent("on"+e,t),this},removeListener:function(e,t){return this.removeEventListener?this.removeEventListener(e,t,!!arguments[2]):this.detachEvent("on"+e,t),this},retrieve:function(e,t){var n=_(Slick.uidOf(this)),i=n[e];return null!=t&&null==i&&(i=n[e]=t),null!=i?i:null},store:function(e,t){return _(Slick.uidOf(this))[e]=t,this},eliminate:function(e){return delete _(Slick.uidOf(this))[e],this}}),window.attachEvent&&!window.addEventListener){var C=function(){Object.each(x,k),window.CollectGarbage&&CollectGarbage(),window.removeListener("unload",C)};window.addListener("unload",C)}Element.Properties={},Element.Properties=new Hash,Element.Properties.style={set:function(e){this.style.cssText=e},get:function(){return this.style.cssText},erase:function(){this.style.cssText=""}},Element.Properties.tag={get:function(){return this.tagName.toLowerCase()}},Element.Properties.html={set:function(e){null==e?e="":"array"==typeOf(e)&&(e=e.join("")),this.styleSheet&&!p?this.styleSheet.cssText=e:this.innerHTML=e},erase:function(){this.set("html","")}};var T,E=!0,M=!0,A=!0,O=document.createElement("div");if(O.innerHTML="<nav></nav>",!(E=1==O.childNodes.length)){var L="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");for(T=document.createDocumentFragment(),l=L.length;l--;)T.createElement(L[l])}O=null,M=Function.attempt(function(){return document.createElement("table").innerHTML="<tr><td></td></tr>",!0});var P=document.createElement("tr");P.innerHTML="<td></td>",A="<td></td>"==P.innerHTML,P=null,M&&A&&E||(Element.Properties.html.set=function(e){var t={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};return t.thead=t.tfoot=t.tbody,function(n){if(this.styleSheet)return e.call(this,n);var i=t[this.get("tag")];if(i||E||(i=[0,"",""]),!i)return e.call(this,n);var r=i[0],o=document.createElement("div"),s=o;for(E||T.appendChild(o),o.innerHTML=[i[1],n,i[2]].flatten().join("");r--;)s=s.firstChild;this.empty().adopt(s.childNodes),E||T.removeChild(o),o=null}}(Element.Properties.html.set));var R=document.createElement("form");R.innerHTML="<select><option>s</option></select>","s"!=R.firstChild.value&&(Element.Properties.value={set:function(e){if("select"!=this.get("tag"))return this.setProperty("value",e);var t=this.getElements("option");e=String(e);for(var n=0;n<t.length;n++){var i=t[n],r=i.getAttributeNode("value");if((r&&r.specified?i.value:i.get("text"))===e)return i.selected=!0}},get:function(){var e=this,t=e.get("tag");if("select"!=t&&"option"!=t)return this.getProperty("value");if("select"==t&&!(e=e.getSelected()[0]))return"";var n=e.getAttributeNode("value");return n&&n.specified?e.value:e.get("text")}}),R=null,document.createElement("div").getAttributeNode("id")&&(Element.Properties.id={set:function(e){this.id=this.getAttributeNode("id").value=e},get:function(){return this.id||null},erase:function(){this.id=this.getAttributeNode("id").value=""}})}(),function(){var e={},t=this.DOMEvent=new Type("DOMEvent",function(t,n){if(n||(n=window),(t=t||n.event).$extended)return t;this.event=t,this.$extended=!0,this.shift=t.shiftKey,this.control=t.ctrlKey,this.alt=t.altKey,this.meta=t.metaKey;for(var i=this.type=t.type,r=t.target||t.srcElement;r&&3==r.nodeType;)r=r.parentNode;if(this.target=document.id(r),0==i.indexOf("key")){var o=this.code=t.which||t.keyCode;this.shift&&"keypress"==i||(this.key=e[o]||Object.keyOf(Event.Keys,o)),"keydown"!=i&&"keyup"!=i||(o>111&&o<124?this.key="f"+(o-111):o>95&&o<106&&(this.key=o-96)),null==this.key&&(this.key=String.fromCharCode(o).toLowerCase())}else if("click"==i||"dblclick"==i||"contextmenu"==i||"wheel"==i||"DOMMouseScroll"==i||0==i.indexOf("mouse")){var s=n.document;if(s=s.compatMode&&"CSS1Compat"!=s.compatMode?s.body:s.html,this.page={x:null!=t.pageX?t.pageX:t.clientX+s.scrollLeft,y:null!=t.pageY?t.pageY:t.clientY+s.scrollTop},this.client={x:null!=t.pageX?t.pageX-n.pageXOffset:t.clientX,y:null!=t.pageY?t.pageY-n.pageYOffset:t.clientY},"DOMMouseScroll"!=i&&"wheel"!=i&&"mousewheel"!=i||(this.wheel=function(e){var t;if(e.wheelDelta)t=e.wheelDelta%120==0?e.wheelDelta/120:e.wheelDelta/12;else{var n=e.deltaY||e.detail||0;t=-(n%3==0?n/3:10*n)}return t}(t)),this.rightClick=3==t.which||2==t.button,"mouseover"==i||"mouseout"==i||"mouseenter"==i||"mouseleave"==i){for(var a="mouseover"==i||"mouseenter"==i,l=t.relatedTarget||t[(a?"from":"to")+"Element"];l&&3==l.nodeType;)l=l.parentNode;this.relatedTarget=document.id(l)}}else if(0==i.indexOf("touch")||0==i.indexOf("gesture")){this.rotation=t.rotation,this.scale=t.scale,this.targetTouches=t.targetTouches,this.changedTouches=t.changedTouches;var c=this.touches=t.touches;if(c&&c[0]){var u=c[0];this.page={x:u.pageX,y:u.pageY},this.client={x:u.clientX,y:u.clientY}}}this.client||(this.client={}),this.page||(this.page={})});t.implement({stop:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this}}),t.defineKey=function(t,n){return e[t]=n,this},t.defineKeys=t.defineKey.overloadSetter(!0),t.defineKeys({38:"up",40:"down",37:"left",39:"right",27:"esc",32:"space",8:"backspace",9:"tab",46:"delete",13:"enter"})}();var Event=this.Event=DOMEvent;Event.Keys={},Event.Keys=new Hash(Event.Keys),function(){Element.Properties.events={set:function(e){this.addEvents(e)}},[Element,Window,Document].invoke("implement",{addEvent:function(e,t){var n=this.retrieve("events",{});if(n[e]||(n[e]={keys:[],values:[]}),n[e].keys.contains(t))return this;n[e].keys.push(t);var i=e,r=Element.Events[e],o=t,s=this;r&&(r.onAdd&&r.onAdd.call(this,t,e),r.condition&&(o=function(n){return!r.condition.call(this,n,e)||t.call(this,n)}),r.base&&(i=Function.convert(r.base).call(this,e)));var a=function(){return t.call(s)},l=Element.NativeEvents[i];return l&&(2==l&&(a=function(e){e=new DOMEvent(e,s.getWindow()),!1===o.call(s,e)&&e.stop()}),this.addListener(i,a,arguments[2])),n[e].values.push(a),this},removeEvent:function(e,t){var n=this.retrieve("events");if(!n||!n[e])return this;var i=n[e],r=i.keys.indexOf(t);if(-1==r)return this;var o=i.values[r];delete i.keys[r],delete i.values[r];var s=Element.Events[e];return s&&(s.onRemove&&s.onRemove.call(this,t,e),s.base&&(e=Function.convert(s.base).call(this,e))),Element.NativeEvents[e]?this.removeListener(e,o,arguments[2]):this},addEvents:function(e){for(var t in e)this.addEvent(t,e[t]);return this},removeEvents:function(e){var t;if("object"==typeOf(e)){for(t in e)this.removeEvent(t,e[t]);return this}var n=this.retrieve("events");if(!n)return this;if(e)n[e]&&(n[e].keys.each(function(t){this.removeEvent(e,t)},this),delete n[e]);else{for(t in n)this.removeEvents(t);this.eliminate("events")}return this},fireEvent:function(e,t,n){var i=this.retrieve("events");return i&&i[e]?(t=Array.convert(t),i[e].keys.each(function(e){n?e.delay(n,this,t):e.apply(this,t)},this),this):this},cloneEvents:function(e,t){var n=(e=document.id(e)).retrieve("events");if(!n)return this;if(t)n[t]&&n[t].keys.each(function(e){this.addEvent(t,e)},this);else for(var i in n)this.cloneEvents(e,i);return this}}),Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,wheel:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,paste:2,input:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,hashchange:1,popstate:2,pageshow:2,pagehide:2,error:1,abort:1,scroll:1,message:2},Element.Events={mousewheel:{base:"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"}};var e=function(e){var t=e.relatedTarget;return null==t||!!t&&(t!=this&&"xul"!=t.prefix&&"document"!=typeOf(this)&&!this.contains(t))};"onmouseenter"in document.documentElement?(Element.NativeEvents.mouseenter=Element.NativeEvents.mouseleave=2,Element.MouseenterCheck=e):(Element.Events.mouseenter={base:"mouseover",condition:e},Element.Events.mouseleave={base:"mouseout",condition:e}),window.addEventListener||(Element.NativeEvents.propertychange=2,Element.Events.change={base:function(){var e=this.type;return"input"!=this.get("tag")||"radio"!=e&&"checkbox"!=e?"change":"propertychange"},condition:function(e){return"propertychange"!=e.type||"checked"==e.event.propertyName}}),Element.Events=new Hash(Element.Events)}(),function(){var e=!!window.addEventListener;Element.NativeEvents.focusin=Element.NativeEvents.focusout=2;var t=function(e,t,n,i,r){for(;r&&r!=e;){if(t(r,i))return n.call(r,i,r);r=document.id(r.parentNode)}},n={mouseenter:{base:"mouseover",condition:Element.MouseenterCheck},mouseleave:{base:"mouseout",condition:Element.MouseenterCheck},focus:{base:"focus"+(e?"":"in"),capture:!0},blur:{base:e?"blur":"focusout",capture:!0}},i="$delegation:",r=function(e){return{base:"focusin",remove:function(t,n){var r=t.retrieve(i+e+"listeners",{})[n];if(r&&r.forms)for(var o=r.forms.length;o--;)r.forms[o].removeEvent&&r.forms[o].removeEvent(e,r.fns[o])},listen:function(n,r,o,s,a,l){var c="form"==a.get("tag")?a:s.target.getParent("form");if(c){var u=n.retrieve(i+e+"listeners",{}),p=u[l]||{forms:[],fns:[]},h=p.forms,f=p.fns;if(-1==h.indexOf(c)){h.push(c);var d=function(e){t(n,r,o,e,a)};c.addEvent(e,d),f.push(d),u[l]=p,n.store(i+e+"listeners",u)}}}}},o=function(e){return{base:"focusin",listen:function(n,i,r,o,s){var a={blur:function(){this.removeEvents(a)}};a[e]=function(e){t(n,i,r,e,s)},o.target.addEvents(a)}}};e||Object.append(n,{submit:r("submit"),reset:r("reset"),change:o("change"),select:o("select")});var s=Element.prototype,a=s.addEvent,l=s.removeEvent,c=function(e,t){return function(n,i,r){if(-1==n.indexOf(":relay"))return e.call(this,n,i,r);var o=Slick.parse(n).expressions[0][0];if("relay"!=o.pseudos[0].key)return e.call(this,n,i,r);var s=o.tag;return o.pseudos.slice(1).each(function(e){s+=":"+e.key+(e.value?"("+e.value+")":"")}),e.call(this,n,i),t.call(this,s,o.pseudos[0].value,i)}},u={addEvent:function(e,i,r){var o=this.retrieve("$delegates",{}),s=o[e];if(s)for(var l in s)if(s[l].fn==r&&s[l].match==i)return this;var c=e,u=i,p=r,h=n[e]||{};e=h.base||c,i=function(e){return Slick.match(e,u)};var f=Element.Events[c];if(h.condition||f&&f.condition){var d=i,y=h.condition||f.condition;i=function(t,n){return d(t,n)&&y.call(t,n,e)}}var m=this,g=String.uniqueID(),v=h.listen?function(e,t){!t&&e&&e.target&&(t=e.target),t&&h.listen(m,i,r,e,t,g)}:function(e,n){!n&&e&&e.target&&(n=e.target),n&&t(m,i,r,e,n)};return s||(s={}),s[g]={match:u,fn:p,delegator:v},o[c]=s,a.call(this,e,v,h.capture)},removeEvent:function(e,t,i,r){var o=this.retrieve("$delegates",{}),s=o[e];if(!s)return this;if(r){var a=e,c=s[r].delegator,p=n[e]||{};return e=p.base||a,p.remove&&p.remove(this,r),delete s[r],o[a]=s,l.call(this,e,c,p.capture)}var h,f;if(i){for(h in s)if((f=s[h]).match==t&&f.fn==i)return u.removeEvent.call(this,e,t,i,h)}else for(h in s)(f=s[h]).match==t&&u.removeEvent.call(this,e,t,f.fn,h);return this}};[Element,Window,Document].invoke("implement",{addEvent:c(a,u.addEvent),removeEvent:c(l,u.removeEvent)})}(),function(){var e,t=document.html;(e=document.createElement("div")).style.color="red",e.style.color=null;var n="red"==e.style.color;e.style.border="1px solid #123abc";var i="1px solid #123abc"!=e.style.border;e=null;var r=!!window.getComputedStyle,o=null!=document.createElement("div").style.borderRadius;Element.Properties.styles={set:function(e){this.setStyles(e)}};var s=null!=t.style.opacity,a=null!=t.style.filter,l=/alpha\(opacity=([\d.]+)\)/i,c=function(e,t){e.store("$opacity",t),e.style.visibility=t>0||null==t?"visible":"hidden"},u=function(e,t,n){var i=e.style,r=i.filter||e.getComputedStyle("filter")||"";i.filter=(t.test(r)?r.replace(t,n):r+" "+n).trim(),i.filter||i.removeAttribute("filter")},p=s?function(e,t){e.style.opacity=t}:a?function(e,t){e.currentStyle&&e.currentStyle.hasLayout||(e.style.zoom=1),null==t||1==t?(u(e,l,""),1==t&&1!=h(e)&&u(e,l,"alpha(opacity=100)")):u(e,l,"alpha(opacity="+(100*t).limit(0,100).round()+")")}:c,h=s?function(e){var t=e.style.opacity||e.getComputedStyle("opacity");return""==t?1:t.toFloat()}:a?function(e){var t,n=e.style.filter||e.getComputedStyle("filter");return n&&(t=n.match(l)),null==t||null==n?1:t[1]/100}:function(e){var t=e.retrieve("$opacity");return null==t&&(t="hidden"==e.style.visibility?0:1),t},f=null==t.style.cssFloat?"styleFloat":"cssFloat",d={left:"0%",top:"0%",center:"50%",right:"100%",bottom:"100%"},y=null!=t.style.backgroundPositionX,m=/^-(ms)-/,g=function(e){return e.replace(m,"$1-").camelCase()};Element.implement({getComputedStyle:function(e){if(!r&&this.currentStyle)return this.currentStyle[g(e)];var t=Element.getDocument(this).defaultView,n=t?t.getComputedStyle(this,null):null;return n?n.getPropertyValue(e==f?"float":e.hyphenate()):""},setStyle:function(e,t){if("opacity"==e)return null!=t&&(t=parseFloat(t)),p(this,t),this;if(e=g("float"==e?f:e),"string"!=typeOf(t)){var i=(Element.Styles[e]||"@").split(" ");t=Array.convert(t).map(function(e,t){return i[t]?"number"==typeOf(e)?i[t].replace("@",Math.round(e)):e:""}).join(" ")}else t==String(Number(t))&&(t=Math.round(t));return this.style[e]=t,(""==t||null==t)&&n&&this.style.removeAttribute&&function(e,t){"backgroundPosition"==t&&(e.removeAttribute(t+"X"),t+="Y"),e.removeAttribute(t)}(this.style,e),this},getStyle:function(e){if("opacity"==e)return h(this);if(e=g("float"==e?f:e),o&&-1!=e.indexOf("borderRadius"))return["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"].map(function(e){return this.style[e]||"0px"},this).join(" ");var t=this.style[e];if(!t||"zIndex"==e){if(Element.ShortStyles.hasOwnProperty(e)){t=[];for(var n in Element.ShortStyles[e])t.push(this.getStyle(n));return t.join(" ")}t=this.getComputedStyle(e)}if(y&&/^backgroundPosition[XY]?$/.test(e))return t.replace(/(top|right|bottom|left)/g,function(e){return d[e]})||"0px";if(!t&&"backgroundPosition"==e)return"0px 0px";if(t){var s=(t=String(t)).match(/rgba?\([\d\s,]+\)/);s&&(t=t.replace(s[0],s[0].rgbToHex()))}if(!r&&!this.style[e]){if(/^(height|width)$/.test(e)&&!/px$/.test(t)){var a=0;return("width"==e?["left","right"]:["top","bottom"]).each(function(e){a+=this.getStyle("border-"+e+"-width").toInt()+this.getStyle("padding-"+e).toInt()},this),this["offset"+e.capitalize()]-a+"px"}if(/^border(.+)Width|margin|padding/.test(e)&&isNaN(parseFloat(t)))return"0px"}return i&&/^border(Top|Right|Bottom|Left)?$/.test(e)&&/^#/.test(t)?t.replace(/^(.+)\s(.+)\s(.+)$/,"$2 $3 $1"):t},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},getStyles:function(){var e={};return Array.flatten(arguments).each(function(t){e[t]=this.getStyle(t)},this),e}}),Element.Styles={left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundSize:"@px",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@",borderRadius:"@px @px @px @px"},Element.implement({setOpacity:function(e){return p(this,e),this},getOpacity:function(){return h(this)}}),Element.Properties.opacity={set:function(e){p(this,e),c(this,e)},get:function(){return h(this)}},Element.Styles=new Hash(Element.Styles),Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}},["Top","Right","Bottom","Left"].each(function(e){var t=Element.ShortStyles,n=Element.Styles;["margin","padding"].each(function(i){var r=i+e;t[i][r]=n[r]="@px"});var i="border"+e;t.border[i]=n[i]="@px @ rgb(@, @, @)";var r=i+"Width",o=i+"Style",s=i+"Color";t[i]={},t.borderWidth[r]=t[i][r]=n[r]="@px",t.borderStyle[o]=t[i][o]=n[o]="@",t.borderColor[s]=t[i][s]=n[s]="rgb(@, @, @)"}),y&&(Element.ShortStyles.backgroundPosition={backgroundPositionX:"@",backgroundPositionY:"@"})}(),function(){function e(e,t){return h(e,t).toInt()||0}function t(e){return"border-box"==h(e,"-moz-box-sizing")}function n(t){return e(t,"border-top-width")}function i(t){return e(t,"border-left-width")}function r(e){return/^(?:body|html)$/i.test(e.tagName)}function o(e){var t=e.getDocument();return t.compatMode&&"CSS1Compat"!=t.compatMode?t.body:t.html}var s=document.createElement("div"),a=document.createElement("div");s.style.height="0",s.appendChild(a);var l=a.offsetParent===s;s=a=null;var c=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],u=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],p=function(e){return"static"!=h(e,"position")||r(e)};Element.implement({scrollTo:function(e,t){return r(this)?this.getWindow().scrollTo(e,t):(this.scrollLeft=e,this.scrollTop=t),this},getSize:function(){if(r(this))return this.getWindow().getSize();if(!window.getComputedStyle)return{x:this.offsetWidth,y:this.offsetHeight};if("svg"==this.get("tag"))return function(e){var t=window.getComputedStyle(e),n={x:0,y:0};return c.each(function(e){n.y+=parseFloat(t[e])}),u.each(function(e){n.x+=parseFloat(t[e])}),n}(this);try{var e=this.getBoundingClientRect();return{x:e.width,y:e.height}}catch(e){return{x:0,y:0}}},getScrollSize:function(){return r(this)?this.getWindow().getScrollSize():{x:this.scrollWidth,y:this.scrollHeight}},getScroll:function(){return r(this)?this.getWindow().getScroll():{x:this.scrollLeft,y:this.scrollTop}},getScrolls:function(){for(var e=this.parentNode,t={x:0,y:0};e&&!r(e);)t.x+=e.scrollLeft,t.y+=e.scrollTop,e=e.parentNode;return t},getOffsetParent:l?function(){var e=this;if(r(e)||"fixed"==h(e,"position"))return null;for(var t="static"==h(e,"position")?function(e){return p(e)||/^(?:table|td|th)$/i.test(e.tagName)}:p;e=e.parentNode;)if(t(e))return e;return null}:function(){if(r(this)||"fixed"==h(this,"position"))return null;try{return this.offsetParent}catch(e){}return null},getOffsets:function(){var e=this.getBoundingClientRect;if(e=e&&!Browser.Platform.ios){var o=this.getBoundingClientRect(),s=document.id(this.getDocument().documentElement),a=s.getScroll(),l=this.getScrolls(),c="fixed"==h(this,"position");return{x:o.left.toFloat()+l.x+(c?0:a.x)-s.clientLeft,y:o.top.toFloat()+l.y+(c?0:a.y)-s.clientTop}}var u=this,p={x:0,y:0};if(r(this))return p;for(;u&&!r(u);){if(p.x+=u.offsetLeft,p.y+=u.offsetTop,Browser.firefox){t(u)||(p.x+=i(u),p.y+=n(u));var f=u.parentNode;f&&"visible"!=h(f,"overflow")&&(p.x+=i(f),p.y+=n(f))}else u!=this&&Browser.safari&&(p.x+=i(u),p.y+=n(u));u=u.offsetParent}return Browser.firefox&&!t(this)&&(p.x-=i(this),p.y-=n(this)),p},getPosition:function(e){var t=this.getOffsets(),r=this.getScrolls(),o={x:t.x-r.x,y:t.y-r.y};if(e&&(e=document.id(e))){var s=e.getPosition();return{x:o.x-s.x-i(e),y:o.y-s.y-n(e)}}return o},getCoordinates:function(e){if(r(this))return this.getWindow().getCoordinates();var t=this.getPosition(e),n=this.getSize(),i={left:t.x,top:t.y,width:n.x,height:n.y};return i.right=i.left+i.width,i.bottom=i.top+i.height,i},computePosition:function(t){return{left:t.x-e(this,"margin-left"),top:t.y-e(this,"margin-top")}},setPosition:function(e){return this.setStyles(this.computePosition(e))}}),[Document,Window].invoke("implement",{getSize:function(){var e=o(this);return{x:e.clientWidth,y:e.clientHeight}},getScroll:function(){var e=this.getWindow(),t=o(this);return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop}},getScrollSize:function(){var e=o(this),t=this.getSize(),n=this.getDocument().body;return{x:Math.max(e.scrollWidth,n.scrollWidth,t.x),y:Math.max(e.scrollHeight,n.scrollHeight,t.y)}},getPosition:function(){return{x:0,y:0}},getCoordinates:function(){var e=this.getSize();return{top:0,left:0,bottom:e.y,right:e.x,height:e.y,width:e.x}}});var h=Element.getComputedStyle}(),Element.alias({position:"setPosition"}),[Window,Document,Element].invoke("implement",{getHeight:function(){return this.getSize().y},getWidth:function(){return this.getSize().x},getScrollTop:function(){return this.getScroll().y},getScrollLeft:function(){return this.getScroll().x},getScrollHeight:function(){return this.getScrollSize().y},getScrollWidth:function(){return this.getScrollSize().x},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x}}),function(){var e=this.Fx=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{fps:60,unit:!1,duration:500,frames:null,frameSkip:!0,link:"ignore"},initialize:function(e){this.subject=this.subject||this,this.setOptions(e)},getTransition:function(){return function(e){return-(Math.cos(Math.PI*e)-1)/2}},step:function(e){if(this.options.frameSkip){var t=(null!=this.time?e-this.time:0)/this.frameInterval;this.time=e,this.frame+=t}else this.frame++;if(this.frame<this.frames){var n=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,n))}else this.frame=this.frames,this.set(this.compute(this.from,this.to,1)),this.stop()},set:function(e){return e},compute:function(t,n,i){return e.compute(t,n,i)},check:function(){if(!this.isRunning())return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},start:function(t,n){if(!this.check(t,n))return this;this.from=t,this.to=n,this.frame=this.options.frameSkip?0:-1,this.time=null,this.transition=this.getTransition();var r=this.options.frames,o=this.options.fps,s=this.options.duration;return this.duration=e.Durations[s]||s.toInt(),this.frameInterval=1e3/o,this.frames=r||Math.round(this.duration/this.frameInterval),"pending"!==this.getThenableState()&&this.resetThenable(this.subject),this.fireEvent("start",this.subject),i.call(this,o),this},stop:function(){return this.isRunning()&&(this.time=null,r.call(this,this.options.fps),this.frames==this.frame?(this.fireEvent("complete",this.subject),this.callChain()||this.fireEvent("chainComplete",this.subject)):this.fireEvent("stop",this.subject),this.resolve(this.subject===this?null:this.subject)),this},cancel:function(){return this.isRunning()&&(this.time=null,r.call(this,this.options.fps),this.frame=this.frames,this.fireEvent("cancel",this.subject).clearChain(),this.reject(this.subject)),this},pause:function(){return this.isRunning()&&(this.time=null,r.call(this,this.options.fps)),this},resume:function(){return this.isPaused()&&i.call(this,this.options.fps),this},isRunning:function(){var e=t[this.options.fps];return e&&e.contains(this)},isPaused:function(){return this.frame<this.frames&&!this.isRunning()}});e.compute=function(e,t,n){return(t-e)*n+e},e.Durations={short:250,normal:500,long:1e3};var t={},n={},i=function(e){var i=t[e]||(t[e]=[]);i.push(this),n[e]||(n[e]=function(){for(var e=Date.now(),t=this.length;t--;){var n=this[t];n&&n.step(e)}}.periodical(Math.round(1e3/e),i))},r=function(e){var i=t[e];i&&(i.erase(this),!i.length&&n[e]&&(delete t[e],n[e]=clearInterval(n[e])))}}(),Fx.CSS=new Class({Extends:Fx,prepare:function(e,t,n){var i=(n=Array.convert(n))[0],r=n[1];if(null==r){r=i,i=e.getStyle(t);var o=this.options.unit;if(o&&i&&"string"==typeof i&&i.slice(-o.length)!=o&&0!=parseFloat(i)){e.setStyle(t,r+o);var s=e.getComputedStyle(t);if(!/px$/.test(s)&&null==(s=e.style[("pixel-"+t).camelCase()])){var a=e.style.left;e.style.left=r+o,s=e.style.pixelLeft,e.style.left=a}i=(r||1)/(parseFloat(s)||1)*(parseFloat(i)||0),e.setStyle(t,i+o)}}return{from:this.parse(i),to:this.parse(r)}},parse:function(e){return e=Function.convert(e)(),(e="string"==typeof e?e.split(" "):Array.convert(e)).map(function(e){e=String(e);var t=!1;return Object.each(Fx.CSS.Parsers,function(n){if(!t){var i=n.parse(e);(i||0===i)&&(t={value:i,parser:n})}}),t=t||{value:e,parser:Fx.CSS.Parsers.String}})},compute:function(e,t,n){var i=[];return Math.min(e.length,t.length).times(function(r){i.push({value:e[r].parser.compute(e[r].value,t[r].value,n),parser:e[r].parser})}),i.$family=Function.convert("fx:css:value"),i},serve:function(e,t){"fx:css:value"!=typeOf(e)&&(e=this.parse(e));var n=[];return e.each(function(e){n=n.concat(e.parser.serve(e.value,t))}),n},render:function(e,t,n,i){e.setStyle(t,this.serve(n,i))},search:function(e){if(Fx.CSS.Cache[e])return Fx.CSS.Cache[e];var t={},n=new RegExp("^"+e.escapeRegExp()+"$"),i=function(e){Array.each(e,function(e){if(e.media)i(e.rules||e.cssRules);else if(e.style){var r=e.selectorText?e.selectorText.replace(/^\w+/,function(e){return e.toLowerCase()}):null;r&&n.test(r)&&Object.each(Element.Styles,function(n,i){e.style[i]&&!Element.ShortStyles[i]&&(n=String(e.style[i]),t[i]=/^rgb/.test(n)?n.rgbToHex():n)})}})};return Array.each(document.styleSheets,function(e){var t=e.href;if(!(t&&t.indexOf("://")>-1&&-1==t.indexOf(document.domain))){var n=e.rules||e.cssRules;i(n)}}),Fx.CSS.Cache[e]=t}}),Fx.CSS.Cache={},Fx.CSS.Parsers={Color:{parse:function(e){return e.match(/^#[0-9a-f]{3,6}$/i)?e.hexToRgb(!0):!!(e=e.match(/(\d+),\s*(\d+),\s*(\d+)/))&&[e[1],e[2],e[3]]},compute:function(e,t,n){return e.map(function(i,r){return Math.round(Fx.compute(e[r],t[r],n))})},serve:function(e){return e.map(Number)}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(e,t){return t?e+t:e}},String:{parse:Function.convert(!1),compute:function(e,t){return t},serve:function(e){return e}}},Fx.CSS.Parsers=new Hash(Fx.CSS.Parsers),Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(e,t){this.element=this.subject=document.id(e),this.parent(t)},set:function(e){"string"==typeof e&&(e=this.search(e));for(var t in e)this.render(this.element,t,e[t],this.options.unit);return this},compute:function(e,t,n){var i={};for(var r in e)i[r]=this.parent(e[r],t[r],n);return i},start:function(e){if(!this.check(e))return this;"string"==typeof e&&(e=this.search(e));var t={},n={};for(var i in e){var r=this.prepare(this.element,i,e[i]);t[i]=r.from,n[i]=r.to}return this.parent(t,n)}}),Element.Properties.morph={set:function(e){return this.get("morph").cancel().setOptions(e),this},get:function(){var e=this.retrieve("morph");return e||(e=new Fx.Morph(this,{link:"cancel"}),this.store("morph",e)),e}},Element.implement({morph:function(e){return this.get("morph").start(e),this}}),Fx.implement({getTransition:function(){var e=this.options.transition||Fx.Transitions.Sine.easeInOut;if("string"==typeof e){var t=e.split(":");e=(e=Fx.Transitions)[t[0]]||e[t[0].capitalize()],t[1]&&(e=e["ease"+t[1].capitalize()+(t[2]?t[2].capitalize():"")])}return e}}),Fx.Transition=function(e,t){t=Array.convert(t);var n=function(n){return e(n,t)};return Object.append(n,{easeIn:n,easeOut:function(n){return 1-e(1-n,t)},easeInOut:function(n){return(n<=.5?e(2*n,t):2-e(2*(1-n),t))/2}})},Fx.Transitions={linear:function(e){return e}},Fx.Transitions=new Hash(Fx.Transitions),Fx.Transitions.extend=function(e){for(var t in e)Fx.Transitions[t]=new Fx.Transition(e[t])},Fx.Transitions.extend({Pow:function(e,t){return Math.pow(e,t&&t[0]||6)},Expo:function(e){return Math.pow(2,8*(e-1))},Circ:function(e){return 1-Math.sin(Math.acos(e))},Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Back:function(e,t){return t=t&&t[0]||1.618,Math.pow(e,2)*((t+1)*e-t)},Bounce:function(e){for(var t,n=0,i=1;1;n+=i,i/=2)if(e>=(7-4*n)/11){t=i*i-Math.pow((11-6*n-11*e)/4,2);break}return t},Elastic:function(e,t){return Math.pow(2,10*--e)*Math.cos(20*e*Math.PI*(t&&t[0]||1)/3)}}),["Quad","Cubic","Quart","Quint"].each(function(e,t){Fx.Transitions[e]=new Fx.Transition(function(e){return Math.pow(e,t+2)})}),Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(e,t){this.element=this.subject=document.id(e),this.parent(t)},set:function(e,t){return 1==arguments.length&&(t=e,e=this.property||this.options.property),this.render(this.element,e,t,this.options.unit),this},start:function(e,t,n){if(!this.check(e,t,n))return this;var i=Array.flatten(arguments);this.property=this.options.property||i.shift();var r=this.prepare(this.element,this.property,i);return this.parent(r.from,r.to)}}),Element.Properties.tween={set:function(e){return this.get("tween").cancel().setOptions(e),this},get:function(){var e=this.retrieve("tween");return e||(e=new Fx.Tween(this,{link:"cancel"}),this.store("tween",e)),e}},Element.implement({tween:function(e,t,n){return this.get("tween").start(e,t,n),this},fade:function(){var e,t,n=this.get("tween"),i=["opacity"].append(arguments);switch(null==i[1]&&(i[1]="toggle"),i[1]){case"in":e="start",i[1]=1;break;case"out":e="start",i[1]=0;break;case"show":e="set",i[1]=1;break;case"hide":e="set",i[1]=0;break;case"toggle":var r=this.retrieve("fade:flag",1==this.getStyle("opacity"));e="start",i[1]=r?0:1,this.store("fade:flag",!r),t=!0;break;default:e="start"}t||this.eliminate("fade:flag"),n[e].apply(n,i);var o=i[i.length-1];return"set"==e?this.setStyle("visibility",0==o?"hidden":"visible"):0!=o?n.$chain.length?n.chain(function(){this.element.setStyle("visibility","visible"),this.callChain()}):this.setStyle("visibility","visible"):n.chain(function(){this.element.getStyle("opacity")||(this.element.setStyle("visibility","hidden"),this.callChain())}),this},highlight:function(e,t){t||(t="transparent"==(t=this.retrieve("highlight:original",this.getStyle("background-color")))?"#fff":t);var n=this.get("tween");return n.start("background-color",e||"#ffff88",t).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original")),n.callChain()}.bind(this)),this}}),function(){var e=function(){},t="onprogress"in new Browser.Request,n=this.Request=new Class({Implements:[Chain,Events,Options,Class.Thenable],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:!0,format:!1,method:"post",link:"ignore",isSuccess:null,emulation:!0,urlEncoded:!0,encoding:"utf-8",evalScripts:!1,evalResponse:!1,timeout:0,noCache:!1},initialize:function(e){this.xhr=new Browser.Request,this.setOptions(e),this.headers=this.options.headers},onStateChange:function(){var n=this.xhr;4==n.readyState&&this.running&&(this.running=!1,this.status=0,Function.attempt(function(){var e=n.status;this.status=1223==e?204:e}.bind(this)),n.onreadystatechange=e,t&&(n.onprogress=n.onloadstart=e),this.timer&&(clearTimeout(this.timer),delete this.timer),this.response={text:this.xhr.responseText||"",xml:this.xhr.responseXML},this.options.isSuccess.call(this,this.status)?this.success(this.response.text,this.response.xml):this.failure())},isSuccess:function(){var e=this.status;return e>=200&&e<300},isRunning:function(){return!!this.running},processScripts:function(e){return this.options.evalResponse||/(ecma|java)script/.test(this.getHeader("Content-type"))?Browser.exec(e):e.stripScripts(this.options.evalScripts)},success:function(e,t){this.onSuccess(this.processScripts(e),t),this.resolve({text:e,xml:t})},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain()},failure:function(){this.onFailure(),this.reject({reason:"failure",xhr:this.xhr})},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr)},loadstart:function(e){this.fireEvent("loadstart",[e,this.xhr])},progress:function(e){this.fireEvent("progress",[e,this.xhr])},timeout:function(){this.fireEvent("timeout",this.xhr),this.reject({reason:"timeout",xhr:this.xhr})},setHeader:function(e,t){return this.headers[e]=t,this},getHeader:function(e){return Function.attempt(function(){return this.xhr.getResponseHeader(e)}.bind(this))},check:function(){if(!this.running)return!0;switch(this.options.link){case"cancel":return this.cancel(),!0;case"chain":return this.chain(this.caller.pass(arguments,this)),!1}return!1},send:function(e){if(!this.check(e))return this;this.options.isSuccess=this.options.isSuccess||this.isSuccess,this.running=!0;var n=typeOf(e);"string"!=n&&"element"!=n||(e={data:e});var i=this.options,r=(e=Object.append({data:i.data,url:i.url,method:i.method},e)).data,o=String(e.url),s=e.method.toLowerCase();switch(typeOf(r)){case"element":r=document.id(r).toQueryString();break;case"object":case"hash":r=Object.toQueryString(r)}if(this.options.format){var a="format="+this.options.format;r=r?a+"&"+r:a}if(this.options.emulation&&!["get","post"].contains(s)){var l="_method="+s;r=r?l+"&"+r:l,s="post"}if(this.options.urlEncoded&&["post","put"].contains(s)){var c=this.options.encoding?"; charset="+this.options.encoding:"";this.headers["Content-type"]="application/x-www-form-urlencoded"+c}o||(o=document.location.pathname);var u=o.lastIndexOf("/");u>-1&&(u=o.indexOf("#"))>-1&&(o=o.substr(0,u)),this.options.noCache&&(o+=(o.indexOf("?")>-1?"&":"?")+String.uniqueID()),!r||"get"!=s&&"delete"!=s||(o+=(o.indexOf("?")>-1?"&":"?")+r,r=null);var p=this.xhr;return t&&(p.onloadstart=this.loadstart.bind(this),p.onprogress=this.progress.bind(this)),p.open(s.toUpperCase(),o,this.options.async,this.options.user,this.options.password),(this.options.user||this.options.withCredentials)&&"withCredentials"in p&&(p.withCredentials=!0),p.onreadystatechange=this.onStateChange.bind(this),Object.each(this.headers,function(e,t){try{p.setRequestHeader(t,e)}catch(n){this.fireEvent("exception",[t,e]),this.reject({reason:"exception",xhr:p,exception:n})}},this),"pending"!==this.getThenableState()&&this.resetThenable({reason:"send"}),this.fireEvent("request"),p.send(r),this.options.async?this.options.timeout&&(this.timer=this.timeout.delay(this.options.timeout,this)):this.onStateChange(),this},cancel:function(){if(!this.running)return this;this.running=!1;var n=this.xhr;return n.abort(),this.timer&&(clearTimeout(this.timer),delete this.timer),n.onreadystatechange=e,t&&(n.onprogress=n.onloadstart=e),this.xhr=new Browser.Request,this.fireEvent("cancel"),this.reject({reason:"cancel",xhr:n}),this}}),i={};["get","post","put","delete","patch","head","GET","POST","PUT","DELETE","PATCH","HEAD"].each(function(e){i[e]=function(t){var n={method:e};return null!=t&&(n.data=t),this.send(n)}}),n.implement(i),Element.Properties.send={set:function(e){return this.get("send").cancel().setOptions(e),this},get:function(){var e=this.retrieve("send");return e||(e=new n({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")}),this.store("send",e)),e}},Element.implement({send:function(e){var t=this.get("send");return t.send({data:this,url:e||t.options.url}),this}})}(),Request.HTML=new Class({Extends:Request,options:{update:!1,append:!1,evalScripts:!0,filter:!1,headers:{Accept:"text/html, application/xml, text/xml, */*"}},success:function(e){var t=this.options,n=this.response;n.html=e.stripScripts(function(e){n.javascript=e});var i=n.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);i&&(n.html=i[1]);var r=new Element("div").set("html",n.html);if(n.tree=r.childNodes,n.elements=r.getElements(t.filter||"*"),t.filter&&(n.tree=n.elements),t.update){var o=document.id(t.update).empty();t.filter?o.adopt(n.elements):o.set("html",n.html)}else if(t.append){var s=document.id(t.append);t.filter?n.elements.reverse().inject(s):s.adopt(r.getChildren())}t.evalScripts&&Browser.exec(n.javascript),this.onSuccess(n.tree,n.elements,n.html,n.javascript),this.resolve({tree:n.tree,elements:n.elements,html:n.html,javascript:n.javascript})}}),Element.Properties.load={set:function(e){return this.get("load").cancel().setOptions(e),this},get:function(){var e=this.retrieve("load");return e||(e=new Request.HTML({data:this,link:"cancel",update:this,method:"get"}),this.store("load",e)),e}},Element.implement({load:function(){return this.get("load").send(Array.link(arguments,{data:Type.isObject,url:Type.isString})),this}}),"undefined"==typeof JSON&&(this.JSON={}),JSON=new Hash({stringify:JSON.stringify,parse:JSON.parse}),function(){var special={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escape=function(e){return special[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)};JSON.validate=function(e){return e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(e)},JSON.encode=JSON.stringify?function(e){return JSON.stringify(e)}:function(e){switch(e&&e.toJSON&&(e=e.toJSON()),typeOf(e)){case"string":return'"'+e.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+e.map(JSON.encode).clean()+"]";case"object":case"hash":var t=[];return Object.each(e,function(e,n){var i=JSON.encode(e);i&&t.push(JSON.encode(n)+":"+i)}),"{"+t+"}";case"number":case"boolean":return""+e;case"null":return"null"}return null},JSON.secure=!0,JSON.secure=!1,JSON.decode=function(string,secure){if(!string||"string"!=typeOf(string))return null;if(null==secure&&(secure=JSON.secure),secure){if(JSON.parse)return JSON.parse(string);if(!JSON.validate(string))throw new Error("JSON could not decode the input; security is enabled and the value is not secure.")}return eval("("+string+")")}}(),Request.JSON=new Class({Extends:Request,options:{secure:!0},initialize:function(e){this.parent(e),Object.append(this.headers,{Accept:"application/json","X-Request":"JSON"})},success:function(e){var t;try{t=this.response.json=JSON.decode(e,this.options.secure)}catch(t){return void this.fireEvent("error",[e,t])}null==t?this.failure():(this.onSuccess(t,e),this.resolve({json:t,text:e}))}});var Cookie=new Class({Implements:Options,options:{path:"/",domain:!1,duration:!1,secure:!1,document:document,encode:!0,httpOnly:!1},initialize:function(e,t){this.key=e,this.setOptions(t)},write:function(e){if(this.options.encode&&(e=encodeURIComponent(e)),this.options.domain&&(e+="; domain="+this.options.domain),this.options.path&&(e+="; path="+this.options.path),this.options.duration){var t=new Date;t.setTime(t.getTime()+24*this.options.duration*60*60*1e3),e+="; expires="+t.toGMTString()}return this.options.secure&&(e+="; secure"),this.options.httpOnly&&(e+="; HttpOnly"),this.options.document.cookie=this.key+"="+e,this},read:function(){var e=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");return e?decodeURIComponent(e[1]):null},dispose:function(){return new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write(""),this}});Cookie.write=function(e,t,n){return new Cookie(e,n).write(t)},Cookie.read=function(e){return new Cookie(e).read()},Cookie.dispose=function(e,t){return new Cookie(e,t).dispose()},function(e,t){var n,i,r,o,s=[],a=t.createElement("div"),l=function(){clearTimeout(o),n||(Browser.loaded=n=!0,t.removeListener("DOMContentLoaded",l).removeListener("readystatechange",c),t.fireEvent("domready"),e.fireEvent("domready")),t=e=a=null},c=function(){for(var e=s.length;e--;)if(s[e]())return l(),!0;return!1},u=function(){clearTimeout(o),c()||(o=setTimeout(u,10))};t.addListener("DOMContentLoaded",l);var p=function(){try{return a.doScroll(),!0}catch(e){}return!1};a.doScroll&&!p()&&(s.push(p),r=!0),t.readyState&&s.push(function(){var e=t.readyState;return"loaded"==e||"complete"==e}),"onreadystatechange"in t?t.addListener("readystatechange",c):r=!0,r&&u(),Element.Events.domready={onAdd:function(e){n&&e.call(this)}},Element.Events.load={base:"load",onAdd:function(t){i&&this==e&&t.call(this)},condition:function(){return this==e&&(l(),delete Element.Events.load),!0}},e.addEvent("load",function(){i=!0})}(window,document),MooTools.More={version:"1.6.0",build:"45b71db70f879781a7e0b0d3fb3bb1307c2521eb"},function(){var e={wait:function(e){return this.chain(function(){return this.callChain.delay(null==e?500:e,this),this}.bind(this))}};Chain.implement(e),this.Fx&&Fx.implement(e),this.Element&&Element.implement&&this.Fx&&Element.implement({chains:function(e){return Array.convert(e||["tween","morph","reveal"]).each(function(e){(e=this.get(e))&&e.setOptions({link:"chain"})},this),this},pauseFx:function(e,t){return this.chains(t).get(t||"tween").wait(e),this}})}(),Class.Mutators.Binds=function(e){return this.prototype.initialize||this.implement("initialize",function(){}),Array.convert(e).concat(this.prototype.Binds||[])},Class.Mutators.initialize=function(e){return function(){return Array.convert(this.Binds).each(function(e){var t=this[e];t&&(this[e]=t.bind(this))},this),e.apply(this,arguments)}},Class.Occlude=new Class({occlude:function(e,t){var n=(t=document.id(t||this.element)).retrieve(e||this.property);return n&&!this.occluded?this.occluded=n:(this.occluded=!1,t.store(e||this.property,this),this.occluded)}}),Class.refactor=function(e,t){return Object.each(t,function(t,n){var i=e.prototype[n];i=i&&i.$origin||i||function(){},e.implement(n,"function"==typeof t?function(){var e=this.previous;this.previous=i;var n=t.apply(this,arguments);return this.previous=e,n}:t)}),e},Class.Singleton=new Class({initialize:function(e){var t,n=new Class(e);return function(){if(t)return t;(t=Object.append({},n.prototype)).constructor=n;var e=n.apply(t,arguments);return t="object"==typeof e?e:t}}}),function(){Events.Pseudos=function(e,t,n){var i=function(e){return{store:e.store?function(t,n){e.store("_monitorEvents:"+t,n)}:function(t,n){(e._monitorEvents||(e._monitorEvents={}))[t]=n},retrieve:e.retrieve?function(t,n){return e.retrieve("_monitorEvents:"+t,n)}:function(t,n){return e._monitorEvents?e._monitorEvents[t]||n:n}}},r=function(t){if(-1==t.indexOf(":")||!e)return null;for(var n=Slick.parse(t).expressions[0][0],i=n.pseudos,r=i.length,o=[];r--;){var s=i[r].key,a=e[s];null!=a&&o.push({event:n.tag,value:i[r].value,pseudo:s,original:t,listener:a})}return o.length?o:null};return{addEvent:function(e,n,o){var s=r(e);if(!s)return t.call(this,e,n,o);var a=i(this),l=a.retrieve(e,[]),c=s[0].event,u=Array.slice(arguments,2),p=n,h=this;return s.each(function(e){var t=e.listener,n=p;0==t?c+=":"+e.pseudo+"("+e.value+")":p=function(){t.call(h,e,n,arguments,p)}}),l.include({type:c,event:n,monitor:p}),a.store(e,l),e!=c&&t.apply(this,[e,n].concat(u)),t.apply(this,[c,p].concat(u))},removeEvent:function(e,t){if(!r(e))return n.call(this,e,t);var o=i(this),s=o.retrieve(e);if(!s)return this;var a=Array.slice(arguments,2);return n.apply(this,[e,t].concat(a)),s.each(function(e,i){t&&e.event!=t||n.apply(this,[e.type,e.monitor].concat(a)),delete s[i]},this),o.store(e,s),this}}};var e={once:function(e,t,n,i){t.apply(this,n),this.removeEvent(e.event,i).removeEvent(e.original,t)},throttle:function(e,t,n){t._throttled||(t.apply(this,n),t._throttled=setTimeout(function(){t._throttled=!1},e.value||250))},pause:function(e,t,n){clearTimeout(t._pause),t._pause=t.delay(e.value||250,this,n)}};Events.definePseudo=function(t,n){return e[t]=n,this},Events.lookupPseudo=function(t){return e[t]};var t=Events.prototype;Events.implement(Events.Pseudos(e,t.addEvent,t.removeEvent)),["Request","Fx"].each(function(e){this[e]&&this[e].implement(Events.prototype)})}(),function(){var e=this.Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:"px",grid:!1,style:!0,limit:!1,handle:!1,invert:!1,unDraggableTags:["button","input","a","textarea","select","option"],preventDefault:!1,stopPropagation:!1,compensateScroll:!1,modifiers:{x:"left",y:"top"}},initialize:function(){var t=Array.link(arguments,{options:Type.isObject,element:function(e){return null!=e}});this.element=document.id(t.element),this.document=this.element.getDocument(),this.setOptions(t.options||{});var n=typeOf(this.options.handle);this.handles=("array"==n||"collection"==n?$$(this.options.handle):document.id(this.options.handle))||this.element,this.mouse={now:{},pos:{}},this.value={start:{},now:{}},this.offsetParent=function(e){var t=e.getOffsetParent();return!t||/^(?:body|html)$/i.test(t.tagName)?window:document.id(t)}(this.element),this.selection="selectstart"in document?"selectstart":"mousedown",this.compensateScroll={start:{},diff:{},last:{}},!("ondragstart"in document)||"FileReader"in window||e.ondragstartFixed||(document.ondragstart=Function.convert(!1),e.ondragstartFixed=!0),this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:Function.convert(!1),scrollListener:this.scrollListener.bind(this)},this.attach()},attach:function(){return this.handles.addEvent("mousedown",this.bound.start),this.handles.addEvent("touchstart",this.bound.start),this.options.compensateScroll&&this.offsetParent.addEvent("scroll",this.bound.scrollListener),this},detach:function(){return this.handles.removeEvent("mousedown",this.bound.start),this.handles.removeEvent("touchstart",this.bound.start),this.options.compensateScroll&&this.offsetParent.removeEvent("scroll",this.bound.scrollListener),this},scrollListener:function(){if(this.mouse.start){var e=this.offsetParent.getScroll();if("absolute"==this.element.getStyle("position")){var t=this.sumValues(e,this.compensateScroll.last,-1);this.mouse.now=this.sumValues(this.mouse.now,t,1)}else this.compensateScroll.diff=this.sumValues(e,this.compensateScroll.start,-1);this.offsetParent!=window&&(this.compensateScroll.diff=this.sumValues(this.compensateScroll.start,e,-1)),this.compensateScroll.last=e,this.render(this.options)}},sumValues:function(e,t,n){var i={},r=this.options;for(var o in r.modifiers)r.modifiers[o]&&(i[o]=e[o]+t[o]*n);return i},start:function(e){if(!this.options.unDraggableTags.contains(e.target.get("tag"))){var t=this.options;if(!e.rightClick){t.preventDefault&&e.preventDefault(),t.stopPropagation&&e.stopPropagation(),this.compensateScroll.start=this.compensateScroll.last=this.offsetParent.getScroll(),this.compensateScroll.diff={x:0,y:0},this.mouse.start=e.page,this.fireEvent("beforeStart",this.element);var n=t.limit;this.limit={x:[],y:[]};var i,r,o=this.offsetParent==window?null:this.offsetParent;for(i in t.modifiers)if(t.modifiers[i]){var s=this.element.getStyle(t.modifiers[i]);if(s&&!s.match(/px$/)&&(r||(r=this.element.getCoordinates(o)),s=r[t.modifiers[i]]),t.style?this.value.now[i]=(s||0).toInt():this.value.now[i]=this.element[t.modifiers[i]],t.invert&&(this.value.now[i]*=-1),this.mouse.pos[i]=e.page[i]-this.value.now[i],n&&n[i])for(var a=2;a--;){var l=n[i][a];(l||0===l)&&(this.limit[i][a]="function"==typeof l?l():l)}}"number"==typeOf(this.options.grid)&&(this.options.grid={x:this.options.grid,y:this.options.grid});var c={mousemove:this.bound.check,mouseup:this.bound.cancel,touchmove:this.bound.check,touchend:this.bound.cancel};c[this.selection]=this.bound.eventStop,this.document.addEvents(c)}}},check:function(e){this.options.preventDefault&&e.preventDefault();Math.round(Math.sqrt(Math.pow(e.page.x-this.mouse.start.x,2)+Math.pow(e.page.y-this.mouse.start.y,2)))>this.options.snap&&(this.cancel(),this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop,touchmove:this.bound.drag,touchend:this.bound.stop}),this.fireEvent("start",[this.element,e]).fireEvent("snap",this.element))},drag:function(e){var t=this.options;t.preventDefault&&e.preventDefault(),this.mouse.now=this.sumValues(e.page,this.compensateScroll.diff,-1),this.render(t),this.fireEvent("drag",[this.element,e])},render:function(e){for(var t in e.modifiers)e.modifiers[t]&&(this.value.now[t]=this.mouse.now[t]-this.mouse.pos[t],e.invert&&(this.value.now[t]*=-1),e.limit&&this.limit[t]&&((this.limit[t][1]||0===this.limit[t][1])&&this.value.now[t]>this.limit[t][1]?this.value.now[t]=this.limit[t][1]:(this.limit[t][0]||0===this.limit[t][0])&&this.value.now[t]<this.limit[t][0]&&(this.value.now[t]=this.limit[t][0])),e.grid[t]&&(this.value.now[t]-=(this.value.now[t]-(this.limit[t][0]||0))%e.grid[t]),e.style?this.element.setStyle(e.modifiers[t],this.value.now[t]+e.unit):this.element[e.modifiers[t]]=this.value.now[t])},cancel:function(e){this.document.removeEvents({mousemove:this.bound.check,mouseup:this.bound.cancel,touchmove:this.bound.check,touchend:this.bound.cancel}),e&&(this.document.removeEvent(this.selection,this.bound.eventStop),this.fireEvent("cancel",this.element))},stop:function(e){var t={mousemove:this.bound.drag,mouseup:this.bound.stop,touchmove:this.bound.drag,touchend:this.bound.stop};t[this.selection]=this.bound.eventStop,this.document.removeEvents(t),this.mouse.start=null,e&&this.fireEvent("complete",[this.element,e])}})}(),Element.implement({makeResizable:function(e){var t=new Drag(this,Object.merge({modifiers:{x:"width",y:"height"}},e));return this.store("resizer",t),t.addEvent("drag",function(){this.fireEvent("resize",t)}.bind(this))}}),Drag.Move=new Class({Extends:Drag,options:{droppables:[],container:!1,precalculate:!1,includeMargins:!0,checkDroppables:!0},initialize:function(e,t){if(this.parent(e,t),e=this.element,this.droppables=$$(this.options.droppables),this.setContainer(this.options.container),this.options.style){if("left"==this.options.modifiers.x&&"top"==this.options.modifiers.y){var n=e.getOffsetParent(),i=e.getStyles("left","top");!n||"auto"!=i.left&&"auto"!=i.top||e.setPosition(e.getPosition(n))}"static"==e.getStyle("position")&&e.setStyle("position","absolute")}this.addEvent("start",this.checkDroppables,!0),this.overed=null},setContainer:function(e){this.container=document.id(e),this.container&&"element"!=typeOf(this.container)&&(this.container=document.id(this.container.getDocument().body))},start:function(e){this.container&&(this.options.limit=this.calculateLimit()),this.options.precalculate&&(this.positions=this.droppables.map(function(e){return e.getCoordinates()})),this.parent(e)},calculateLimit:function(){var e=this.element,t=this.container,n=document.id(e.getOffsetParent())||document.body,i=t.getCoordinates(n),r={},o={},s={},a={},l={},c=n.getScroll();["top","right","bottom","left"].each(function(i){r[i]=e.getStyle("margin-"+i).toInt(),o[i]=e.getStyle("border-"+i).toInt(),s[i]=t.getStyle("margin-"+i).toInt(),a[i]=t.getStyle("border-"+i).toInt(),l[i]=n.getStyle("padding-"+i).toInt()},this);var u=e.offsetWidth+r.left+r.right,p=e.offsetHeight+r.top+r.bottom,h=0+c.x,f=0+c.y,d=i.right-a.right-u+c.x,y=i.bottom-a.bottom-p+c.y;if(this.options.includeMargins?(h+=r.left,f+=r.top):(d+=r.right,y+=r.bottom),"relative"==e.getStyle("position")){var m=e.getCoordinates(n);m.left-=e.getStyle("left").toInt(),m.top-=e.getStyle("top").toInt(),h-=m.left,f-=m.top,"relative"!=t.getStyle("position")&&(h+=a.left,f+=a.top),d+=r.left-m.left,y+=r.top-m.top,t!=n&&(h+=s.left+l.left,!l.left&&h<0&&(h=0),f+=n==document.body?0:s.top+l.top,!l.top&&f<0&&(f=0))}else h-=r.left,f-=r.top,t!=n&&(h+=i.left+a.left,f+=i.top+a.top);return{x:[h,d],y:[f,y]}},getDroppableCoordinates:function(e){var t=e.getCoordinates();if("fixed"==e.getStyle("position")){var n=window.getScroll();t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},checkDroppables:function(){var e=this.droppables.filter(function(e,t){e=this.positions?this.positions[t]:this.getDroppableCoordinates(e);var n=this.mouse.now;return n.x>e.left&&n.x<e.right&&n.y<e.bottom&&n.y>e.top},this).getLast();this.overed!=e&&(this.overed&&this.fireEvent("leave",[this.element,this.overed]),e&&this.fireEvent("enter",[this.element,e]),this.overed=e)},drag:function(e){this.parent(e),this.options.checkDroppables&&this.droppables.length&&this.checkDroppables()},stop:function(e){return this.checkDroppables(),this.fireEvent("drop",[this.element,this.overed,e]),this.overed=null,this.parent(e)}}),Element.implement({makeDraggable:function(e){var t=new Drag.Move(this,e);return this.store("dragger",t),t}}),function(){var e=function(e){return!(e&&!e.offsetHeight&&!e.offsetWidth)};Element.implement({measure:function(t){if(e(this))return t.call(this);for(var n=this.getParent(),i=[];!e(n)&&n!=document.body;)i.push(n.expose()),n=n.getParent();var r=this.expose(),o=t.call(this);return r(),i.each(function(e){e()}),o},expose:function(){if("none"!=this.getStyle("display"))return function(){};var e=this.style.cssText;return this.setStyles({display:"block",position:"absolute",visibility:"hidden"}),function(){this.style.cssText=e}.bind(this)},getDimensions:function(e){e=Object.merge({computeSize:!1},e);var t={x:0,y:0},n=function(e,t){return t.computeSize?e.getComputedSize(t):e.getSize()},i=this.getParent("body");if(i&&"none"==this.getStyle("display"))t=this.measure(function(){return n(this,e)});else if(i)try{t=n(this,e)}catch(e){}return Object.append(t,t.x||0===t.x?{width:t.x,height:t.y}:{x:t.width,y:t.height})},getComputedSize:function(e){e&&e.plains&&(e.planes=e.plains);var t,n={},i={width:0,height:0};return"vertical"==(e=Object.merge({styles:["padding","border"],planes:{height:["top","bottom"],width:["left","right"]},mode:"both"},e)).mode?(delete i.width,delete e.planes.width):"horizontal"==e.mode&&(delete i.height,delete e.planes.height),function(e,t){var n=[];return Object.each(t,function(t){Object.each(t,function(t){e.each(function(e){n.push(e+"-"+t+("border"==e?"-width":""))})})}),n}(e.styles,e.planes).each(function(e){n[e]=this.getStyle(e).toInt()},this),Object.each(e.planes,function(e,r){var o=r.capitalize(),s=this.getStyle(r);"auto"!=s||t||(t=this.getDimensions()),s=n[r]="auto"==s?t[r]:s.toInt(),i["total"+o]=s,e.each(function(e){var t=function(e,t){var n=0;return Object.each(t,function(t,i){i.test(e)&&(n+=t.toInt())}),n}(e,n);i["computed"+e.capitalize()]=t,i["total"+o]+=t})},this),Object.append(i,n)}})}(),function(){this.Sortables=new Class({Implements:[Events,Options],options:{opacity:1,clone:!1,revert:!1,handle:!1,dragOptions:{},unDraggableTags:["button","input","a","textarea","select","option"],snap:4,constrain:!1,preventDefault:!1},initialize:function(e,t){this.setOptions(t),this.elements=[],this.lists=[],this.idle=!0,this.addLists($$(document.id(e)||e)),this.options.clone||(this.options.revert=!1),this.options.revert&&(this.effect=new Fx.Morph(null,Object.merge({duration:250,link:"cancel"},this.options.revert)))},attach:function(){return this.addLists(this.lists),this},detach:function(){return this.lists=this.removeLists(this.lists),this},addItems:function(){return Array.flatten(arguments).each(function(e){this.elements.push(e);var t=e.retrieve("sortables:start",function(t){this.start.call(this,t,e)}.bind(this));(this.options.handle?e.getElement(this.options.handle)||e:e).addEvent("mousedown",t)},this),this},addLists:function(){return Array.flatten(arguments).each(function(e){this.lists.include(e),this.addItems(e.getChildren())},this),this},removeItems:function(){return $$(Array.flatten(arguments).map(function(e){this.elements.erase(e);var t=e.retrieve("sortables:start");return(this.options.handle?e.getElement(this.options.handle)||e:e).removeEvent("mousedown",t),e},this))},removeLists:function(){return $$(Array.flatten(arguments).map(function(e){return this.lists.erase(e),this.removeItems(e.getChildren()),e},this))},getDroppableCoordinates:function(e){var t=e.getOffsetParent(),n=e.getPosition(t),i={w:window.getScroll(),offsetParent:t.getScroll()};return n.x+=i.offsetParent.x,n.y+=i.offsetParent.y,"fixed"==t.getStyle("position")&&(n.x-=i.w.x,n.y-=i.w.y),n},getClone:function(e,t){if(!this.options.clone)return new Element(t.tagName).inject(document.body);if("function"==typeOf(this.options.clone))return this.options.clone.call(this,e,t,this.list);var n=t.clone(!0).setStyles({margin:0,position:"absolute",visibility:"hidden",width:t.getStyle("width")}).addEvent("mousedown",function(e){t.fireEvent("mousedown",e)});return n.get("html").test("radio")&&n.getElements("input[type=radio]").each(function(e,n){e.set("name","clone_"+n),e.get("checked")&&t.getElements("input[type=radio]")[n].set("checked",!0)}),n.inject(this.list).setPosition(this.getDroppableCoordinates(this.element))},getDroppables:function(){var e=this.list.getChildren().erase(this.clone).erase(this.element);return this.options.constrain||e.append(this.lists).erase(this.list),e},insert:function(e,t){var n="inside";this.lists.contains(t)?(this.list=t,this.drag.droppables=this.getDroppables()):n=this.element.getAllPrevious().contains(t)?"before":"after",this.element.inject(t,n),this.fireEvent("sort",[this.element,this.clone])},start:function(e,t){!this.idle||e.rightClick||!this.options.handle&&this.options.unDraggableTags.contains(e.target.get("tag"))||(this.idle=!1,this.element=t,this.opacity=t.getStyle("opacity"),this.list=t.getParent(),this.clone=this.getClone(e,t),this.drag=new Drag.Move(this.clone,Object.merge({preventDefault:this.options.preventDefault,snap:this.options.snap,container:this.options.constrain&&this.element.getParent(),droppables:this.getDroppables()},this.options.dragOptions)).addEvents({onSnap:function(){e.stop(),this.clone.setStyle("visibility","visible"),this.element.setStyle("opacity",this.options.opacity||0),this.fireEvent("start",[this.element,this.clone])}.bind(this),onEnter:this.insert.bind(this),onCancel:this.end.bind(this),onComplete:this.end.bind(this)}),this.clone.inject(this.element,"before"),this.drag.start(e))},end:function(){this.drag.detach(),this.element.setStyle("opacity",this.opacity);var e=this;if(this.effect){var t=this.element.getStyles("width","height"),n=this.clone,i=n.computePosition(this.getDroppableCoordinates(n)),r=function(){this.removeEvent("cancel",r),n.destroy(),e.reset()};this.effect.element=n,this.effect.start({top:i.top,left:i.left,width:t.width,height:t.height,opacity:.25}).addEvent("cancel",r).chain(r)}else this.clone.destroy(),e.reset()},reset:function(){this.idle=!0,this.fireEvent("complete",this.element)},serialize:function(){var e=Array.link(arguments,{modifier:Type.isFunction,index:function(e){return null!=e}}),t=this.lists.map(function(t){return t.getChildren().map(e.modifier||function(e){return e.get("id")},this)},this),n=e.index;return 1==this.lists.length&&(n=0),(n||0===n)&&n>=0&&n<this.lists.length?t[n]:t}})}(),function(){for(var e={relay:!1},t=["once","throttle","pause"],n=t.length;n--;)e[t[n]]=Events.lookupPseudo(t[n]);DOMEvent.definePseudo=function(t,n){return e[t]=n,this};var i=Element.prototype;[Element,Window,Document].invoke("implement",Events.Pseudos(e,i.addEvent,i.removeEvent))}(),DOMEvent.definePseudo("keys",function(e,t,n){var i=n[0],r=[],o=this.retrieve("$moo:keys-pressed",[]),s=e.value;if("+"!=s?r.append(s.replace("++",function(){return r.push("+"),""}).split("+")):r=["+"],o.include(i.key),r.every(function(e){return o.contains(e)})&&t.apply(this,n),this.store("$moo:keys-pressed",o),!this.retrieve("$moo:keys-keyup")){var a=function(e){(function(){o=this.retrieve("$moo:keys-pressed",[]).erase(e.key),this.store("$moo:keys-pressed",o)}).delay(0,this)};this.store("$moo:keys-keyup",a).addEvent("keyup",a)}}),DOMEvent.defineKeys({16:"shift",17:"control",18:"alt",20:"capslock",33:"pageup",34:"pagedown",35:"end",36:"home",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",107:"+",109:"-",189:"-"}),function(){var e={a:/[]/g,A:/[]/g,c:/[]/g,C:/[]/g,d:/[]/g,D:/[]/g,e:/[]/g,E:/[]/g,g:/[]/g,G:/[]/g,i:/[]/g,I:/[]/g,l:/[]/g,L:/[]/g,n:/[]/g,N:/[]/g,o:/[]/g,O:/[]/g,r:/[]/g,R:/[]/g,s:/[]/g,S:/[]/g,t:/[]/g,T:/[]/g,u:/[]/g,U:/[]/g,y:/[]/g,Y:/[]/g,z:/[]/g,Z:/[]/g,th:/[]/g,TH:/[]/g,dh:/[]/g,DH:/[]/g,ss:/[]/g,oe:/[]/g,OE:/[]/g,ae:/[]/g,AE:/[]/g},t={" ":/[\xa0\u2002\u2003\u2009]/g,"*":/[\xb7]/g,"'":/[\u2018\u2019]/g,'"':/[\u201c\u201d]/g,"...":/[\u2026]/g,"-":/[\u2013]/g,"&raquo;":/[\uFFFD]/g},n={ms:1,s:1e3,m:6e4,h:36e5},i=/(\d*.?\d+)([msh]+)/,r=function(e,t){var n,i=e;for(n in t)i=i.replace(t[n],n);return i},o=function(e,t){e=e||(t?"":"\\w+");var n=t?"<"+e+"(?!\\w)[^>]*>([\\s\\S]*?)</"+e+"(?!\\w)>":"</?"+e+"/?>|<"+e+"[\\s|/][^>]*>";return new RegExp(n,"gi")};String.implement({standardize:function(){return r(this,e)},repeat:function(e){return new Array(e+1).join(this)},pad:function(e,t,n){if(this.length>=e)return this;var i=(null==t?" ":""+t).repeat(e-this.length).substr(0,e-this.length);return n&&"right"!=n?"left"==n?i+this:i.substr(0,(i.length/2).floor())+this+i.substr(0,(i.length/2).ceil()):this+i},getTags:function(e,t){return this.match(o(e,t))||[]},stripTags:function(e,t){return this.replace(o(e,t),"")},tidy:function(){return r(this,t)},truncate:function(e,t,n){var i=this;if(null==t&&1==arguments.length&&(t=""),i.length>e){if(i=i.substring(0,e),n){var r=i.lastIndexOf(n);-1!=r&&(i=i.substr(0,r))}t&&(i+=t)}return i},ms:function(){var e=i.exec(this);return null==e?Number(this):Number(e[1])*n[e[2]]}})}(),Element.implement({tidy:function(){this.set("value",this.get("value").tidy())},getTextInRange:function(e,t){return this.get("value").substring(e,t)},getSelectedText:function(){return this.setSelectionRange?this.getTextInRange(this.getSelectionStart(),this.getSelectionEnd()):document.selection.createRange().text},getSelectedRange:function(){if(null!=this.selectionStart)return{start:this.selectionStart,end:this.selectionEnd};var e={start:0,end:0},t=this.getDocument().selection.createRange();if(!t||t.parentElement()!=this)return e;var n=t.duplicate();if("text"==this.type)e.start=0-n.moveStart("character",-1e5),e.end=e.start+t.text.length;else{var i=this.get("value"),r=i.length;n.moveToElementText(this),n.setEndPoint("StartToEnd",t),n.text.length&&(r-=i.match(/[\n\r]*$/)[0].length),e.end=r-n.text.length,n.setEndPoint("StartToStart",t),e.start=r-n.text.length}return e},getSelectionStart:function(){return this.getSelectedRange().start},getSelectionEnd:function(){return this.getSelectedRange().end},setCaretPosition:function(e){return"end"==e&&(e=this.get("value").length),this.selectRange(e,e),this},getCaretPosition:function(){return this.getSelectedRange().start},selectRange:function(e,t){if(this.setSelectionRange)this.focus(),this.setSelectionRange(e,t);else{var n=this.get("value"),i=n.substr(e,t-e).replace(/\r/g,"").length;e=n.substr(0,e).replace(/\r/g,"").length;var r=this.createTextRange();r.collapse(!0),r.moveEnd("character",e+i),r.moveStart("character",e),r.select()}return this},insertAtCursor:function(e,t){var n=this.getSelectedRange(),i=this.get("value");return this.set("value",i.substring(0,n.start)+e+i.substring(n.end,i.length)),!1!==t?this.selectRange(n.start,n.start+e.length):this.setCaretPosition(n.start+e.length),this},insertAroundCursor:function(e,t){e=Object.append({before:"",defaultMiddle:"",after:""},e);var n=this.getSelectedText()||e.defaultMiddle,i=this.getSelectedRange(),r=this.get("value");if(i.start==i.end)this.set("value",r.substring(0,i.start)+e.before+n+e.after+r.substring(i.end,r.length)),this.selectRange(i.start+e.before.length,i.end+e.before.length+n.length);else{var o=r.substring(i.start,i.end);this.set("value",r.substring(0,i.start)+e.before+o+e.after+r.substring(i.end,r.length));var s=i.start+e.before.length;!1!==t?this.selectRange(s,s+o.length):this.setCaretPosition(s+r.length)}return this}}),function(){var e=!1,t=!1;Element.implement({pin:function(n,i){if(t||function(){var n=new Element("div").setStyles({position:"fixed",top:0,right:0}).inject(document.body);e=0===n.offsetTop,n.dispose(),t=!0}(),"none"==this.getStyle("display"))return this;var r,o,s,a=window.getScroll();if(!1!==n){if(r=this.getPosition(),!this.retrieve("pin:_pinned")){var l={top:r.y-a.y,left:r.x-a.x,margin:"0px",padding:"0px"};if(e&&!i)this.setStyle("position","fixed").setStyles(l);else{o=this.getOffsetParent();var c=this.getPosition(o),u=this.getStyles("left","top");(o&&"auto"==u.left||"auto"==u.top)&&this.setPosition(c),"static"==this.getStyle("position")&&this.setStyle("position","absolute"),c={x:u.left.toInt()-a.x,y:u.top.toInt()-a.y},s=function(){if(this.retrieve("pin:_pinned")){var e=window.getScroll();this.setStyles({left:c.x+e.x,top:c.y+e.y})}}.bind(this),this.store("pin:_scrollFixer",s),window.addEvent("scroll",s)}this.store("pin:_pinned",!0)}}else{if(!this.retrieve("pin:_pinned"))return this;"static"!=(o=this.getParent()).getComputedStyle("position")||o.getOffsetParent();r=this.getPosition(),this.store("pin:_pinned",!1),(s=this.retrieve("pin:_scrollFixer"))?(this.store("pin:_scrollFixer",null),window.removeEvent("scroll",s)):this.setStyles({position:"absolute",top:r.y+a.y,left:r.x+a.x}),this.removeClass("isPinned")}return this},unpin:function(){return this.pin(!1)},togglePin:function(){return this.pin(!this.retrieve("pin:_pinned"))}}),Element.alias("togglepin","togglePin")}(),function(e){var t=Element.Position={options:{relativeTo:document.body,position:{x:"center",y:"center"},offset:{x:0,y:0}},getOptions:function(e,n){return n=Object.merge({},t.options,n),t.setPositionOption(n),t.setEdgeOption(n),t.setOffsetOption(e,n),t.setDimensionsOption(e,n),n},setPositionOption:function(e){e.position=t.getCoordinateFromValue(e.position)},setEdgeOption:function(e){var n=t.getCoordinateFromValue(e.edge);e.edge=n||("center"==e.position.x&&"center"==e.position.y?{x:"center",y:"center"}:{x:"left",y:"top"})},setOffsetOption:function(e,t){var n={x:0,y:0},i={x:0,y:0},r=e.measure(function(){return document.id(this.getOffsetParent())});r&&r!=e.getDocument().body&&(i=r.getScroll(),n=r.measure(function(){var e=this.getPosition();if("fixed"==this.getStyle("position")){var t=window.getScroll();e.x+=t.x,e.y+=t.y}return e}),t.offset={parentPositioned:r!=document.id(t.relativeTo),x:t.offset.x-n.x+i.x,y:t.offset.y-n.y+i.y})},setDimensionsOption:function(e,t){t.dimensions=e.getDimensions({computeSize:!0,styles:["padding","border","margin"]})},getPosition:function(e,n){var i={};n=t.getOptions(e,n);var r=document.id(n.relativeTo)||document.body;t.setPositionCoordinates(n,i,r),n.edge&&t.toEdge(i,n);var o=n.offset;return i.left=(i.x>=0||o.parentPositioned||n.allowNegative?i.x:0).toInt(),i.top=(i.y>=0||o.parentPositioned||n.allowNegative?i.y:0).toInt(),t.toMinMax(i,n),(n.relFixedPosition||"fixed"==r.getStyle("position"))&&t.toRelFixedPosition(r,i),n.ignoreScroll&&t.toIgnoreScroll(r,i),n.ignoreMargins&&t.toIgnoreMargins(i,n),i.left=Math.ceil(i.left),i.top=Math.ceil(i.top),delete i.x,delete i.y,i},setPositionCoordinates:function(e,t,n){var i=e.offset.y,r=e.offset.x,o=n==document.body?window.getScroll():n.getPosition(),s=o.y,a=o.x,l=window.getSize();switch(e.position.x){case"left":t.x=a+r;break;case"right":t.x=a+r+n.offsetWidth;break;default:t.x=a+(n==document.body?l.x:n.offsetWidth)/2+r}switch(e.position.y){case"top":t.y=s+i;break;case"bottom":t.y=s+i+n.offsetHeight;break;default:t.y=s+(n==document.body?l.y:n.offsetHeight)/2+i}},toMinMax:function(e,t){var n,i={left:"x",top:"y"};["minimum","maximum"].each(function(r){["left","top"].each(function(o){null!=(n=t[r]?t[r][i[o]]:null)&&("minimum"==r?e[o]<n:e[o]>n)&&(e[o]=n)})})},toRelFixedPosition:function(e,t){var n=window.getScroll();t.top+=n.y,t.left+=n.x},toIgnoreScroll:function(e,t){var n=e.getScroll();t.top-=n.y,t.left-=n.x},toIgnoreMargins:function(e,t){e.left+="right"==t.edge.x?t.dimensions["margin-right"]:"center"!=t.edge.x?-t.dimensions["margin-left"]:-t.dimensions["margin-left"]+(t.dimensions["margin-right"]+t.dimensions["margin-left"])/2,e.top+="bottom"==t.edge.y?t.dimensions["margin-bottom"]:"center"!=t.edge.y?-t.dimensions["margin-top"]:-t.dimensions["margin-top"]+(t.dimensions["margin-bottom"]+t.dimensions["margin-top"])/2},toEdge:function(e,t){var n={},i=t.dimensions,r=t.edge;switch(r.x){case"left":n.x=0;break;case"right":n.x=-i.x-i.computedRight-i.computedLeft;break;default:n.x=-Math.round(i.totalWidth/2)}switch(r.y){case"top":n.y=0;break;case"bottom":n.y=-i.y-i.computedTop-i.computedBottom;break;default:n.y=-Math.round(i.totalHeight/2)}e.x+=n.x,e.y+=n.y},getCoordinateFromValue:function(e){return"string"!=typeOf(e)?e:(e=e.toLowerCase(),{x:e.test("left")?"left":e.test("right")?"right":"center",y:e.test(/upper|top/)?"top":e.test("bottom")?"bottom":"center"})}};Element.implement({position:function(t){if(t&&(null!=t.x||null!=t.y))return e?e.apply(this,arguments):this;var n=this.setStyle("position","absolute").calculatePosition(t);return t&&t.returnPos?n:this.setStyles(n)},calculatePosition:function(e){return t.getPosition(this,e)}})}(Element.prototype.position),Element.implement({isDisplayed:function(){return"none"!=this.getStyle("display")},isVisible:function(){var e=this.offsetWidth,t=this.offsetHeight;return(0!=e||0!=t)&&(e>0&&t>0||"none"!=this.style.display)},toggle:function(){return this[this.isDisplayed()?"hide":"show"]()},hide:function(){var e;try{e=this.getStyle("display")}catch(e){}return"none"==e?this:this.store("element:_originalDisplay",e||"").setStyle("display","none")},show:function(e){return!e&&this.isDisplayed()?this:(e=e||this.retrieve("element:_originalDisplay")||"block",this.setStyle("display","none"==e?"block":e))},swapClass:function(e,t){return this.removeClass(e).addClass(t)}}),Document.implement({clearSelection:function(){if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}}),Elements.from=function(e,t){(t||null==t)&&(e=e.stripScripts());var n,i=e.match(/^\s*(?:<!--.*?-->\s*)*<(t[dhr]|tbody|tfoot|thead)/i);if(i){n=new Element("table");var r=i[1].toLowerCase();["td","th","tr"].contains(r)&&(n=new Element("tbody").inject(n),"tr"!=r&&(n=new Element("tr").inject(n)))}return(n||new Element("div")).set("html",e).getChildren()},function(){var e=!1;e=Browser.ie6||Browser.firefox&&Browser.version<3&&Browser.Platform.mac;var t=this.IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:"iframeShim",src:'javascript:false;document.write("");',display:!1,zIndex:null,margin:0,offset:{x:0,y:0},browsers:e},property:"IframeShim",initialize:function(e,t){return this.element=document.id(e),this.occlude()?this.occluded:(this.setOptions(t),this.makeShim(),this)},makeShim:function(){if(this.options.browsers){var e=this.element.getStyle("zIndex").toInt();if(!e){e=1;var n=this.element.getStyle("position");"static"!=n&&n||this.element.setStyle("position","relative"),this.element.setStyle("zIndex",e)}(e=(null!=this.options.zIndex||0===this.options.zIndex)&&e>this.options.zIndex?this.options.zIndex:e-1)<0&&(e=1),this.shim=new Element("iframe",{src:this.options.src,scrolling:"no",frameborder:0,styles:{zIndex:e,position:"absolute",border:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"},class:this.options.className}).store("IframeShim",this);var i=function(){this.shim.inject(this.element,"after"),this[this.options.display?"show":"hide"](),this.fireEvent("inject")}.bind(this);t.ready?i():window.addEvent("load",i)}else this.position=this.hide=this.show=this.dispose=Function.convert(this)},position:function(){if(!t.ready||!this.shim)return this;var e=this.element.measure(function(){return this.getSize()});return void 0!=this.options.margin&&(e.x=e.x-2*this.options.margin,e.y=e.y-2*this.options.margin,this.options.offset.x+=this.options.margin,this.options.offset.y+=this.options.margin),this.shim.set({width:e.x,height:e.y}).position({relativeTo:this.element,offset:this.options.offset}),this},hide:function(){return this.shim&&this.shim.setStyle("display","none"),this},show:function(){return this.shim&&this.shim.setStyle("display","block"),this.position()},dispose:function(){return this.shim&&this.shim.dispose(),this},destroy:function(){return this.shim&&this.shim.destroy(),this}})}(),window.addEvent("load",function(){IframeShim.ready=!0}),function(){this.Mask=new Class({Implements:[Options,Events],Binds:["position"],options:{style:{},class:"mask",maskMargins:!1,useIframeShim:!0,iframeShimOptions:{}},initialize:function(e,t){this.target=document.id(e)||document.id(document.body),this.target.store("mask",this),this.setOptions(t),this.render(),this.inject()},render:function(){this.element=new Element("div",{class:this.options.class,id:this.options.id||"mask-"+String.uniqueID(),styles:Object.merge({},this.options.style,{display:"none"}),events:{click:function(e){this.fireEvent("click",e),this.options.hideOnClick&&this.hide()}.bind(this)}}),this.hidden=!0},toElement:function(){return this.element},inject:function(e,t){t=t||(this.options.inject?this.options.inject.where:"")||(this.target==document.body?"inside":"after"),e=e||this.options.inject&&this.options.inject.target||this.target,this.element.inject(e,t),this.options.useIframeShim&&(this.shim=new IframeShim(this.element,this.options.iframeShimOptions),this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)}))},position:function(){return this.resize(this.options.width,this.options.height),this.element.position({relativeTo:this.target,position:"topLeft",ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body}),this},resize:function(e,t){var n={styles:["padding","border"]};this.options.maskMargins&&n.styles.push("margin");var i=this.target.getComputedSize(n);if(this.target==document.body){this.element.setStyles({width:0,height:0});var r=window.getScrollSize();i.totalHeight<r.y&&(i.totalHeight=r.y),i.totalWidth<r.x&&(i.totalWidth=r.x)}return this.element.setStyles({width:Array.pick([e,i.totalWidth,i.x]),height:Array.pick([t,i.totalHeight,i.y])}),this},show:function(){return this.hidden?(window.addEvent("resize",this.position),this.position(),this.showMask.apply(this,arguments),this):this},showMask:function(){this.element.setStyle("display","block"),this.hidden=!1,this.fireEvent("show")},hide:function(){return this.hidden?this:(window.removeEvent("resize",this.position),this.hideMask.apply(this,arguments),this.options.destroyOnHide?this.destroy():this)},hideMask:function(){this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide")},toggle:function(){this[this.hidden?"show":"hide"]()},destroy:function(){this.hide(),this.element.destroy(),this.fireEvent("destroy"),this.target.eliminate("mask")}})}(),Element.Properties.mask={set:function(e){var t=this.retrieve("mask");return t&&t.destroy(),this.eliminate("mask").store("mask:options",e)},get:function(){var e=this.retrieve("mask");return e||(e=new Mask(this,this.retrieve("mask:options")),this.store("mask",e)),e}},Element.implement({mask:function(e){return e&&this.set("mask",e),this.get("mask").show(),this},unmask:function(){return this.get("mask").hide(),this}}),function(){this.Spinner=new Class({Extends:this.Mask,Implements:Chain,options:{class:"spinner",containerPosition:{},content:{class:"spinner-content"},messageContainer:{class:"spinner-msg"},img:{class:"spinner-img"},fxOptions:{link:"chain"}},initialize:function(e,t){this.target=document.id(e)||document.id(document.body),this.target.store("spinner",this),this.setOptions(t),this.render(),this.inject();var n=function(){this.active=!1}.bind(this);this.addEvents({hide:n,show:n})},render:function(){this.parent(),this.element.set("id",this.options.id||"spinner-"+String.uniqueID()),this.content=document.id(this.options.content)||new Element("div",this.options.content),this.content.inject(this.element),this.options.message&&(this.msg=document.id(this.options.message)||new Element("p",this.options.messageContainer).appendText(this.options.message),this.msg.inject(this.content)),this.options.img&&(this.img=document.id(this.options.img)||new Element("div",this.options.img),this.img.inject(this.content)),this.element.set("tween",this.options.fxOptions)},show:function(e){return this.active?this.chain(this.show.bind(this)):this.hidden?(this.target.set("aria-busy","true"),this.active=!0,this.parent(e)):(this.callChain.delay(20,this),this)},showMask:function(e){var t=function(){this.content.position(Object.merge({relativeTo:this.element},this.options.containerPosition))}.bind(this);e?(this.parent(),t()):(this.options.style.opacity||(this.options.style.opacity=this.element.getStyle("opacity").toFloat()),this.element.setStyles({display:"block",opacity:0}).tween("opacity",this.options.style.opacity),t(),this.hidden=!1,this.fireEvent("show"),this.callChain())},hide:function(e){return this.active?this.chain(this.hide.bind(this)):this.hidden?(this.callChain.delay(20,this),this):(this.target.set("aria-busy","false"),this.active=!0,this.parent(e))},hideMask:function(e){if(e)return this.parent();this.element.tween("opacity",0).get("tween").chain(function(){this.element.setStyle("display","none"),this.hidden=!0,this.fireEvent("hide"),this.callChain()}.bind(this))},destroy:function(){this.content.destroy(),this.parent(),this.target.eliminate("spinner")}})}(),Request=Class.refactor(Request,{options:{useSpinner:!1,spinnerOptions:{},spinnerTarget:!1},initialize:function(e){this._send=this.send,this.send=function(e){var t=this.getSpinner();return t?t.chain(this._send.pass(e,this)).show():this._send(e),this},this.previous(e)},getSpinner:function(){if(!this.spinner){var e=document.id(this.options.spinnerTarget)||document.id(this.options.update);if(this.options.useSpinner&&e){e.set("spinner",this.options.spinnerOptions);var t=this.spinner=e.get("spinner");["complete","exception","cancel"].each(function(e){this.addEvent(e,t.hide.bind(t))},this)}}return this.spinner}}),Element.Properties.spinner={set:function(e){var t=this.retrieve("spinner");return t&&t.destroy(),this.eliminate("spinner").store("spinner:options",e)},get:function(){var e=this.retrieve("spinner");return e||(e=new Spinner(this,this.retrieve("spinner:options")),this.store("spinner",e)),e}},Element.implement({spin:function(e){return e&&this.set("spinner",e),this.get("spinner").show(),this},unspin:function(){return this.get("spinner").hide(),this}}),function(){var e=function(e){return decodeURIComponent(e.replace(/\+/g," "))};String.implement({parseQueryString:function(t,n){null==t&&(t=!0),null==n&&(n=!0);var i=this.split(/[&;]/),r={};return i.length?(i.each(function(i){var o=i.indexOf("=")+1,s=o?i.substr(o):"",a=o?i.substr(0,o-1).match(/([^\]\[]+|(\B)(?=\]))/g):[i],l=r;a&&(n&&(s=e(s)),a.each(function(n,i){t&&(n=e(n));var r=l[n];i<a.length-1?l=l[n]=r||{}:"array"==typeOf(r)?r.push(s):l[n]=null!=r?[r,s]:s}))}),r):r},cleanQueryString:function(e){return this.split("&").filter(function(t){var n=t.indexOf("="),i=n<0?"":t.substr(0,n),r=t.substr(n+1);return e?e.call(null,i,r):r||0===r}).join("&")}})}(),window.Form||(window.Form={}),Form.Request=new Class({Binds:["onSubmit","onFormValidate"],Implements:[Options,Events,Class.Occlude],options:{requestOptions:{evalScripts:!0,useSpinner:!0,emulation:!1,link:"ignore"},sendButtonClicked:!0,extraData:{},resetForm:!0},property:"form.request",initialize:function(e,t,n){if(this.element=document.id(e),this.occlude())return this.occluded;this.setOptions(n).setTarget(t).attach()},setTarget:function(e){return this.target=document.id(e),this.request?this.request.setOptions({update:this.target}):this.makeRequest(),this},toElement:function(){return this.element},makeRequest:function(){var e=this;return this.request=new Request.HTML(Object.merge({update:this.target,emulation:!1,spinnerTarget:this.element,method:this.element.get("method")||"post"},this.options.requestOptions)).addEvents({success:function(t,n,i,r){["complete","success"].each(function(o){e.fireEvent(o,[e.target,t,n,i,r])})},failure:function(){e.fireEvent("complete",arguments).fireEvent("failure",arguments)},exception:function(){e.fireEvent("failure",arguments)}}),this.attachReset()},attachReset:function(){return this.options.resetForm?(this.request.addEvent("success",function(){Function.attempt(function(){this.element.reset()}.bind(this)),window.OverText&&OverText.update()}.bind(this)),this):this},attach:function(e){var t=0!=e?"addEvent":"removeEvent";this.element[t]("click:relay(button, input[type=submit])",this.saveClickedButton.bind(this));var n=this.element.retrieve("validator");return n?n[t]("onFormValidate",this.onFormValidate):this.element[t]("submit",this.onSubmit),this},detach:function(){return this.attach(!1)},enable:function(){return this.attach()},disable:function(){return this.detach()},onFormValidate:function(e,t,n){if(n){var i=this.element.retrieve("validator");(e||i&&!i.options.stopOnFailure)&&(n.stop(),this.send())}},onSubmit:function(e){var t=this.element.retrieve("validator");if(t)return this.element.removeEvent("submit",this.onSubmit),t.addEvent("onFormValidate",this.onFormValidate),void t.validate(e);e&&e.stop(),this.send()},saveClickedButton:function(e,t){var n=t.get("name");n&&this.options.sendButtonClicked&&(this.options.extraData[n]=t.get("value")||!0,this.clickedCleaner=function(){delete this.options.extraData[n],this.clickedCleaner=function(){}}.bind(this))},clickedCleaner:function(){},send:function(){var e=this.element.toQueryString().trim(),t=Object.toQueryString(this.options.extraData);return e?e+="&"+t:e=t,this.fireEvent("send",[this.element,e.parseQueryString()]),this.request.send({data:e,url:this.options.requestOptions.url||this.element.get("action")}),this.clickedCleaner(),this}}),Element.implement("formUpdate",function(e,t){var n=this.retrieve("form.request");return n?(e&&n.setTarget(e),t&&n.setOptions(t).makeRequest()):n=new Form.Request(this,e,t),n.send(),this}),function(){var e=function(e){var t=e.options.hideInputs;if(window.OverText){var n=[null];OverText.each(function(e){n.include("."+e.options.labelClass)}),n&&(t+=n.join(", "))}return t?e.element.getElements(t):null};Fx.Reveal=new Class({Extends:Fx.Morph,options:{link:"cancel",styles:["padding","border","margin"],transitionOpacity:"opacity"in document.documentElement,mode:"vertical",display:function(){return"tr"!=this.element.get("tag")?"block":"table-row"},opacity:1,hideInputs:"opacity"in document.documentElement?null:"select, input, textarea, object, embed"},dissolve:function(){if(this.hiding||this.showing)"chain"==this.options.link?this.chain(this.dissolve.bind(this)):"cancel"!=this.options.link||this.hiding||(this.cancel(),this.dissolve());else if("none"!=this.element.getStyle("display")){this.hiding=!0,this.showing=!1,this.hidden=!0,this.cssText=this.element.style.cssText;var t=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});this.options.transitionOpacity&&(t.opacity=this.options.opacity);var n={};Object.each(t,function(e,t){n[t]=[e,0]}),this.element.setStyles({display:Function.convert(this.options.display).call(this),overflow:"hidden"});var i=e(this);i&&i.setStyle("visibility","hidden"),this.$chain.unshift(function(){this.hidden&&(this.hiding=!1,this.element.style.cssText=this.cssText,this.element.setStyle("display","none"),i&&i.setStyle("visibility","visible")),this.fireEvent("hide",this.element),this.callChain()}.bind(this)),this.start(n)}else this.callChain.delay(10,this),this.fireEvent("complete",this.element),this.fireEvent("hide",this.element);return this},reveal:function(){if(this.showing||this.hiding)"chain"==this.options.link?this.chain(this.reveal.bind(this)):"cancel"!=this.options.link||this.showing||(this.cancel(),this.reveal());else if("none"==this.element.getStyle("display")){this.hiding=!1,this.showing=!0,this.hidden=!1,this.cssText=this.element.style.cssText;var t;this.element.measure(function(){t=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode})}.bind(this)),null!=this.options.heightOverride&&(t.height=this.options.heightOverride.toInt()),null!=this.options.widthOverride&&(t.width=this.options.widthOverride.toInt()),this.options.transitionOpacity&&(this.element.setStyle("opacity",0),t.opacity=this.options.opacity);var n={height:0,display:Function.convert(this.options.display).call(this)};Object.each(t,function(e,t){n[t]=0}),n.overflow="hidden",this.element.setStyles(n);var i=e(this);i&&i.setStyle("visibility","hidden"),this.$chain.unshift(function(){this.element.style.cssText=this.cssText,this.element.setStyle("display",Function.convert(this.options.display).call(this)),this.hidden||(this.showing=!1),i&&i.setStyle("visibility","visible"),this.callChain(),this.fireEvent("show",this.element)}.bind(this)),this.start(t)}else this.callChain(),this.fireEvent("complete",this.element),this.fireEvent("show",this.element);return this},toggle:function(){return"none"==this.element.getStyle("display")?this.reveal():this.dissolve(),this},cancel:function(){return this.parent.apply(this,arguments),null!=this.cssText&&(this.element.style.cssText=this.cssText),this.hiding=!1,this.showing=!1,this}}),Element.Properties.reveal={set:function(e){return this.get("reveal").cancel().setOptions(e),this},get:function(){var e=this.retrieve("reveal");return e||(e=new Fx.Reveal(this),this.store("reveal",e)),e}},Element.Properties.dissolve=Element.Properties.reveal,Element.implement({reveal:function(e){return this.get("reveal").setOptions(e).reveal(),this},dissolve:function(e){return this.get("reveal").setOptions(e).dissolve(),this},nix:function(e){var t=Array.link(arguments,{destroy:Type.isBoolean,options:Type.isObject});return this.get("reveal").setOptions(e).dissolve().chain(function(){this[t.destroy?"destroy":"dispose"]()}.bind(this)),this},wink:function(){var e=Array.link(arguments,{duration:Type.isNumber,options:Type.isObject}),t=this.get("reveal").setOptions(e.options);t.reveal().chain(function(){(function(){t.dissolve()}).delay(e.duration||2e3)})}})}(),Form.Request.Append=new Class({Extends:Form.Request,options:{useReveal:!0,revealOptions:{},inject:"bottom"},makeRequest:function(){this.request=new Request.HTML(Object.merge({url:this.element.get("action"),method:this.element.get("method")||"post",spinnerTarget:this.element},this.options.requestOptions,{evalScripts:!1})).addEvents({success:function(e,t,n,i){var r,o=Elements.from(n);(r=1==o.length?o[0]:new Element("div",{styles:{display:"none"}}).adopt(o)).inject(this.target,this.options.inject),this.options.requestOptions.evalScripts&&Browser.exec(i),this.fireEvent("beforeEffect",r);var s=function(){this.fireEvent("success",[r,this.target,e,t,n,i])}.bind(this);this.options.useReveal?(r.set("reveal",this.options.revealOptions).get("reveal").chain(s),r.reveal()):s()}.bind(this),failure:function(e){this.fireEvent("failure",e)}.bind(this)}),this.attachReset()}}),function(){var e=Object.prototype.hasOwnProperty;Object.extend({getFromPath:function(t,n){"string"==typeof n&&(n=n.split("."));for(var i=0,r=n.length;i<r;i++){if(!e.call(t,n[i]))return null;t=t[n[i]]}return t},cleanValues:function(e,t){t=t||function(e){return null!=e};for(var n in e)t(e[n])||delete e[n];return e},erase:function(t,n){return e.call(t,n)&&delete t[n],t},run:function(e){var t=Array.slice(arguments,1);for(var n in e)e[n].apply&&e[n].apply(e,t);return e}})}(),Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(e,t){this.elements=this.subject=$$(e),this.parent(t)},compute:function(e,t,n){var i={};for(var r in e){var o=e[r],s=t[r],a=i[r]={};for(var l in o)a[l]=this.parent(o[l],s[l],n)}return i},set:function(e){for(var t in e)if(this.elements[t]){var n=e[t];for(var i in n)this.render(this.elements[t],i,n[i],this.options.unit)}return this},start:function(e){if(!this.check(e))return this;var t={},n={};for(var i in e)if(this.elements[i]){var r=e[i],o=t[i]={},s=n[i]={};for(var a in r){var l=this.prepare(this.elements[i],a,r[a]);o[a]=l.from,s[a]=l.to}}return this.parent(t,n)}}),Fx.Accordion=new Class({Extends:Fx.Elements,options:{fixedHeight:!1,fixedWidth:!1,display:0,show:!1,height:!0,width:!1,opacity:!0,alwaysHide:!1,trigger:"click",initialDisplayFx:!0,resetHeight:!0,keepOpen:!1},initialize:function(){var e=function(e){return null!=e},t=Array.link(arguments,{container:Type.isElement,options:Type.isObject,togglers:e,elements:e});this.parent(t.elements,t.options);var n=this.options,i=this.togglers=$$(t.togglers);this.previous=-1,this.internalChain=new Chain,n.alwaysHide&&(this.options.link="chain"),(n.show||0===this.options.show)&&(n.display=!1,this.previous=n.show),n.start&&(n.display=!1,n.show=!1);var r=this.effects={};n.opacity&&(r.opacity="fullOpacity"),n.width&&(r.width=n.fixedWidth?"fullWidth":"offsetWidth"),n.height&&(r.height=n.fixedHeight?"fullHeight":"scrollHeight");for(var o=0,s=i.length;o<s;o++)this.addSection(i[o],this.elements[o]);this.elements.each(function(e,t){if(n.show===t)this.fireEvent("active",[i[t],e]);else for(var o in r)e.setStyle(o,0)},this),(n.display||0===n.display||!1===n.initialDisplayFx)&&this.display(n.display,n.initialDisplayFx),!1!==n.fixedHeight&&(n.resetHeight=!1),this.addEvent("complete",this.internalChain.callChain.bind(this.internalChain))},addSection:function(e,t){e=document.id(e),t=document.id(t),this.togglers.include(e),this.elements.include(t);var n=this.togglers,i=this.options,r=n.contains(e),o=n.indexOf(e),s=this.display.pass(o,this);if(e.store("accordion:display",s).addEvent(i.trigger,s),i.height&&t.setStyles({"padding-top":0,"border-top":"none","padding-bottom":0,"border-bottom":"none"}),i.width&&t.setStyles({"padding-left":0,"border-left":"none","padding-right":0,"border-right":"none"}),t.fullOpacity=1,i.fixedWidth&&(t.fullWidth=i.fixedWidth),i.fixedHeight&&(t.fullHeight=i.fixedHeight),t.setStyle("overflow","hidden"),!r)for(var a in this.effects)t.setStyle(a,0);return this},removeSection:function(e,t){var n=this.togglers,i=n.indexOf(e),r=this.elements[i],o=function(){n.erase(e),this.elements.erase(r),this.detach(e)}.bind(this);return this.now==i||null!=t?this.display(null!=t?t:i-1>=0?i-1:0).chain(o):o(),this},detach:function(e){var t=function(e){e.removeEvent(this.options.trigger,e.retrieve("accordion:display"))}.bind(this);return e?t(e):this.togglers.each(t),this},display:function(e,t){if(!this.check(e,t))return this;var n={},i=this.elements,r=this.options,o=this.effects,s=r.keepOpen,a=r.alwaysHide;if(null==t&&(t=!0),"element"==typeOf(e)&&(e=i.indexOf(e)),e==this.current&&!a&&!s)return this;if(r.resetHeight){var l=i[this.current];if(l&&!this.selfHidden)for(var c in o)l.setStyle(c,l[o[c]])}return this.timer&&"chain"==r.link?this:(null!=this.current&&(this.previous=this.current),this.current=e,this.selfHidden=!1,i.each(function(i,l){n[l]={};var c,u;if(!s||l==e){l==e&&(u=i.offsetHeight>0&&r.height||i.offsetWidth>0&&r.width),l!=e?c=!0:(a||s)&&u&&(c=!0,this.selfHidden=!0),this.fireEvent(c?"background":"active",[this.togglers[l],i]);for(var p in o)n[l][p]=c?0:i[o[p]];t||c||!r.resetHeight||(n[l].height="auto")}},this),this.internalChain.clearChain(),this.internalChain.chain(function(){if(r.resetHeight&&!this.selfHidden){var t=i[e];t&&t.setStyle("height","auto")}}.bind(this)),t?this.start(n):this.set(n).internalChain.callChain())}});var Accordion=new Class({Extends:Fx.Accordion,initialize:function(){this.parent.apply(this,arguments);var e=Array.link(arguments,{container:Type.isElement});this.container=e.container},addSection:function(e,t,n){e=document.id(e),t=document.id(t);var i=this.togglers.contains(e),r=this.togglers.length;return!r||i&&!n?this.container&&!i&&(e.inject(this.container),t.inject(this.container)):(n=null!=n?n:r-1,e.inject(this.togglers[n],"before"),t.inject(e,"after")),this.parent.apply(this,arguments)}});Request.JSONP=new Class({Implements:[Chain,Events,Options],options:{onRequest:function(e){this.options.log&&window.console&&console.log&&console.log("JSONP retrieving script with url:"+e)},onError:function(e){this.options.log&&window.console&&console.warn&&console.warn("JSONP "+e+" will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs")},url:"",callbackKey:"callback",injectScript:document.head,data:"",link:"ignore",timeout:0,log:!1},initialize:function(e){this.setOptions(e)},send:function(e){if(!Request.prototype.check.call(this,e))return this;this.running=!0;var t=typeOf(e);"string"!=t&&"element"!=t||(e={data:e});var n=(e=Object.merge(this.options,e||{})).data;switch(typeOf(n)){case"element":n=document.id(n).toQueryString();break;case"object":case"hash":n=Object.toQueryString(n)}var i=this.index=Request.JSONP.counter++,r="request_"+i,o=e.url+(e.url.test("\\?")?"&":"?")+e.callbackKey+"=Request.JSONP.request_map.request_"+i+(n?"&"+n:"");o.length>2083&&this.fireEvent("error",o),Request.JSONP.request_map[r]=function(){delete Request.JSONP.request_map[r],this.success(arguments,i)}.bind(this);var s=this.getScript(o).inject(e.injectScript);return this.fireEvent("request",[o,s]),e.timeout&&this.timeout.delay(e.timeout,this),this},getScript:function(e){return this.script||(this.script=new Element("script",{type:"text/javascript",async:!0,src:e})),this.script},success:function(e){this.running&&this.clear().fireEvent("complete",e).fireEvent("success",e).callChain()},cancel:function(){return this.running&&this.clear().fireEvent("cancel"),this},isRunning:function(){return!!this.running},clear:function(){return this.running=!1,this.script&&(this.script.destroy(),this.script=null),this},timeout:function(){return this.running&&(this.running=!1,this.fireEvent("timeout",[this.script.get("src"),this.script]).fireEvent("failure").cancel()),this}}),Request.JSONP.counter=0,Request.JSONP.request_map={},Array.implement({min:function(){return Math.min.apply(null,this)},max:function(){return Math.max.apply(null,this)},average:function(){return this.length?this.sum()/this.length:0},sum:function(){var e=0,t=this.length;if(t)for(;t--;)null!=this[t]&&(e+=parseFloat(this[t]));return e},unique:function(){return[].combine(this)},shuffle:function(){for(var e=this.length;e&&--e;){var t=this[e],n=Math.floor(Math.random()*(e+1));this[e]=this[n],this[n]=t}return this},reduce:function(e,t){for(var n=0,i=this.length;n<i;n++)n in this&&(t=void 0===t?this[n]:e.call(null,t,this[n],n,this));return t},reduceRight:function(e,t){for(var n=this.length;n--;)n in this&&(t=void 0===t?this[n]:e.call(null,t,this[n],n,this));return t},pluck:function(e){return this.map(function(t){return t[e]})}}),function(){var e=this.Asset={javascript:function(e,t){t||(t={});var n=new Element("script",{src:e,type:"text/javascript"}),i=t.document||document,r=t.onload||t.onLoad;return delete t.onload,delete t.onLoad,delete t.document,r&&(n.addEventListener?n.addEvent("load",r):n.addEvent("readystatechange",function(){["loaded","complete"].contains(this.readyState)&&r.call(this)})),n.set(t).inject(i.head)},css:function(e,t){t||(t={});var n=t.onload||t.onLoad,i=t.document||document,r=t.timeout||3e3;["onload","onLoad","document"].each(function(e){delete t[e]});var o=new Element("link",{type:"text/css",rel:"stylesheet",media:"screen",href:e}).setProperties(t).inject(i.head);if(n){var s=!1,a=0,l=function(){for(var e=document.styleSheets,t=0;t<e.length;t++){var i=e[t],c=i.ownerNode?i.ownerNode:i.owningElement;if(c&&c==o)return s=!0,n.call(o)}if(a++,!s&&a<r/50)return setTimeout(l,50)};setTimeout(l,0)}return o},image:function(e,t){t||(t={});var n=new Image,i=document.id(n)||new Element("img");return["load","abort","error"].each(function(e){var r="on"+e,o="on"+e.capitalize(),s=t[r]||t[o]||function(){};delete t[o],delete t[r],n[r]=function(){n&&(i.parentNode||(i.width=n.width,i.height=n.height),n=n.onload=n.onabort=n.onerror=null,s.delay(1,i,i),i.fireEvent(e,i,1))}}),n.src=i.src=e,n&&n.complete&&n.onload.delay(1),i.set(t)},images:function(t,n){t=Array.convert(t);var i=function(){},r=0;return n=Object.merge({onComplete:i,onProgress:i,onError:i,properties:{}},n),new Elements(t.map(function(i,o){return e.image(i,Object.append(n.properties,{onload:function(){r++,n.onProgress.call(this,r,o,i),r==t.length&&n.onComplete()},onerror:function(){r++,n.onError.call(this,r,o,i),r==t.length&&n.onComplete()}}))}))}}}(),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(t,n){if(!(this instanceof e))return new e(t,n);this.options=n=n?Ai(n):{},Ai(zr,n,!1),p(n);var i=n.value;"string"==typeof i&&(i=new lo(i,n.mode,null,n.lineSeparator)),this.doc=i;var r=new e.inputStyles[n.inputStyle](this),s=this.display=new function(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Ii("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Ii("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Ii("div",null,"CodeMirror-code"),i.selectionDiv=Ii("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Ii("div",null,"CodeMirror-cursors"),i.measure=Ii("div",null,"CodeMirror-measure"),i.lineMeasure=Ii("div",null,"CodeMirror-measure"),i.lineSpace=Ii("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Ii("div",[Ii("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Ii("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Ii("div",null,null,"position: absolute; height: "+xo+"px; width: 1px;"),i.gutters=Ii("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Ii("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Ii("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),ir&&rr<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0);or||er&&fr||(i.scroller.draggable=!0);e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper));i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}(t,i,r);s.wrapper.CodeMirror=this,a(this),o(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!fr&&s.input.focus(),y(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new _i,keySeq:null,specialChars:null};var l=this;ir&&rr<11&&setTimeout(function(){l.display.input.reset(!0)},20),function(e){function t(){i.activeTouch&&(r=setTimeout(function(){i.activeTouch=null},1e3),(o=i.activeTouch).end=+new Date)}function n(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var i=e.display;yo(i.scroller,"mousedown",rt(e,vt)),ir&&rr<11?yo(i.scroller,"dblclick",rt(e,function(t){if(!vi(e,t)){var n=gt(e,t);if(n&&!xt(e,t)&&!mt(e.display,t)){po(t);var i=e.findWordAt(n);le(e.doc,i.anchor,i.head)}}})):yo(i.scroller,"dblclick",function(t){vi(e,t)||po(t)});br||yo(i.scroller,"contextmenu",function(t){It(e,t)});var r,o={end:0};yo(i.scroller,"touchstart",function(t){if(!vi(e,t)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(t)){clearTimeout(r);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-o.end<=300?o:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),yo(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),yo(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!mt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||n(o,o.prev)?new ee(a,a):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(a):new ee(_r(a.line,0),re(e.doc,_r(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),po(r)}t()}),yo(i.scroller,"touchcancel",t),yo(i.scroller,"scroll",function(){i.scroller.clientHeight&&(kt(e,i.scroller.scrollTop),St(e,i.scroller.scrollLeft,!0),vo(e,"scroll",e))}),yo(i.scroller,"mousewheel",function(t){Ct(e,t)}),yo(i.scroller,"DOMMouseScroll",function(t){Ct(e,t)}),yo(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){vi(e,t)||fo(t)},over:function(t){vi(e,t)||(!function(e,t){var n=gt(e,t);if(!n)return;var i=document.createDocumentFragment();ke(e,n,i),e.display.dragCursor||(e.display.dragCursor=Ii("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv));Ni(e.display.dragCursor,i)}(e,t),fo(t))},start:function(t){!function(e,t){if(ir&&(!e.state.draggingText||+new Date-Lr<100))return void fo(t);if(vi(e,t)||mt(e.display,t))return;if(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!cr){var n=Ii("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",lr&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),lr&&n.parentNode.removeChild(n)}}(e,t)},drop:rt(e,wt),leave:function(t){vi(e,t)||_t(e)}};var s=i.input.getField();yo(s,"keyup",function(t){Ot.call(e,t)}),yo(s,"keydown",rt(e,At)),yo(s,"keypress",rt(e,Lt)),yo(s,"focus",function(t){Pt(e,t)}),yo(s,"blur",function(t){Rt(e,t)})}(this),function(){if(zo)return;(function(){var e;yo(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,$i(yt)},100))}),yo(window,"blur",function(){$i(Rt)})})(),zo=!0}(),tt(this),this.curOp.forceUpdate=!0,Un(this,i),n.autofocus&&!fr||l.hasFocus()?setTimeout(Oi(Pt,this),20):Rt(this);for(var c in Wr)Wr.hasOwnProperty(c)&&Wr[c](this,n[c],$r);x(this),n.finishInit&&n.finishInit(this);for(var u=0;u<qr.length;++u)qr[u](this);nt(this),or&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),n(t)}function n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Ce(e,100),e.state.modeGen++,e.curOp&&ct(e)}function i(e){var t=Ze(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/et(e.display)-3);return function(r){if(Sn(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function r(e){var t=e.doc,n=i(e);t.iter(function(e){var t=n(e);t!=e.height&&Xn(e,t)})}function o(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fe(e)}function s(e){a(e),ct(e),setTimeout(function(){b(e)},20)}function a(e){var t=e.display.gutters,n=e.options.gutters;ji(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Ii("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",l(e)}function l(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function c(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=vn(i);){i=(r=t.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=e;t=bn(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function u(e){var t=e.display,n=e.doc;t.maxLine=Vn(n,n.first),t.maxLineLength=c(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=c(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Ci(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ae(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Le(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function f(e,t,n){this.cm=n;var i=this.vert=Ii("div",[Ii("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Ii("div",[Ii("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),yo(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),yo(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ir&&rr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function d(){}function y(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&No(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),yo(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?St(t,e):kt(t,e)},t),t.display.scrollbars.addClass&&Do(t.display.wrapper,t.display.scrollbars.addClass)}function m(e,t){t||(t=h(e));var n=e.display.barWidth,i=e.display.barHeight;g(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&M(e),g(e,h(e)),n=e.display.barWidth,i=e.display.barHeight}function g(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function v(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Me(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=Yn(t,i),s=Yn(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=Yn(t,Zn(Vn(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Yn(t,Zn(Vn(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function b(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=_(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function x(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Ii("div",[Ii("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",l(e),!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function k(e,t,n){var i=e.display;this.viewport=t,this.visible=v(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Pe(e),this.force=n,this.dims=O(e),this.events=[]}function S(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return pt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==dt(e))return!1;x(e)&&(pt(e),t.dims=O(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),wr&&(o=_n(e.doc,o),s=kn(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=lt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=lt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(ht(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(lt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,ht(e,n))));i.viewTo=n}(e,o,s),n.viewOffset=Zn(Vn(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=dt(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Di();return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){function i(t){var n=t.nextSibling;return or&&dr&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild;for(var l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var p=l[u];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;a!=p.node;)a=i(a);var h=o&&null!=t&&t<=c&&p.lineNumber;p.changes&&(Ci(p.changes,"gutter")>-1&&(h=!1),L(e,p,c,n)),h&&(ji(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(w(e.options,c)))),a=p.node.nextSibling}else{var f=function(e,t,n,i){var r=R(e,t);t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass);r.textClass&&(t.textClass=r.textClass);return I(t),j(e,t,n,i),N(e,t,i),t.node}(e,p,c,n);s.insertBefore(f,a)}c+=p.size}for(;a;)a=i(a)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Di()!=c&&c.offsetHeight&&c.focus(),ji(n.cursorDiv),ji(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Ce(e,400)),n.updateLineNumbers=null,!0}function C(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Pe(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ae(e.display)-Re(e),n.top)}),t.visible=v(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&S(e,t);i=!1){M(e);var r=h(e);we(e),m(e,r),E(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function T(e,t){var n=new k(e,t);if(S(e,n)){M(e),C(e,n);var i=h(e);we(e),m(e,i),E(e,i),n.finish()}}function E(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Le(e)+"px"}function M(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(ir&&rr<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=Ze(t)),(l>.001||l<-.001)&&(Xn(o.line,r),A(o.line),o.rest))for(var c=0;c<o.rest.length;c++)A(o.rest[c])}}}function A(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function O(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:_(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function L(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?function(e,t){var n=t.text.className,i=R(e,t);t.text==t.node&&(t.node=i.pre);t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,I(t)):n&&(t.text.className=n)}(e,t):"gutter"==o?j(e,t,n,i):"class"==o?I(t):"widget"==o&&function(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}N(e,t,n)}(e,t,i)}t.changes=null}function P(e){return e.node==e.text&&(e.node=Ii("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ir&&rr<8&&(e.node.style.zIndex=2)),e.node}function R(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):zn(e,t)}function I(e){!function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=P(e);e.background=n.insertBefore(Ii("div",null,t),n.firstChild)}}(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function j(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){o=P(t);t.gutterBackground=Ii("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=P(t),s=t.gutter=Ii("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Ii("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(Ii("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function N(e,t,n){if(D(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)D(e,t.rest[i],t,n,!1)}function D(e,t,n,i,r){if(t.widgets)for(var o=P(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=Ii("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),function(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),mi(l,"redraw")}}function z(e){return _r(e.line,e.ch)}function W(e,t){return kr(e,t)<0?t:e}function $(e,t){return kr(e,t)<0?e:t}function B(e){e.state.focused||(e.display.input.focus(),Pt(e))}function H(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=o.splitLines(t),l=null;if(s&&i.ranges.length>1)if(Sr&&Sr.text.join("\n")==t){if(i.ranges.length%Sr.text.length==0){l=[];for(c=0;c<Sr.text.length;c++)l.push(o.splitLines(Sr.text[c]))}}else a.length==i.ranges.length&&(l=Ti(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],p=u.from(),h=u.to();u.empty()&&(n&&n>0?p=_r(p.line,p.ch-n):e.state.overwrite&&!s?h=_r(h.line,Math.min(Vn(o,h.line).text.length,h.ch+Si(a).length)):Sr&&Sr.lineWise&&Sr.text.join("\n")==t&&(p=h=_r(p.line,0)));var f=e.curOp.updateInput,d={from:p,to:h,text:l?l[c%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Wt(e.doc,d),mi(e,"inputRead",e,d)}t&&!s&&q(e,t),Vt(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function F(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||it(t,function(){H(t,n,0,null,"paste")}),!0}function q(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Jt(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Vn(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Jt(e,r.head.line,"smart"));s&&mi(e,"electricInput",e,r.head.line)}}}function K(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:_r(r,0),head:_r(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function U(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function V(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new _i,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function G(){var e=Ii("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Ii("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return or?e.style.width="1000px":e.setAttribute("wrap","off"),hr&&(e.style.border="1px solid black"),U(e),t}function J(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _i,this.gracePeriod=!1}function X(e,t){var n=Ne(e,t.line);if(!n||n.hidden)return null;var i=Vn(e.doc,t.line),r=Ie(n,i,t.line),o=ei(i),s="left";if(o){s=Gi(o,t.ch)%2?"right":"left"}var a=We(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Q(e,t){return t&&(e.bad=!0),e}function Y(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return Q(e.clipPos(_r(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return function(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=Qn(r<0?e.line:e.rest[r]),p=o[s]+i;return(i<0||a!=t)&&(p=o[s+(i?1:0)]),_r(l,p)}}}var r=e.text.firstChild,o=!1;if(!t||!Ro(r,t))return Q(_r(Qn(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?Si(e.rest):e.line;return Q(_r(Qn(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));for(;l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps;var p=i(a,l,n);if(p)return Q(p,o);for(var h=l.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(p=i(h,h.firstChild,0))return Q(_r(p.line,p.ch-f),o);f+=h.textContent.length}for(var d=l.previousSibling,f=n;d;d=d.previousSibling){if(p=i(d,d.firstChild,-1))return Q(_r(p.line,p.ch+f),o);f+=d.textContent.length}}(o,t,n)}}function Z(e,t){this.ranges=e,this.primIndex=t}function ee(e,t){this.anchor=e,this.head=t}function te(e,t){var n=e[t];e.sort(function(e,t){return kr(e.from(),t.from())}),t=Ci(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(kr(o.to(),r.from())>=0){var s=$(o.from(),r.from()),a=W(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new ee(l?a:s,l?s:a))}}return new Z(e,t)}function ne(e,t){return new Z([new ee(e,t||e)],0)}function ie(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function re(e,t){if(t.line<e.first)return _r(e.first,0);var n=e.first+e.size-1;return t.line>n?_r(n,Vn(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?_r(e.line,t):n<0?_r(e.line,0):e}(t,Vn(e,t.line).text.length)}function oe(e,t){return t>=e.first&&t<e.first+e.size}function se(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=re(e,t[i]);return n}function ae(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=kr(n,r)<0;o!=kr(i,r)<0?(r=n,n=i):o!=kr(n,i)<0&&(n=i)}return new ee(r,n)}return new ee(i||n,n)}function le(e,t,n,i){fe(e,new Z([ae(e,e.sel.primary(),t,n)],0),i)}function ce(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=ae(e,e.sel.ranges[r],t[r],null);fe(e,te(i,e.sel.primIndex),n)}function ue(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,fe(e,te(r,e.sel.primIndex),i)}function pe(e,t,n,i){fe(e,ne(t,n),i)}function he(e,t,n){var i=e.history.done,r=Si(i);r&&r.ranges?(i[i.length-1]=t,de(e,t,n)):fe(e,t,n)}function fe(e,t,n){de(e,t,n),function(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Si(r.done),t))?r.done[r.done.length-1]=t:oi(t,r.done);r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&ii(r.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function de(e,t,n){(xi(e,"beforeSelectionChange")||e.cm&&xi(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ee(re(e,t[n].anchor),re(e,t[n].head))},origin:n&&n.origin};return vo(e,"beforeSelectionChange",e,i),e.cm&&vo(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?te(i.ranges,i.ranges.length-1):t}(e,t,n));ye(e,ge(e,t,n&&n.bias||(kr(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Vt(e.cm)}function ye(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,bi(e.cm)),mi(e,"cursorActivity",e))}function me(e){ye(e,ge(e,e.sel,null,!1))}function ge(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=be(e,s.anchor,a&&a.anchor,n,i),c=be(e,s.head,a&&a.head,n,i);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new ee(l,c))}return r?te(r,t.primIndex):t}function ve(e,t,n,i,r){var o=Vn(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(vo(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=xe(e,u,-i,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=kr(u,n))&&(i<0?c<0:c>0))return ve(e,u,t,i,r)}var p=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(p=xe(e,p,i,p.line==t.line?o:null)),p?ve(e,p,t,i,r):null}}return t}function be(e,t,n,i,r){var o=i||1,s=ve(e,t,n,o,r)||!r&&ve(e,t,n,o,!0)||ve(e,t,n,-o,r)||!r&&ve(e,t,n,-o,!0);return s||(e.cantEdit=!0,_r(e.first,0))}function xe(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?re(e,_r(t.line-1)):null:n>0&&t.ch==(i||Vn(e,t.line)).text.length?t.line<e.first+e.size-1?_r(t.line+1,0):null:new _r(t.line,t.ch+n)}function we(e){e.display.input.showSelection(e.display.input.prepareSelection())}function _e(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(!1!==t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&ke(e,a.head,r),l||function(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Ii("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return Ge(e,_r(t,n),"div",p,i)}var a,l,p=Vn(s,t),h=p.text.length;return function(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}(ei(p),n||0,null==r?h:r,function(e,t,s){var p,f,d,y=o(e,"left");if(e==t)p=y,f=d=y.left;else{if(p=o(t-1,"right"),"rtl"==s){var m=y;y=p,p=m}f=y.left,d=p.right}null==n&&0==e&&(f=c),p.top-y.top>3&&(i(f,y.top,null,y.bottom),f=c,y.bottom<p.top&&i(f,y.bottom,null,p.top)),null==r&&t==h&&(d=u),(!a||y.top<a.top||y.top==a.top&&y.left<a.left)&&(a=y),(!l||p.bottom>l.bottom||p.bottom==l.bottom&&p.right>l.right)&&(l=p),f<c+1&&(f=c),i(f,p.top,d-f,p.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Oe(e.display),c=l.left,u=Math.max(o.sizerWidth,Pe(e)-o.sizer.offsetLeft)-l.right;var p=t.from(),h=t.to();if(p.line==h.line)r(p.line,p.ch,h.ch);else{var f=Vn(s,p.line),d=Vn(s,h.line),y=wn(f)==wn(d),m=r(p.line,p.ch,y?f.text.length+1:null).end,g=r(h.line,y?0:null,h.ch).start;y&&(m.top<g.top-2?(i(m.right,m.top,null,m.bottom),i(c,g.top,g.left,g.bottom)):i(m.right,m.top,g.left-m.right,m.bottom)),m.bottom<g.top&&i(c,m.bottom,null,g.top)}n.appendChild(a)}(e,a,o)}}return i}function ke(e,t,n){var i=Je(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Ii("div","","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Ii("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Se(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ce(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Oi(Te,e))}function Te(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ur(t.mode,Ee(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=In(e,o,a?Ur(t.mode,i):i,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var p=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!p&&h<s.length;++h)p=s[h]!=o.styles[h];p&&r.push(t.frontier),o.stateAfter=a?i:Ur(t.mode,i)}else o.text.length<=e.options.maxHighlightLength&&Nn(e,o.text,i),o.stateAfter=t.frontier%5==0?Ur(t.mode,i):null;if(++t.frontier,+new Date>n)return Ce(e,e.options.workDelay),!0}),r.length&&it(e,function(){for(var t=0;t<r.length;t++)ut(e,r[t],"text")})}}function Ee(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=function(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Vn(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Co(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}(e,t,n),s=o>i.first&&Vn(i,o-1).stateAfter;return s=s?Ur(i.mode,s):Vr(i.mode),i.iter(o,t,function(n){Nn(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?Ur(i.mode,s):null,++o}),n&&(i.frontier=o),s}function Me(e){return e.lineSpace.offsetTop}function Ae(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Oe(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ni(e.measure,Ii("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Le(e){return xo-e.display.nativeBarWidth}function Pe(e){return e.display.scroller.clientWidth-Le(e)-e.display.barWidth}function Re(e){return e.display.scroller.clientHeight-Le(e)-e.display.barHeight}function Ie(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(Qn(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function je(e,t,n,i){return ze(e,De(e,t),n,i)}function Ne(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ht(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function De(e,t){var n=Qn(t),i=Ne(e,n);i&&!i.text?i=null:i&&i.changes&&(L(e,i,n,O(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=Qn(t=wn(t)),i=e.display.externalMeasured=new at(e.doc,t,n);i.lineN=n;var r=i.built=zn(e,i);return i.text=r.pre,Ni(e.display.lineMeasure,r.pre),i}(e,t));var r=Ie(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ze(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var i=e.options.lineWrapping,r=i&&Pe(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=We(t.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(m=0;m<4;m++){for(;a&&Ri(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Ri(t.line.text.charAt(o.coverStart+l));)++l;if((r=ir&&rr<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():$e(Ao(s,a,l).getClientRects(),i)).left||r.right||0==a)break;l=a,a-=1,c="right"}ir&&rr<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Fo)return Fo;var t=Ni(e,Ii("span","x")),n=t.getBoundingClientRect(),i=Ao(t,0,1).getBoundingClientRect();return Fo=Math.abs(n.left-i.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{a>0&&(c=i="right");var u;r=e.options.lineWrapping&&(u=s.getClientRects()).length>1?u["right"==i?u.length-1:0]:s.getBoundingClientRect()}if(ir&&rr<9&&!a&&(!r||!r.left&&!r.right)){var p=s.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+et(e.display),top:p.top,bottom:p.bottom}:Mr}for(var h=r.top-t.rect.top,f=r.bottom-t.rect.top,d=(h+f)/2,y=t.view.measure.heights,m=0;m<y.length-1&&!(d<y[m]);m++);var g=m?y[m-1]:0,v=y[m],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:g,bottom:v};r.left||r.right||(b.bogus=!0);e.options.singleCursorHeightPerLine||(b.rtop=h,b.rbottom=f);return b}(e,t,n,i)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function We(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(t<l?(r=0,o=1,s="left"):t<c?o=(r=t-l)+1:(a==e.length-3||t==c&&e[a+3]>t)&&(r=(o=c-l)-1,t>=c&&(s="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[2+(a-=3)],s="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function $e(e,t){var n=Mr;if("left"==t)for(i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Be(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function He(e){e.display.externalMeasure=null,ji(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Be(e.display.view[t])}function Fe(e){He(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function qe(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ke(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ue(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=En(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Zn(t);if("local"==i?s+=Me(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Ke());var l=a.left+("window"==i?0:qe());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Ve(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=qe(),r-=Ke();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Ge(e,t,n,i,r){return i||(i=Vn(e.doc,t.line)),Ue(e,i,je(e,i,t.ch,r),n)}function Je(e,t,n,i,r,o){function s(t,s){var a=ze(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Ue(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==Bi(n)&&t&&n.level<l[t-1].level?(e=Hi(n=l[--t])-(n.level%2?0:1),i=!0):e==Hi(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=Bi(n=l[++t])-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||Vn(e.doc,t.line),r||(r=De(e,i));var l=ei(i),c=t.ch;if(!l)return s(c);var u=a(c,Gi(l,c));return null!=Ko&&(u.other=a(c,Ko)),u}function Xe(e,t){var n=0,t=re(e.doc,t);e.options.lineWrapping||(n=et(e.display)*t.ch);var i=Vn(e.doc,t.line),r=Zn(i)+Me(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Qe(e,t,n,i){var r=_r(e,t);return r.xRel=i,n&&(r.outside=!0),r}function Ye(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return Qe(i.first,0,!0,-1);var r=Yn(i,n),o=i.first+i.size-1;if(r>o)return Qe(i.first+i.size-1,Vn(i,o).text.length,!0,1);t<0&&(t=0);for(var s=Vn(i,r);;){var a=function(e,t,n,i,r){function o(i){var r=Je(e,_r(n,i),"line",t,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-Zn(t),a=!1,l=2*e.display.wrapper.clientWidth,c=De(e,t);var u=ei(t),p=t.text.length,h=Fi(t),f=qi(t),d=o(h),y=a,m=o(f),g=a;if(i>m)return Qe(n,f,g,1);for(;;){if(u?f==h||f==Xi(t,h,1):f-h<=1){var v=i<d||i-d<=m-i?h:f,b=v==h?y:g,x=i-(v==h?d:m);if(g&&!u&&!/\s/.test(t.text.charAt(v))&&x>0&&v<t.text.length&&c.view.measure.heights.length>1){var w=ze(e,c,v,"right");s<=w.bottom&&s>=w.top&&Math.abs(i-w.right)<x&&(b=!1,v++,x=i-w.right)}for(;Ri(t.text.charAt(v));)++v;return Qe(n,v,b,x<-1?-1:x>1?1:0)}var _=Math.ceil(p/2),k=h+_;if(u){k=h;for(var S=0;S<_;++S)k=Xi(t,k,1)}var C=o(k);C>i?(f=k,m=C,(g=a)&&(m+=1e3),p=_):(h=k,d=C,y=a,p-=_)}}(e,s,r,t,n),l=bn(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=Qn(s=c.to.line)}}function Ze(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Cr){Cr=Ii("pre");for(var t=0;t<49;++t)Cr.appendChild(document.createTextNode("x")),Cr.appendChild(Ii("br"));Cr.appendChild(document.createTextNode("x"))}Ni(e.measure,Cr);var n=Cr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),ji(e.measure),n||1}function et(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ii("span","xxxxxxxxxx"),n=Ii("pre",[t]);Ni(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function tt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Or},Ar?Ar.ops.push(e.curOp):e.curOp.ownsGroup=Ar={ops:[e.curOp],delayedCallbacks:[]}}function nt(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(t)}finally{Ar=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)!function(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Le(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Le(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&u(t);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new k(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}(t[n]);for(n=0;n<t.length;n++)!function(e){e.updatedDisplay=e.mustUpdate&&S(e.cm,e.update)}(t[n]);for(n=0;n<t.length;n++)!function(e){var t=e.cm,n=t.display;e.updatedDisplay&&M(t);e.barMeasure=h(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Le(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Pe(t)));(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}(t[n]);for(n=0;n<t.length;n++)!function(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&St(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Di()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n);(e.updatedDisplay||e.startHeight!=t.doc.height)&&m(t,e.barMeasure);e.updatedDisplay&&E(t,e.barMeasure);e.selectionChanged&&Se(t);t.state.focused&&e.updateInput&&t.display.input.reset(e.typing);n&&B(e.cm)}(t[n]);for(n=0;n<t.length;n++)!function(e){var t=e.cm,n=t.display,i=t.doc;e.updatedDisplay&&C(t,e.update);null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null);null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop);null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,b(t));if(e.scrollToPos){var r=function(e,t,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,s=Je(e,t),a=n&&n!=t?Je(e,n):s,l=Kt(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(kt(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(St(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}(t,re(i,e.scrollToPos.from),re(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(vi(e,"scrollCursorIntoView"))return;var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1);if(null!=r&&!pr){var o=Ii("div","",null,"position: absolute; top: "+(t.top-n.viewOffset-Me(e.display))+"px; height: "+(t.bottom-t.top+Le(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(a=0;a<o.length;++a)o[a].lines.length||vo(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&vo(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop);e.changeObjs&&vo(t,"changes",t,e.changeObjs);e.update&&e.update.finish()}(t[n])}(t)}}function it(e,t){if(e.curOp)return t();tt(e);try{return t()}finally{nt(e)}}function rt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);tt(e);try{return t.apply(e,arguments)}finally{nt(e)}}}function ot(e){return function(){if(this.curOp)return e.apply(this,arguments);tt(this);try{return e.apply(this,arguments)}finally{nt(this)}}}function st(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);tt(t);try{return e.apply(this,arguments)}finally{nt(t)}}}function at(e,t,n){this.line=t,this.rest=function(e){var t,n;for(;t=bn(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Qn(Si(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Sn(e,t)}function lt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var s=new at(e.doc,Vn(e.doc,o),o);i=o+s.size,r.push(s)}return r}function ct(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)wr&&_n(e.doc,t)<r.viewTo&&pt(e);else if(n<=r.viewFrom)wr&&kn(e.doc,n+i)>r.viewFrom?pt(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)pt(e);else if(t<=r.viewFrom){(o=ft(e,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):pt(e)}else if(n>=r.viewTo){var o=ft(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):pt(e)}else{var s=ft(e,t,t,-1),a=ft(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(lt(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):pt(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function ut(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[ht(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Ci(s,n)&&s.push(n)}}}function pt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ht(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function ft(e,t,n,i){var r,o=ht(e,t),s=e.display.view;if(!wr||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;_n(e.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function dt(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function yt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function mt(e,t){for(var n=fi(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function gt(e,t,n,i){var r=e.display;if(!n&&"true"==fi(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=Ye(e,o,s);if(i&&1==c.xRel&&(l=Vn(e.doc,c.line).text).length==c.ch){var u=Co(l,l.length,e.options.tabSize)-l.length;c=_r(c.line,Math.max(0,Math.round((o-Oe(e.display).left)/et(e.display))-u))}return c}function vt(e){var t=this,n=t.display;if(!(vi(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=e.shiftKey,mt(n,e))or||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100));else if(!xt(t,e)){var i=gt(t,e);switch(window.focus(),di(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?function(e,t,n){ir?setTimeout(Oi(B,e),0):e.curOp.focus=Di();var i,r=+new Date;Er&&Er.time>r-400&&0==kr(Er.pos,n)?i="triple":Tr&&Tr.time>r-400&&0==kr(Tr.pos,n)?(i="double",Er={time:r,pos:n}):(i="single",Tr={time:r,pos:n});var o,s=e.doc.sel,a=dr?t.metaKey:t.ctrlKey;e.options.dragDrop&&Wo&&!e.isReadOnly()&&"single"==i&&(o=s.contains(n))>-1&&(kr((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(kr(o.to(),n)>0||n.xRel<0)?function(e,t,n,i){var r=e.display,o=+new Date,s=rt(e,function(a){or&&(r.scroller.draggable=!1),e.state.draggingText=!1,go(document,"mouseup",s),go(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(po(a),!i&&+new Date-200<o&&le(e.doc,n),or||ir&&9==rr?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});or&&(r.scroller.draggable=!0);e.state.draggingText=s,s.copy=dr?t.altKey:t.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop();yo(document,"mouseup",s),yo(r.scroller,"drop",s)}(e,t,n,a):function(e,t,n,i,r){function o(t){if(0!=kr(m,t))if(m=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=Co(Vn(c,n.line).text,n.ch,o),a=Co(Vn(c,t.line).text,t.ch,o),l=Math.min(s,a),f=Math.max(s,a),d=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));d<=y;d++){var g=Vn(c,d).text,v=To(g,l,o);l==f?r.push(new ee(_r(d,v),_r(d,v))):g.length>v&&r.push(new ee(_r(d,v),_r(d,To(g,f,o))))}r.length||r.push(new ee(n,n)),fe(c,te(h.ranges.slice(0,p).concat(r),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,x=b.anchor,w=t;if("single"!=i){if("double"==i)_=e.findWordAt(t);else var _=new ee(_r(t.line,0),re(c,_r(t.line+1,0)));kr(_.anchor,x)>0?(w=_.head,x=$(b.from(),_.anchor)):(w=_.anchor,x=W(b.to(),_.head))}(r=h.ranges.slice(0))[p]=new ee(re(c,x),w),fe(c,te(r,p),ko)}}function s(t){var n=++b,r=gt(e,t,!0,"rect"==i);if(r)if(0!=kr(r,m)){e.curOp.focus=Di(),o(r);var a=v(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(rt(e,function(){b==n&&s(t)}),150)}else{var u=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;u&&setTimeout(rt(e,function(){b==n&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,po(t),l.input.focus(),go(document,"mousemove",x),go(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;po(t);var u,p,h=c.sel,f=h.ranges;r&&!t.shiftKey?(p=c.sel.contains(n),u=p>-1?f[p]:new ee(n,n)):(u=c.sel.primary(),p=c.sel.primIndex);if(yr?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(u=new ee(n,n)),n=gt(e,t,!0,!0),p=-1;else if("double"==i){var d=e.findWordAt(n);u=e.display.shift||c.extend?ae(c,u,d.anchor,d.head):d}else if("triple"==i){var y=new ee(_r(n.line,0),re(c,_r(n.line+1,0)));u=e.display.shift||c.extend?ae(c,u,y.anchor,y.head):y}else u=ae(c,u,n);r?-1==p?(p=f.length,fe(c,te(f.concat([u]),p),{scroll:!1,origin:"*mouse"})):f.length>1&&f[p].empty()&&"single"==i&&!t.shiftKey?(fe(c,te(f.slice(0,p).concat(f.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):ue(c,p,u,ko):(p=0,fe(c,new Z([u],0),ko),h=c.sel);var m=n;var g=l.wrapper.getBoundingClientRect(),b=0;var x=rt(e,function(e){di(e)?s(e):a(e)}),w=rt(e,a);e.state.selectingText=w,yo(document,"mousemove",x),yo(document,"mouseup",w)}(e,t,n,i,a)}(t,e,i):fi(e)==n.scroller&&po(e);break;case 2:or&&(t.state.lastMiddleDown=+new Date),i&&le(t.doc,i),setTimeout(function(){n.input.focus()},20),po(e);break;case 3:br?It(t,e):function(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Rt(e))},100)}(t)}}}function bt(e,t,n,i){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&po(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!xi(e,n))return hi(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=Yn(e.doc,o),p=e.options.gutters[l];return vo(e,n,e,u,p,t),hi(t)}}}function xt(e,t){return bt(e,t,"gutterClick",!0)}function wt(e){var t=this;if(_t(t),!vi(t,e)&&!mt(t.display,e)){po(e),ir&&(Lr=+new Date);var n=gt(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){if(!t.options.allowDropFileTypes||-1!=Ci(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=rt(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++s==r){var l={from:n=re(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Wt(t.doc,l),he(t.doc,ne(n,Dr(l)))}}),a.readAsText(e)}},l=0;l<r;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{if(o=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!t.state.draggingText.copy)var c=t.listSelections();if(de(t.doc,ne(n,n)),c)for(l=0;l<c.length;++l)qt(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function _t(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function kt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,er||T(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),er&&T(e),Ce(e,100))}function St(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,b(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ct(e,t){var n=Ir(t),i=n.x,r=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&dr&&or)e:for(var c=t.target,u=o.view;c!=s;c=c.parentNode)for(var p=0;p<u.length;p++)if(u[p].node==c){e.display.currentWheelTarget=c;break e}if(i&&!er&&!lr&&null!=Rr)return r&&l&&kt(e,Math.max(0,Math.min(s.scrollTop+r*Rr,s.scrollHeight-s.clientHeight))),St(e,Math.max(0,Math.min(s.scrollLeft+i*Rr,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&po(t),void(o.wheelStartX=null);if(r&&null!=Rr){var h=r*Rr,f=e.doc.scrollTop,d=f+o.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):d=Math.min(e.doc.height,d+h+50),T(e,{top:f,bottom:d})}Pr<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Rr=(Rr*Pr+n)/(Pr+1),++Pr)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function Tt(e,t,n){if("string"==typeof t&&!(t=Gr[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=wo}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function Et(e,t,n,i){var r=e.state.keySeq;if(r){if(Qr(t))return"handled";jr.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=Xr(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&Xr(t,e.options.extraKeys,n,e)||Xr(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&mi(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(po(n),Se(e)),r&&!o&&/\'$/.test(t)?(po(n),!0):!!o}function Mt(e,t){var n=Yr(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Et(e,"Shift-"+n,t,function(t){return Tt(e,t,!0)})||Et(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Tt(e,t)}):Et(e,n,t,function(t){return Tt(e,t)}))}function At(e){var t=this;if(t.curOp.focus=Di(),!vi(t,e)){ir&&rr<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=Mt(t,e);lr&&(Nr=i?n:null,!i&&88==n&&!Ho&&(dr?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){function t(e){18!=e.keyCode&&e.altKey||(No(n,"CodeMirror-crosshair"),go(document,"keyup",t),go(document,"mouseover",t))}var n=e.display.lineDiv;Do(n,"CodeMirror-crosshair");yo(document,"keyup",t),yo(document,"mouseover",t)}(t)}}function Ot(e){16==e.keyCode&&(this.doc.sel.shift=!1),vi(this,e)}function Lt(e){var t=this;if(!(mt(t.display,e)||vi(t,e)||e.ctrlKey&&!e.altKey||dr&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(lr&&n==Nr)return Nr=null,void po(e);if(!lr||e.which&&!(e.which<10)||!Mt(t,e)){(function(e,t,n){return Et(e,"'"+n+"'",t,function(t){return Tt(e,t,!0)})})(t,e,String.fromCharCode(null==i?n:i))||t.display.input.onKeyPress(e)}}}function Pt(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(vo(e,"focus",e,t),e.state.focused=!0,Do(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),or&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Se(e))}function Rt(e,t){e.state.delayingBlurEvent||(e.state.focused&&(vo(e,"blur",e,t),e.state.focused=!1,No(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function It(e,t){mt(e.display,t)||function(e,t){return!!xi(e,"gutterContextMenu")&&bt(e,t,"gutterContextMenu",!1)}(e,t)||vi(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function jt(e,t){if(kr(e,t.from)<0)return e;if(kr(e,t.to)<=0)return Dr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Dr(t).ch-t.to.ch),_r(n,i)}function Nt(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new ee(jt(r.anchor,t),jt(r.head,t)))}return te(n,e.sel.primIndex)}function Dt(e,t,n){return e.line==t.line?_r(n.line,e.ch-t.ch+n.ch):_r(n.line+(e.line-t.line),e.ch)}function zt(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=re(e,t)),n&&(this.to=re(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),vo(e,"beforeChange",e,i),e.cm&&vo(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Wt(e,t,n){if(e.cm){if(!e.cm.curOp)return rt(e.cm,Wt)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(xi(e,"beforeChange")||e.cm&&xi(e.cm,"beforeChange"))||(t=zt(e,t,!0))){var i=xr&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Ci(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(kr(c.to,a.from)<0||kr(c.from,a.to)>0)){var u=[l,1],p=kr(c.from,a.from),h=kr(c.to,a.to);(p<0||!s.inclusiveLeft&&!p)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)$t(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else $t(e,t)}}function $t(e,t){if(1!=t.text.length||""!=t.text[0]||0!=kr(t.from,t.to)){var n=Nt(e,t);ri(e,t,n,e.cm?e.cm.curOp.id:NaN),Ft(e,t,n,cn(e,t));var i=[];Kn(e,function(e,n){n||-1!=Ci(i,e.history)||(pi(e.history,t),i.push(e.history)),Ft(e,t,null,cn(e,t))})}}function Bt(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=s.pop()).ranges;){if(oi(i,a),n&&!i.equals(e.sel))return void fe(e,i,{clearRedo:!1});o=i}var c=[];oi(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=xi(e,"beforeChange")||e.cm&&xi(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var p=i.changes[l];if(p.origin=t,u&&!zt(e,p,!1))return void(s.length=0);c.push(ni(e,p));var h=l?Nt(e,p):Si(s);Ft(e,p,h,pn(e,p)),!l&&e.cm&&e.cm.scrollIntoView({from:p.from,to:Dr(p)});var f=[];Kn(e,function(e,t){t||-1!=Ci(f,e.history)||(pi(e.history,p),f.push(e.history)),Ft(e,p,null,pn(e,p))})}}}}function Ht(e,t){if(0!=t&&(e.first+=t,e.sel=new Z(Ti(e.sel.ranges,function(e){return new ee(_r(e.anchor.line+t,e.anchor.ch),_r(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){ct(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)ut(e.cm,i,"gutter")}}function Ft(e,t,n,r){if(e.cm&&!e.cm.curOp)return rt(e.cm,Ft)(e,t,n,r);if(t.to.line<e.first)Ht(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Ht(e,o),t={from:_r(e.first,0),to:_r(t.to.line+o,t.to.ch),text:[Si(t.text)],origin:t.origin}}var s=e.lastLine();t.to.line>s&&(t={from:t.from,to:_r(s,Vn(e,s).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Gn(e,t.from,t.to),n||(n=Nt(e,t)),e.cm?function(e,t,n){var r=e.doc,o=e.display,s=t.from,a=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=Qn(wn(Vn(r,s.line))),r.iter(u,a.line+1,function(e){if(e==o.maxLine)return l=!0,!0}));r.sel.contains(t.from,t.to)>-1&&bi(e);Hn(r,t,n,i(e)),e.options.lineWrapping||(r.iter(u,s.line+t.text.length,function(e){var t=c(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0));r.frontier=Math.min(r.frontier,s.line),Ce(e,400);var p=t.text.length-(a.line-s.line)-1;t.full?ct(e):s.line!=a.line||1!=t.text.length||Bn(e.doc,t)?ct(e,s.line,a.line+1,p):ut(e,s.line,"text");var h=xi(e,"changes"),f=xi(e,"change");if(f||h){var d={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&mi(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,r):Hn(e,t,r),de(e,n,_o)}}function qt(e,t,n,i,r){if(i||(i=n),kr(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Wt(e,{from:n,to:i,text:t,origin:r})}function Kt(e,t,n,i,r){var o=e.display,s=Ze(e.display);n<0&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Re(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Ae(o),p=n<s,h=r>u-s;if(n<a)c.scrollTop=p?0:n;else if(r>a+l){var f=Math.min(n,(h?u:r)-l);f!=a&&(c.scrollTop=f)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,y=Pe(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=i-t>y;return m&&(i=t+y),t<10?c.scrollLeft=0:t<d?c.scrollLeft=Math.max(0,t-(m?0:10)):i>y+d-3&&(c.scrollLeft=i+(m?0:10)-y),c}function Ut(e,t,n){null==t&&null==n||Gt(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Vt(e){Gt(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?_r(t.line,t.ch-1):t,i=_r(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Gt(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Xe(e,t.from),i=Xe(e,t.to),r=Kt(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Jt(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Ee(e,t):n="prev");var s=e.options.tabSize,a=Vn(o,t),l=Co(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(r,a.text.slice(u.length),a.text))==wo||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?Co(Vn(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var p="",h=0;if(e.options.indentWithTabs)for(f=Math.floor(c/s);f;--f)h+=s,p+="\t";if(h<c&&(p+=ki(c-h)),p!=u)return qt(o,p,_r(t,0),_r(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var d=o.sel.ranges[f];if(d.head.line==t&&d.head.ch<u.length){ue(o,f,new ee(h=_r(t,u.length),h));break}}}function Xt(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=Vn(e,ie(e,t)):r=Qn(t),null==r?null:(i(o,r)&&e.cm&&ut(e.cm,r,n),o)}function Qt(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&kr(o.from,Si(i).to)<=0;){var s=i.pop();if(kr(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}it(e,function(){for(var t=i.length-1;t>=0;t--)qt(e.doc,"",i[t].from,i[t].to,"+delete");Vt(e)})}function Yt(e,t,n,i,r){function o(t){var i=(r?Xi:Qi)(c,a,n,!0);if(null==i){if(t||!function(){var t=s+n;return!(t<e.first||t>=e.first+e.size)&&(s=t,c=Vn(e,t))}())return!1;a=r?(n<0?qi:Fi)(c):n<0?c.text.length:0}else a=i;return!0}var s=t.line,a=t.ch,l=n,c=Vn(e,s);if("char"==i)o();else if("column"==i)o(!0);else if("word"==i||"group"==i)for(var u=null,p="group"==i,h=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||o(!f);f=!1){var d=c.text.charAt(a)||"\n",y=Li(d,h)?"w":p&&"\n"==d?"n":!p||/\s/.test(d)?null:"p";if(!p||f||y||(y="s"),u&&u!=y){n<0&&(n=1,o());break}if(y&&(u=y),n>0&&!o(!f))break}var m=be(e,_r(s,a),t,l,!0);return kr(t,m)||(m.hitSide=!0),m}function Zt(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(a-.5*Ze(e.display),3);r=(n>0?t.bottom:t.top)+n*l}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var c=Ye(e,s,r);if(!c.outside)break;if(n<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*n}return c}function en(t,n,i,r){e.defaults[t]=n,i&&(Wr[t]=r?function(e,t,n){n!=$r&&i(e,t,n)}:i)}function tn(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function nn(e){return"string"==typeof e?Jr[e]:e}function rn(e,t,n,i,r){if(i&&i.shared)return function(e,t,n,i,r){(i=Ai(i)).shared=!1;var o=[rn(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Kn(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(rn(e,re(e,t),re(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Si(o)}),new no(o,s)}(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return rt(e.cm,rn)(e,t,n,i,r);var o=new to(e,r),s=kr(t,n);if(i&&Ai(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Ii("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(xn(e,t.line,t,n,o)||t.line!=n.line&&xn(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");wr=!0}o.addToHistory&&ri(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&wn(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Xn(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new an(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Sn(e,t)&&Xn(t,0)}),o.clearOnEnter&&yo(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(xr=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++eo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)ct(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)ut(c,u,"text");o.atomic&&me(c.doc),mi(c,"markerAdded",c,o)}return o}function on(e){return e.findMarks(_r(e.first,0),e.clipPos(_r(e.lastLine())),function(e){return e.parent})}function sn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Kn(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Ci(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function an(e,t,n){this.marker=e,this.from=t,this.to=n}function ln(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function cn(e,t){if(t.full)return null;var n=oe(e,t.from.line)&&Vn(e,t.from.line).markedSpans,i=oe(e,t.to.line)&&Vn(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==kr(t.from,t.to),a=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new an(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new an(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,s),c=1==t.text.length,u=Si(t.text).length+(c?r:0);if(a)for(m=0;m<a.length;++m){if(null==(p=a[m]).to){(h=ln(l,p.marker))?c&&(p.to=null==h.to?null:h.to+u):p.to=r}}if(l)for(m=0;m<l.length;++m){var p=l[m];if(null!=p.to&&(p.to+=u),null==p.from){var h=ln(a,p.marker);h||(p.from=u,c&&(a||(a=[])).push(p))}else p.from+=u,c&&(a||(a=[])).push(p)}a&&(a=un(a)),l&&l!=a&&(l=un(l));var f=[a];if(!c){var d,y=t.text.length-2;if(y>0&&a)for(m=0;m<a.length;++m)null==a[m].to&&(d||(d=[])).push(new an(a[m].marker,null,null));for(var m=0;m<y;++m)f.push(d);f.push(l)}return f}function un(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function pn(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(ai(n[i]));return r}(e,t),i=cn(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function hn(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function fn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function dn(e){return e.inclusiveLeft?-1:0}function yn(e){return e.inclusiveRight?1:0}function mn(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=kr(i.from,r.from)||dn(e)-dn(t);if(o)return-o;var s=kr(i.to,r.to)||yn(e)-yn(t);return s||t.id-e.id}function gn(e,t){var n,i=wr&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||mn(n,r.marker)<0)&&(n=r.marker);return n}function vn(e){return gn(e,!0)}function bn(e){return gn(e,!1)}function xn(e,t,n,i,r){var o=Vn(e,t),s=wr&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=kr(c.from,n)||dn(l.marker)-dn(r),p=kr(c.to,i)||yn(l.marker)-yn(r);if(!(u>=0&&p<=0||u<=0&&p>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?kr(c.to,n)>=0:kr(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?kr(c.from,i)<=0:kr(c.from,i)<0)))return!0}}}function wn(e){for(var t;t=vn(e);)e=t.find(-1,!0).line;return e}function _n(e,t){var n=Vn(e,t),i=wn(n);return n==i?t:Qn(i)}function kn(e,t){if(t>e.lastLine())return t;var n,i=Vn(e,t);if(!Sn(e,i))return t;for(;n=bn(i);)i=n.find(1,!0).line;return Qn(i)+1}function Sn(e,t){var n=wr&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Cn(e,t,i))return!0}}function Cn(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Cn(e,i.line,ln(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Cn(e,t,r))return!0}function Tn(e,t,n){Zn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ut(e,null,n)}function En(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ro(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Ni(t.display.measure,Ii("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Mn(e){e.parent=null,hn(e)}function An(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function On(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Ln(t,n,i,r){for(var o=0;o<10;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Pn(e,t,n,i){function r(e){return{start:p.start,end:p.pos,string:p.current(),type:o||null,state:e?Ur(s.mode,u):u}}var o,s=e.doc,a=s.mode;t=re(s,t);var l,c=Vn(s,t.line),u=Ee(e,t.line,n),p=new Zr(c.text,e.options.tabSize);for(i&&(l=[]);(i||p.pos<t.ch)&&!p.eol();)p.start=p.pos,o=Ln(a,p,u),i&&l.push(r(!0));return i?l:r()}function Rn(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,p=new Zr(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&An(On(n,i),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(a=!1,s&&Nn(e,t,i,p.pos),p.pos=t.length,l=null):l=An(Ln(n,p,i,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<p.start;)r(c=Math.min(p.start,c+5e3),u);u=l}p.start=p.pos}for(;c<p.pos;){var d=Math.min(p.pos,c+5e3);r(d,u),c=d}}function In(e,t,n,i){var r=[e.state.modeGen],o={};Rn(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;Rn(e,t.text,a.mode,!0,function(e,t){for(var n=l;c<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function jn(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Ee(e,Qn(t)),r=In(e,t,t.text.length>e.options.maxHighlightLength?Ur(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Nn(e,t,n,i){var r=e.doc.mode,o=new Zr(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&On(r,n);!o.eol();)Ln(r,o,n),o.start=o.pos}function Dn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?so:oo;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function zn(e,t){var n=Ii("span",null,null,or?"padding-right: .1px":null),i={pre:Ii("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ir||or)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Wn,function(e){if(null!=jo)return jo;var t=Ni(e,document.createTextNode("AA")),n=Ao(t,0,1).getBoundingClientRect(),i=Ao(t,1,2).getBoundingClientRect();return ji(e),!(!n||n.left==n.right)&&(jo=i.right-n.right<3)}(e.display.measure)&&(o=ei(s))&&(i.addToken=function(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var p=0;p<t.length;p++){var h=t[p];if(h.to>c&&h.from<=c)break}if(h.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,h.to-c),r,o,null,a,l),o=null,i=i.slice(h.to-c),c=h.to}}}(i.addToken,o)),i.map=[];!function(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(!i){for(y=1;y<n.length;y+=2)t.addToken(t,r.slice(o,o=n[y]),Dn(n[y+1],t.cm.options));return}for(var s,a,l,c,u,p,h,f=r.length,d=0,y=1,m="",g=0;;){if(g==d){l=c=u=p=a="",h=null,g=1/0;for(var v,b=[],x=0;x<i.length;++x){var w=i[x],_=w.marker;"bookmark"==_.type&&w.from==d&&_.widgetNode?b.push(_):w.from<=d&&(null==w.to||w.to>d||_.collapsed&&w.to==d&&w.from==d)?(null!=w.to&&w.to!=d&&g>w.to&&(g=w.to,c=""),_.className&&(l+=" "+_.className),_.css&&(a=(a?a+";":"")+_.css),_.startStyle&&w.from==d&&(u+=" "+_.startStyle),_.endStyle&&w.to==g&&(v||(v=[])).push(_.endStyle,w.to),_.title&&!p&&(p=_.title),_.collapsed&&(!h||mn(h.marker,_)<0)&&(h=w)):w.from>d&&g>w.from&&(g=w.from)}if(v)for(x=0;x<v.length;x+=2)v[x+1]==g&&(c+=" "+v[x]);if(!h||h.from==d)for(x=0;x<b.length;++x)$n(t,0,b[x]);if(h&&(h.from||0)==d){if($n(t,(null==h.to?f+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=f)break;for(var k=Math.min(f,g);;){if(m){var S=d+m.length;if(!h){var C=S>k?m.slice(0,k-d):m;t.addToken(t,C,s?s+l:l,u,d+C.length==g?c:"",p,a)}if(S>=k){m=m.slice(k-d),d=k;break}d=S,u=""}m=r.slice(o,o=n[y++]),s=Dn(n[y++],t.cm.options)}}}(s,i,jn(e,s,t!=e.display.externalMeasured&&Qn(s))),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Wi(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Wi(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(function(e){if(null==Io){var t=Ii("span","");Ni(e,Ii("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Io=t.offsetWidth<=1&&t.offsetHeight>2&&!(ir&&rr<8))}var n=Io?Ii("span",""):Ii("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(or){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return vo(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Wi(i.pre.className,i.textClass||"")),i}function Wn(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=""),i+=o,n=" "==o}return i}(t,e.trailingSpace):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),p=0;;){l.lastIndex=p;var h=l.exec(t),f=h?h.index-p:t.length-p;if(f){m=document.createTextNode(a.slice(p,p+f));ir&&rr<9?u.appendChild(Ii("span",[m])):u.appendChild(m),e.map.push(e.pos,e.pos+f,m),e.col+=f,e.pos+=f}if(!h)break;if(p+=f+1,"\t"==h[0]){var d=e.cm.options.tabSize,y=d-e.col%d;(m=u.appendChild(Ii("span",ki(y),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=y}else if("\r"==h[0]||"\n"==h[0]){(m=u.appendChild(Ii("span","\r"==h[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1}else{var m;(m=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),ir&&rr<9?u.appendChild(Ii("span",[m])):u.appendChild(m),e.col+=1}e.map.push(e.pos,e.pos+1,m),e.pos++}else{e.col+=t.length;u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),ir&&rr<9&&(c=!0),e.pos+=t.length}if(e.trailingSpace=32==a.charCodeAt(t.length-1),n||i||r||c||s){var g=n||"";i&&(g+=i),r&&(g+=r);var v=Ii("span",[u],g,s);return o&&(v.title=o),e.content.appendChild(v)}e.content.appendChild(u)}}function $n(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function Bn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Si(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Hn(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),hn(e),fn(e,n);var r=i?i(e):1;r!=e.height&&Xn(e,r)}(e,n,r,i),mi(e,"change",e,t)}function s(e,t){for(var n=e,o=[];n<t;++n)o.push(new ro(c[n],r(n),i));return o}var a=t.from,l=t.to,c=t.text,u=Vn(e,a.line),p=Vn(e,l.line),h=Si(c),f=r(c.length-1),d=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Bn(e,t)){y=s(0,c.length-1);o(p,p.text,f),d&&e.remove(a.line,d),y.length&&e.insert(a.line,y)}else if(u==p)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),f);else{(y=s(1,c.length-1)).push(new ro(h+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,y)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+p.text.slice(l.ch),r(0)),e.remove(a.line+1,d);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(p,h+p.text.slice(l.ch),f);var y=s(1,c.length-1);d>1&&e.remove(a.line+1,d-1),e.insert(a.line+1,y)}mi(e,"change",e,t)}function Fn(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function qn(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Kn(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Un(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,r(e),t(e),e.options.lineWrapping||u(e),e.options.mode=n.modeOption,ct(e)}function Vn(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function Gn(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function Jn(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Xn(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function Qn(e){if(null==e.parent)return null;for(var t=e.parent,n=Ci(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function Yn(e,t){var n=e.first;e:do{for(o=0;o<e.children.length;++o){var i=e.children[o],r=i.height;if(t<r){e=i;continue e}t-=r,n+=i.chunkSize()}return n}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o].height;if(t<s)break;t-=s}return n+o}function Zn(e){for(var t=0,n=(e=wn(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function ei(e){var t=e.order;return null==t&&(t=e.order=Uo(e.text)),t}function ti(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ni(e,t){var n={from:z(t.from),to:Dr(t),text:Gn(e,t.from,t.to)};return si(e,n,t.from.line,t.to.line+1),Kn(e,function(e){si(e,n,t.from.line,t.to.line+1)},!0),n}function ii(e){for(;e.length;){if(!Si(e).ranges)break;e.pop()}}function ri(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(ii(e.done),Si(e.done)):e.done.length&&!Si(e.done).ranges?Si(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Si(e.done)):void 0}(r,r.lastOp==i))){var a=Si(o.changes);0==kr(t.from,t.to)&&0==kr(t.from,a.to)?a.to=Dr(t):o.changes.push(ni(e,t))}else{var l=Si(r.done);for(l&&l.ranges||oi(e.sel,r.done),o={changes:[ni(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||vo(e,"historyAdded")}function oi(e,t){var n=Si(t);n&&n.ranges&&n.equals(e)||t.push(e)}function si(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function ai(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function li(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Z.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var p in u)(c=p.match(/^spans_(\d+)$/))&&Ci(t,Number(c[1]))>-1&&(Si(a)[p]=u[p],delete u[p])}}}return r}function ci(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function ui(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(a=0;a<o.ranges.length;a++)ci(o.ranges[a].anchor,t,n,i),ci(o.ranges[a].head,t,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=_r(l.from.line+i,l.from.ch),l.to=_r(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function pi(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;ui(e.done,n,i,r),ui(e.undone,n,i,r)}function hi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function fi(e){return e.target||e.srcElement}function di(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),dr&&e.ctrlKey&&1==t&&(t=3),t}function yi(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():mo:i||mo}function mi(e,t){function n(e){return function(){e.apply(null,o)}}var i=yi(e,t,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);Ar?r=Ar.delayedCallbacks:bo?r=bo:(r=bo=[],setTimeout(gi,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function gi(){var e=bo;bo=null;for(var t=0;t<e.length;++t)e[t]()}function vi(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),vo(e,n||t.type,e,t),hi(t)||t.codemirrorIgnore}function bi(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Ci(n,t[i])&&n.push(t[i])}function xi(e,t){return yi(e,t).length>0}function wi(e){e.prototype.on=function(e,t){yo(this,e,t)},e.prototype.off=function(e,t){go(this,e,t)}}function _i(){this.id=null}function ki(e){for(;Eo.length<=e;)Eo.push(Si(Eo)+" ");return Eo[e]}function Si(e){return e[e.length-1]}function Ci(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Ti(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Ei(){}function Mi(e,t){var n;return Object.create?n=Object.create(e):(Ei.prototype=e,n=new Ei),t&&Ai(t,n),n}function Ai(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Oi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Li(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Lo(e))||t.test(e):Lo(e)}function Pi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Ri(e){return e.charCodeAt(0)>=768&&Po.test(e)}function Ii(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function ji(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Ni(e,t){return ji(e).appendChild(t)}function Di(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function zi(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Wi(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!zi(n[i]).test(t)&&(t+=" "+n[i]);return t}function $i(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Bi(e){return e.level%2?e.to:e.from}function Hi(e){return e.level%2?e.from:e.to}function Fi(e){var t=ei(e);return t?Bi(t[0]):0}function qi(e){var t=ei(e);return t?Hi(Si(t)):e.text.length}function Ki(e,t){var n=Vn(e.doc,t),i=wn(n);i!=n&&(t=Qn(i));var r=ei(i),o=r?r[0].level%2?qi(i):Fi(i):0;return _r(t,o)}function Ui(e,t){var n=Ki(e,t.line),i=Vn(e.doc,n.line),r=ei(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return _r(n.line,s?0:o)}return n}function Vi(e,t,n){var i=e[0].level;return t==i||n!=i&&t<n}function Gi(e,t){Ko=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return Vi(e,r.level,e[n].level)?(r.from!=r.to&&(Ko=n),i):(r.from!=r.to&&(Ko=i),n);n=i}}return n}function Ji(e,t,n,i){if(!i)return t+n;do{t+=n}while(t>0&&Ri(e.text.charAt(t)));return t}function Xi(e,t,n,i){var r=ei(e);if(!r)return Qi(e,t,n,i);for(var o=Gi(r,t),s=r[o],a=Ji(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return Gi(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(!(s=r[o+=n]))return null;a=n>0==s.level%2?Ji(e,s.to,-1,i):Ji(e,s.from,1,i)}}function Qi(e,t,n,i){var r=t+n;if(i)for(;r>0&&Ri(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}var Yi=navigator.userAgent,Zi=navigator.platform,er=/gecko\/\d/i.test(Yi),tr=/MSIE \d/.test(Yi),nr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yi),ir=tr||nr,rr=ir&&(tr?document.documentMode||6:nr[1]),or=/WebKit\//.test(Yi),sr=or&&/Qt\/\d+\.\d+/.test(Yi),ar=/Chrome\//.test(Yi),lr=/Opera\//.test(Yi),cr=/Apple Computer/.test(navigator.vendor),ur=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Yi),pr=/PhantomJS/.test(Yi),hr=/AppleWebKit/.test(Yi)&&/Mobile\/\w+/.test(Yi),fr=hr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Yi),dr=hr||/Mac/.test(Zi),yr=/\bCrOS\b/.test(Yi),mr=/win/i.test(Zi),gr=lr&&Yi.match(/Version\/(\d*\.\d*)/);gr&&(gr=Number(gr[1])),gr&&gr>=15&&(lr=!1,or=!0);var vr=dr&&(sr||lr&&(null==gr||gr<12.11)),br=er||ir&&rr>=9,xr=!1,wr=!1;f.prototype=Ai({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=dr&&!ur?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new _i,this.disableVert=new _i},enableZeroWidthBar:function(e,t){function n(){var i=e.getBoundingClientRect();document.elementFromPoint(i.left+1,i.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},f.prototype),d.prototype=Ai({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},d.prototype),e.scrollbarModel={native:f,null:d},k.prototype.signal=function(e,t){xi(e,t)&&this.events.push(arguments)},k.prototype.finish=function(){for(var e=0;e<this.events.length;e++)vo.apply(null,this.events[e])};var _r=e.Pos=function(e,t){if(!(this instanceof _r))return new _r(e,t);this.line=e,this.ch=t},kr=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Sr=null;V.prototype=Ai({init:function(e){function t(e){if(!vi(i,e)){if(i.somethingSelected())Sr={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Sr.text.join("\n"),Mo(o));else{if(!i.options.lineWiseCopyCut)return;var t=K(i);Sr={lineWise:!0,text:t.text},"cut"==e.type?i.setSelections(t.ranges,null,_o):(n.prevInput="",o.value=t.text.join("\n"),Mo(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=G(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),hr&&(o.style.width="0px"),yo(o,"input",function(){ir&&rr>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),yo(o,"paste",function(e){vi(i,e)||F(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),yo(o,"cut",t),yo(o,"copy",t),yo(e.scroller,"paste",function(t){mt(e,t)||vi(i,t)||(i.state.pasteIncoming=!0,n.focus())}),yo(e.lineSpace,"selectstart",function(t){mt(e,t)||po(t)}),yo(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),yo(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=_e(e);if(e.options.moveInputWithCursor){var r=Je(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm.display;Ni(t.cursorDiv,e.cursors),Ni(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(t=Ho&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3))?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Mo(this.textarea),ir&&rr>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",ir&&rr>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!fr||Di()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Bo(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(ir&&rr>=9&&this.hasSelection===i||dr&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n=""),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);o<s&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return it(e,function(){H(e,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ir&&rr>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t=""+(e?s.value:"");s.value="",s.value=t,i.prevInput=e?"":"",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=u,s.style.cssText=c,ir&&rr<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!ir||ir&&rr<9)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&""==i.prevInput?rt(r,Gr.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=gt(r,e),l=o.scroller.scrollTop;if(a&&!lr){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&rt(r,fe)(r.doc,ne(a),_o);var c=s.style.cssText,u=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var p=i.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(ir?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",or)var h=window.scrollY;if(o.input.focus(),or&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),ir&&rr>=9&&t(),br){fo(e);var f=function(){go(window,"mouseup",f),setTimeout(n,20)};yo(window,"mouseup",f)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Ei,needsContentAttribute:!1},V.prototype),J.prototype=Ai({init:function(e){function t(e){if(!vi(i,e)){if(i.somethingSelected())Sr={lineWise:!1,text:i.getSelections()},"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=K(i);Sr={lineWise:!0,text:t.text},"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,_o),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Sr.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=G(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=Sr.text.join("\n");var l=document.activeElement;Mo(a),setTimeout(function(){i.display.lineSpace.removeChild(s),l.focus(),l==r&&n.showPrimarySelection()},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;U(r,i.options.spellcheck),yo(r,"paste",function(e){vi(i,e)||F(e,i)||rr<=11&&setTimeout(rt(i,function(){n.pollContent()||ct(i)}),20)}),yo(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line).indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(n.composing.sel=ne(_r(r.head.line,o),_r(r.head.line,o+t.length)))}}),yo(r,"compositionupdate",function(e){n.composing.data=e.data}),yo(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),yo(r,"touchstart",function(){n.forceCompositionEnd()}),yo(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||it(n.cm,function(){ct(i)})}),yo(r,"copy",t),yo(r,"cut",t)},prepareSelection:function(){var e=_e(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Y(this.cm,e.anchorNode,e.anchorOffset),i=Y(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=kr($(n,i),t.from())||0!=kr(W(n,i),t.to())){var r=X(this.cm,t.from()),o=X(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Ao(r.node,r.offset,o.offset,o.node)}catch(e){}u&&(!er&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),a&&null==e.anchorNode?e.addRange(a):er&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Ni(this.cm.display.cursorDiv,e.cursors),Ni(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ro(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():it(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Y(t,e.anchorNode,e.anchorOffset),i=Y(t,e.focusNode,e.focusOffset);n&&i&&it(t,function(){fe(t.doc,ne(n,i),_o),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=ht(e,i.line)))var s=Qn(t.view[0].line),a=t.view[0].node;else var s=Qn(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=ht(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=Qn(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var p=e.doc.splitLines(function(e,t,n,i,r){function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var c,u=t.getAttribute("cm-marker");if(u){var p=e.findMarks(_r(i,0),_r(r+1,0),function(e){return function(t){return t.id==e}}(+u));return void(p.length&&(c=p[0].find())&&(s+=Gn(e.doc,c.from,c.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var h=0;h<t.childNodes.length;h++)o(t.childNodes[h]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;a&&(s+=l,a=!1),s+=f}}for(var s="",a=!1,l=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return s}(e,a,u,s,c)),h=Gn(e.doc,_r(s,0),_r(c,Vn(e.doc,c).text.length));p.length>1&&h.length>1;)if(Si(p)==Si(h))p.pop(),h.pop(),c--;else{if(p[0]!=h[0])break;p.shift(),h.shift(),s++}for(var f=0,d=0,y=p[0],m=h[0],g=Math.min(y.length,m.length);f<g&&y.charCodeAt(f)==m.charCodeAt(f);)++f;for(var v=Si(p),b=Si(h),x=Math.min(v.length-(1==p.length?f:0),b.length-(1==h.length?f:0));d<x&&v.charCodeAt(v.length-d-1)==b.charCodeAt(b.length-d-1);)++d;p[p.length-1]=v.slice(0,v.length-d),p[0]=p[0].slice(f);var w=_r(s,f),_=_r(c,h.length?Si(h).length-d:0);return p.length>1||p[0]||kr(w,_)?(qt(e.doc,p,w,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?rt(this.cm,ct)(this.cm):e.data&&e.data!=e.startData&&rt(this.cm,H)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||rt(this.cm,H)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Ei,resetPosition:Ei,needsContentAttribute:!0},J.prototype),e.inputStyles={textarea:V,contenteditable:J},Z.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=kr(n.anchor,i.anchor)||0!=kr(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ee(z(this.ranges[t].anchor),z(this.ranges[t].head));return new Z(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(kr(t,i.from())>=0&&kr(e,i.to())<=0)return n}return-1}},ee.prototype={from:function(){return $(this.anchor,this.head)},to:function(){return W(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Cr,Tr,Er,Mr={left:0,right:0,top:0,bottom:0},Ar=null,Or=0,Lr=0,Pr=0,Rr=null;ir?Rr=-.53:er?Rr=15:ar?Rr=-.7:cr&&(Rr=-1/3);var Ir=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ir(e);return t.x*=Rr,t.y*=Rr,t};var jr=new _i,Nr=null,Dr=e.changeEnd=function(e){return e.text?_r(e.from.line+e.text.length-1,Si(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,Wr.hasOwnProperty(e)&&rt(this,Wr[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](nn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ot(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,ct(this)}),removeOverlay:ot(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void ct(this)}}),indentLine:ot(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),oe(this.doc,e)&&Jt(this,e,t,n)}),indentSelection:ot(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Jt(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Vt(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Jt(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&ue(this.doc,i,new ee(o,c[i].to()),_o)}}}),getTokenAt:function(e,t){return Pn(this,e,t)},getLineTokens:function(e,t){return Pn(this,_r(e),t,!0)},getTokenTypeAt:function(e){e=re(this.doc,e);var t,n=jn(this,Vn(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Kr.hasOwnProperty(t))return n;var i=Kr[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(s=0;s<r[t].length;s++){var o=i[r[t][s]];o&&n.push(o)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var s=0;s<i._global.length;s++){var a=i._global[s];a.pred(r,this)&&-1==Ci(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=ie(n,null==e?n.first+n.size-1:e),Ee(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?re(this.doc,e):e?i.from():i.to(),Je(this,n,t||"page")},charCoords:function(e,t){return Ge(this,re(this.doc,e),t||"page")},coordsChar:function(e,t){return e=Ve(this,e,t||"page"),Ye(this,e.left,e.top)},lineAtHeight:function(e,t){return e=Ve(this,{top:e,left:0},t||"page").top,Yn(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Vn(this.doc,e)}else n=e;return Ue(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-Zn(n):0)},defaultTextHeight:function(){return Ze(this.display)},defaultCharWidth:function(){return et(this.display)},setGutterMarker:ot(function(e,t,n){return Xt(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Pi(i)&&(e.gutterMarkers=null),!0})}),clearGutter:ot(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,ut(t,i,"gutter"),Pi(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!oe(this.doc,e))return null;t=e;if(!(e=Vn(this.doc,e)))return null}else{var t;if(null==(t=Qn(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display,s=(e=Je(this,re(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&function(e,t,n,i,r){var o=Kt(e,t,n,i,r);null!=o.scrollTop&&kt(e,o.scrollTop),null!=o.scrollLeft&&St(e,o.scrollLeft)}(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:ot(At),triggerOnKeyPress:ot(Lt),triggerOnKeyUp:Ot,execCommand:function(e){if(Gr.hasOwnProperty(e))return Gr[e].call(null,this)},triggerElectric:ot(function(e){q(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=0,s=re(this.doc,e);o<t&&!(s=Yt(this.doc,s,r,n,i)).hitSide;++o);return s},moveH:ot(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Yt(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},So)}),deleteH:ot(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Qt(this,function(n){var r=Yt(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var s=0,a=re(this.doc,e);s<t;++s){var l=Je(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Zt(this,l,r,n)).hitSide)break}return a},moveV:ot(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Je(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Zt(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Ut(n,null,Ge(n,l,"div").top-a.top),l},So),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=Vn(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");(e.xRel<0||i==t.length)&&n?--n:++i;for(var o=t.charAt(n),s=Li(o,r)?function(e){return Li(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Li(e)};n>0&&s(t.charAt(n-1));)--n;for(;i<t.length&&s(t.charAt(i));)++i}return new ee(_r(e.line,n),_r(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Do(this.display.cursorDiv,"CodeMirror-overwrite"):No(this.display.cursorDiv,"CodeMirror-overwrite"),vo(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Di()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ot(function(e,t){null==e&&null==t||Gt(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Le(this)-this.display.barHeight,width:e.scrollWidth-Le(this)-this.display.barWidth,clientHeight:Re(this),clientWidth:Pe(this)}},scrollIntoView:ot(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:_r(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Gt(this),this.curOp.scrollToPos=e;else{var n=Kt(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:ot(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&He(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ut(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,vo(i,"refresh",this)}),operation:function(e){return it(this,e)},refresh:ot(function(){var e=this.display.cachedTextHeight;ct(this),this.curOp.forceUpdate=!0,Fe(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),l(this),(null==e||Math.abs(e-Ze(this.display))>.5)&&r(this),vo(this,"refresh",this)}),swapDoc:ot(function(e){var t=this.doc;return t.cm=null,Un(this,e),Fe(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,mi(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wi(e);var zr=e.defaults={},Wr=e.optionHandlers={},$r=e.Init={toString:function(){return"CodeMirror.Init"}};en("value","",function(e,t){e.setValue(t)},!0),en("mode",null,function(e,n){e.doc.modeOption=n,t(e)},!0),en("indentUnit",2,t,!0),en("indentWithTabs",!1),en("smartIndent",!0),en("tabSize",4,function(e){n(e),Fe(e),ct(e)},!0),en("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(_r(i,o))}i++});for(var r=n.length-1;r>=0;r--)qt(e.doc,t,n[r],_r(n[r].line,n[r].ch+t.length))}}),en("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=e.Init&&t.refresh()}),en("specialCharPlaceholder",function(e){var t=Ii("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),en("electricChars",!0),en("inputStyle",fr?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),en("spellcheck",!1,function(e,t){e.getInputField().spellcheck=t},!0),en("rtlMoveVisually",!mr),en("wholeLineUpdateBefore",!0),en("theme","default",function(e){o(e),s(e)},!0),en("keyMap","default",function(t,n,i){var r=nn(n),o=i!=e.Init&&nn(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),en("extraKeys",null),en("lineWrapping",!1,function(e){e.options.lineWrapping?(Do(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(No(e.display.wrapper,"CodeMirror-wrap"),u(e)),r(e),ct(e),Fe(e),setTimeout(function(){m(e)},100)},!0),en("gutters",[],function(e){p(e.options),s(e)},!0),en("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_(e.display)+"px":"0",e.refresh()},!0),en("coverGutterNextToScrollbar",!1,function(e){m(e)},!0),en("scrollbarStyle","native",function(e){y(e),m(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),en("lineNumbers",!1,function(e){p(e.options),s(e)},!0),en("firstLineNumber",1,s,!0),en("lineNumberFormatter",function(e){return e},s,!0),en("showCursorWhenSelecting",!1,we,!0),en("resetSelectionOnContextMenu",!0),en("lineWiseCopyCut",!0),en("readOnly",!1,function(e,t){"nocursor"==t?(Rt(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),en("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),en("dragDrop",!0,function(t,n,i){if(!n!=!(i&&i!=e.Init)){var r=t.display.dragFunctions,o=n?yo:go;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}),en("allowDropFileTypes",null),en("cursorBlinkRate",530),en("cursorScrollMargin",0),en("cursorHeight",1,we,!0),en("singleCursorHeightPerLine",!0,we,!0),en("workTime",100),en("workDelay",100),en("flattenSpans",!0,n,!0),en("addModeClass",!1,n,!0),en("pollInterval",100),en("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),en("historyEventDelay",1250),en("viewportMargin",10,function(e){e.refresh()},!0),en("maxHighlightLength",1e4,n,!0),en("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),en("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),en("autofocus",null);var Br=e.modes={},Hr=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Br[t]=n},e.defineMIME=function(e,t){Hr[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Hr.hasOwnProperty(t))t=Hr[t];else if(t&&"string"==typeof t.name&&Hr.hasOwnProperty(t.name)){var n=Hr[t.name];"string"==typeof n&&(n={name:n}),(t=Mi(n,t)).name=n.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return e.resolveMode("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=Br[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(Fr.hasOwnProperty(n.name)){var o=Fr[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Fr=e.modeExtensions={};e.extendMode=function(e,t){Ai(t,Fr.hasOwnProperty(e)?Fr[e]:Fr[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){lo.prototype[e]=t},e.defineOption=en;var qr=[];e.defineInitHook=function(e){qr.push(e)};var Kr=e.helpers={};e.registerHelper=function(t,n,i){Kr.hasOwnProperty(t)||(Kr[t]=e[t]={_global:[]}),Kr[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),Kr[t]._global.push({pred:i,val:r})};var Ur=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},Vr=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Gr=e.commands={selectAll:function(e){e.setSelection(_r(e.firstLine(),0),_r(e.lastLine()),_o)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),_o)},killLine:function(e){Qt(e,function(t){if(t.empty()){var n=Vn(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:_r(t.head.line+1,0)}:{from:t.head,to:_r(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Qt(e,function(t){return{from:_r(t.from().line,0),to:re(e.doc,_r(t.to().line+1,0))}})},delLineLeft:function(e){Qt(e,function(e){return{from:_r(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Qt(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){Qt(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(_r(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(_r(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Ki(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Ui(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return function(e,t){for(var n,i=Vn(e.doc,t);n=bn(i);)i=n.find(1,!0).line,t=null;var r=ei(i),o=r?r[0].level%2?Fi(i):qi(i):i.text.length;return _r(null==t?Qn(i):t,o)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},So)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},So)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?Ui(e,t.head):i},So)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Co(e.getLine(o.line),o.ch,i);t.push(ki(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){it(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Vn(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new _r(r.line,r.ch-1)),r.ch>0)r=new _r(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),_r(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=Vn(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),_r(r.line-1,s.length-1),_r(r.line,1),"+transpose")}n.push(new ee(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){it(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}Vt(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},Jr=e.keyMap={};Jr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Jr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Jr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Jr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Jr.default=dr?Jr.macDefault:Jr.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Ti(n.split(" "),tn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e};var Xr=e.lookupKey=function(e,t,n,i){var r=(t=nn(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Xr(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=Xr(e,t.fallthrough[o],n,i);if(s)return s}}},Qr=e.isModifierKey=function(e){var t="string"==typeof e?e:qo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Yr=e.keyName=function(e,t){if(lr&&34==e.keyCode&&e.char)return!1;var n=qo[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(vr?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(vr?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=l.getValue()}if(n=n?Ai(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=Di();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(yo(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(e){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(go(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l};var Zr=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Zr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)n=t==e;else var n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Co(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Co(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Co(this.string,null,this.tabSize)-(this.lineStart?Co(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var eo=0,to=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++eo};wi(to),to.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&tt(e),xi(this,"clear")){var n=this.find();n&&mi(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ln(s.markedSpans,this);e&&!this.collapsed?ut(e,Qn(s),"text"):e&&(null!=a.to&&(r=Qn(s)),null!=a.from&&(i=Qn(s))),s.markedSpans=function(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}(s.markedSpans,a),null==a.from&&this.collapsed&&!Sn(this.doc,s)&&e&&Xn(s,Ze(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=wn(this.lines[o]),u=c(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&ct(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&me(e.doc)),e&&mi(e,"markerCleared",e,this),t&&nt(e),this.parent&&this.parent.clear()}},to.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=ln(o.markedSpans,this);if(null!=s.from&&(n=_r(t?o:Qn(o),s.from),-1==e))return n;if(null!=s.to&&(i=_r(t?o:Qn(o),s.to),1==e))return i}return n&&{from:n,to:i}},to.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&it(n,function(){var i=e.line,r=Qn(e.line),o=Ne(n,r);if(o&&(Be(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Sn(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=En(t)-s;a&&Xn(i,i.height+a)}})},to.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ci(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},to.prototype.detachLine=function(e){if(this.lines.splice(Ci(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var eo=0,no=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};wi(no),no.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();mi(this,"clear")}},no.prototype.find=function(e,t){return this.primary.find(e,t)};var io=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};wi(io),io.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=Qn(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=En(this);Xn(n,Math.max(0,n.height-o)),e&&it(e,function(){Tn(e,n,-o),ut(e,i,"widget")})}},io.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=En(this)-e;i&&(Xn(n,n.height+i),t&&it(t,function(){t.curOp.forceUpdate=!0,Tn(t,n,i)}))};var ro=e.Line=function(e,t,n){this.text=e,fn(this,t),this.height=n?n(this):1};wi(ro),ro.prototype.lineNo=function(){return Qn(this)};var oo={},so={};Fn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Mn(r),mi(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},qn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Fn))){var a=[];this.collapse(a),this.children=[new Fn(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Fn(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new qn(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=Ci(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new qn(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ao=0,lo=e.Doc=function(e,t,n,i){if(!(this instanceof lo))return new lo(e,t,n,i);null==n&&(n=0),qn.call(this,[new Fn([new ro("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=_r(n,0);this.sel=ne(r),this.history=new ti(null),this.id=++ao,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Hn(this,{from:r,to:r,text:e}),fe(this,ne(r),_o)};lo.prototype=Mi(qn.prototype,{constructor:lo,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:st(function(e){var t=_r(this.first,0),n=this.first+this.size-1;Wt(this,{from:t,to:_r(n,Vn(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),fe(this,ne(t))}),replaceRange:function(e,t,n,i){qt(this,e,t=re(this,t),n=n?re(this,n):t,i)},getRange:function(e,t,n){var i=Gn(this,re(this,e),re(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(oe(this,e))return Vn(this,e)},getLineNumber:function(e){return Qn(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Vn(this,e)),wn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return re(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:st(function(e,t,n){pe(this,re(this,"number"==typeof e?_r(e,t||0):e),null,n)}),setSelection:st(function(e,t,n){pe(this,re(this,e),re(this,t||e),n)}),extendSelection:st(function(e,t,n){le(this,re(this,e),t&&re(this,t),n)}),extendSelections:st(function(e,t){ce(this,se(this,e),t)}),extendSelectionsBy:st(function(e,t){ce(this,se(this,Ti(this.sel.ranges,e)),t)}),setSelections:st(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new ee(re(this,e[i].anchor),re(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),fe(this,te(r,t),n)}}),addSelection:st(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new ee(re(this,e),re(this,t||e))),fe(this,te(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Gn(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Gn(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:st(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&function(e,t,n){for(var i=[],r=_r(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Dt(a.from,r,o),c=Dt(Dr(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],p=kr(u.head,u.anchor)<0;i[s]=new ee(p?c:l,p?l:c)}else i[s]=new ee(l,l)}return new Z(i,e.sel.primIndex)}(this,i,t),o=i.length-1;o>=0;o--)Wt(this,i[o]);a?he(this,a):this.cm&&Vt(this.cm)}),undo:st(function(){Bt(this,"undo")}),redo:st(function(){Bt(this,"redo")}),undoSelection:st(function(){Bt(this,"undo",!0)}),redoSelection:st(function(){Bt(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ti(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:li(this.history.done),undone:li(this.history.undone)}},setHistory:function(e){var t=this.history=new ti(this.history.maxGeneration);t.done=li(e.done.slice(0),null,!0),t.undone=li(e.undone.slice(0),null,!0)},addLineClass:st(function(e,t,n){return Xt(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(zi(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:st(function(e,t,n){return Xt(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(zi(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:st(function(e,t,n){return function(e,t,n,i){var r=new io(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Xt(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Sn(e,t)){var i=Zn(t)<e.scrollTop;Xn(t,t.height+En(r)),i&&Ut(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return rn(this,re(this,e),re(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=re(this,e),rn(this,e,e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Vn(this,(e=re(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=re(this,e),t=re(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),re(this,_r(n,t))},indexFromPos:function(e){var t=(e=re(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new lo(Jn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new lo(Jn(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(kr(o,s)){var a=rn(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,on(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){if(this.linked[n].doc==t){this.linked.splice(n,1),t.unlinkDoc(this),sn(on(this));break}}if(t.history==this.history){var i=[t.id];Kn(t,function(e){i.push(e.id)},!0),t.history=new ti(null),t.history.done=li(this.history.done,i),t.history.undone=li(this.history.undone,i)}},iterLinkedDocs:function(e){Kn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):$o(e)},lineSeparator:function(){return this.lineSep||"\n"}}),lo.prototype.eachLine=lo.prototype.iter;var co="iter insert remove copy getEditor constructor".split(" ");for(var uo in lo.prototype)lo.prototype.hasOwnProperty(uo)&&Ci(co,uo)<0&&(e.prototype[uo]=function(e){return function(){return e.apply(this.doc,arguments)}}(lo.prototype[uo]));wi(lo);var po=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},ho=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},fo=e.e_stop=function(e){po(e),ho(e)},yo=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});(i[t]||(i[t]=[])).push(n)}},mo=[],go=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=yi(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},vo=e.signal=function(e,t){var n=yi(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},bo=null,xo=30,wo=e.Pass={toString:function(){return"CodeMirror.Pass"}},_o={scroll:!1},ko={origin:"*mouse"},So={origin:"+move"};_i.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Co=e.countColumn=function(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},To=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}},Eo=[""],Mo=function(e){e.select()};hr?Mo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ir&&(Mo=function(e){try{e.select()}catch(e){}});var Ao,Oo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Lo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Oo.test(e))},Po=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ao=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Ro=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};ir&&rr<11&&(Di=function(){try{return document.activeElement}catch(e){return document.body}});var Io,jo,No=e.rmClass=function(e,t){var n=e.className,i=zi(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Do=e.addClass=function(e,t){var n=e.className;zi(t).test(n)||(e.className+=(n?" ":"")+t)},zo=!1,Wo=function(){if(ir&&rr<9)return!1;var e=Ii("div");return"draggable"in e||"dragDrop"in e}(),$o=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Bo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ho=function(){var e=Ii("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Fo=null,qo=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(e=0;e<10;e++)qo[e+48]=qo[e+96]=String(e);for(e=65;e<=90;e++)qo[e]=String.fromCharCode(e);for(var e=1;e<=12;e++)qo[e+111]=qo[e+63235]="F"+e}();var Ko,Uo=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1773?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/;return function(n){if(!r.test(n))return!1;for(var i=n.length,c=[],u=0;u<i;++u)c.push(y=e(n.charCodeAt(u)));for(var u=0,p="L";u<i;++u){"m"==(y=c[u])?c[u]=p:p=y}for(var u=0,h="L";u<i;++u){"1"==(y=c[u])&&"r"==h?c[u]="n":s.test(y)&&(h=y,"r"==y&&(c[u]="R"))}for(var u=1,p=c[0];u<i-1;++u){"+"==(y=c[u])&&"1"==p&&"1"==c[u+1]?c[u]="1":","!=y||p!=c[u+1]||"1"!=p&&"n"!=p||(c[u]=p),p=y}for(u=0;u<i;++u){if(","==(y=c[u]))c[u]="N";else if("%"==y){for(m=u+1;m<i&&"%"==c[m];++m);for(var f=u&&"!"==c[u-1]||m<i&&"1"==c[m]?"1":"N",d=u;d<m;++d)c[d]=f;u=m-1}}for(var u=0,h="L";u<i;++u){var y=c[u];"L"==h&&"1"==y?c[u]="L":s.test(y)&&(h=y)}for(u=0;u<i;++u)if(o.test(c[u])){for(var m=u+1;m<i&&o.test(c[m]);++m);for(var g="L"==(u?c[u-1]:"L"),v="L"==(m<i?c[m]:"L"),f=g||v?"L":"R",d=u;d<m;++d)c[d]=f;u=m-1}for(var b,x=[],u=0;u<i;)if(a.test(c[u])){var w=u;for(++u;u<i&&a.test(c[u]);++u);x.push(new t(0,w,u))}else{var _=u,k=x.length;for(++u;u<i&&"L"!=c[u];++u);for(d=_;d<u;)if(l.test(c[d])){_<d&&x.splice(k,0,new t(1,_,d));var S=d;for(++d;d<u&&l.test(c[d]);++d);x.splice(k,0,new t(2,S,d)),_=d}else++d;_<u&&x.splice(k,0,new t(1,_,u))}return 1==x[0].level&&(b=n.match(/^\s+/))&&(x[0].from=b[0].length,x.unshift(new t(0,0,b[0].length))),1==Si(x).level&&(b=n.match(/\s+$/))&&(Si(x).to-=b[0].length,x.push(new t(0,i-b[0].length,i))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Si(x).level&&x.push(new t(x[0].level,i,i)),x}}();return e.version="5.19.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,i){function r(e,t,n){return de=e,ye=n,t}function o(e,n){var i=e.next();if('"'==i||"'"==i)return n.tokenize=function(e){return function(t,n){var i,s=!1;if(ve&&"@"==t.peek()&&t.match(Se))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}(i),n.tokenize(e,n);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==i&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return r(i);if("="==i&&e.eat(">"))return r("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if("0"==i&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),r("number","number");if("0"==i&&e.eat(/b/i))return e.eatWhile(/[01]/i),r("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==i)return e.eat("*")?(n.tokenize=s,s(e,n)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):t(e,n,1)?(function(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eatWhile(ke),r("operator","operator",e.current()));if("`"==i)return n.tokenize=a,a(e,n);if("#"==i)return e.skipToEnd(),r("error","error");if(ke.test(i))return e.eatWhile(ke),r("operator","operator",e.current());if(we.test(i)){e.eatWhile(we);var l=e.current(),c=_e.propertyIsEnumerable(l)&&_e[l];return c&&"."!=n.lastType?r(c.type,c.style,l):r("variable","variable",l)}}function s(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function a(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=Ce.indexOf(s);if(a>=0&&a<3){if(!i){++o;break}if(0==--i){"("==s&&(r=!0);break}}else if(a>=3&&a<6)++i;else if(we.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!i){++o;break}}}r&&!i&&(t.fatArrowAt=o)}}function c(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function u(e,t){for(i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var i=n.vars;i;i=i.next)if(i.name==t)return!0}function p(){for(var e=arguments.length-1;e>=0;e--)Ee.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function f(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Ee.state;if(Ee.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;i.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function d(){Ee.state.context={prev:Ee.state.context,vars:Ee.state.localVars},Ee.state.localVars=Me}function y(){Ee.state.localVars=Ee.state.context.vars,Ee.state.context=Ee.state.context.prev}function m(e,t){var n=function(){var n=Ee.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new c(i,Ee.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function g(){var e=Ee.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function v(e){function t(n){return n==e?h():";"==e?p():h(t)}return t}function b(e,t){return"var"==e?h(m("vardef",t.length),U,v(";"),g):"keyword a"==e?h(m("form"),_,b,g):"keyword b"==e?h(m("form"),b,g):"{"==e?h(m("}"),z,g):";"==e?h():"if"==e?("else"==Ee.state.lexical.info&&Ee.state.cc[Ee.state.cc.length-1]==g&&Ee.state.cc.pop()(),h(m("form"),_,b,g,Q)):"function"==e?h(ie):"for"==e?h(m("form"),Y,b,g):"variable"==e?h(m("stat"),L):"switch"==e?h(m("form"),_,m("}","switch"),v("{"),z,g,g):"case"==e?h(x,v(":")):"default"==e?h(v(":")):"catch"==e?h(m("form"),d,v("("),re,v(")"),b,g,y):"class"==e?h(m("form"),oe,g):"export"==e?h(m("stat"),le,g):"import"==e?h(m("stat"),ce,g):"module"==e?h(m("form"),V,m("}"),v("{"),z,g,g):"type"==e?h(B,v("operator"),B,v(";")):"async"==e?h(b):p(m("stat"),x,v(";"),g)}function x(e){return k(e,!1)}function w(e){return k(e,!0)}function _(e){return"("!=e?p():h(m(")"),x,v(")"),g)}function k(e,t){if(Ee.state.fatArrowAt==Ee.stream.start){var n=t?O:A;if("("==e)return h(d,m(")"),N(V,")"),g,v("=>"),n,y);if("variable"==e)return p(d,V,v("=>"),n,y)}var i=t?T:C;return Te.hasOwnProperty(e)?h(i):"function"==e?h(ie,i):"keyword c"==e||"async"==e?h(t?function(e){return e.match(/[;\}\)\],]/)?p():p(w)}:S):"("==e?h(m(")"),S,v(")"),g,i):"operator"==e||"spread"==e?h(t?w:x):"["==e?h(m("]"),fe,g,i):"{"==e?D(R,"}",null,i):"quasi"==e?p(E,i):"new"==e?h(function(e){return function(t){return"."==t?h(e?function(e,t){if("target"==t)return Ee.marked="keyword",h(T)}:function(e,t){if("target"==t)return Ee.marked="keyword",h(C)}):p(e?w:x)}}(t)):h()}function S(e){return e.match(/[;\}\)\],]/)?p():p(x)}function C(e,t){return","==e?h(x):T(e,t,!1)}function T(e,t,n){var i=0==n?C:T,r=0==n?x:w;return"=>"==e?h(d,n?O:A,y):"operator"==e?/\+\+|--/.test(t)?h(i):"?"==t?h(x,v(":"),r):h(r):"quasi"==e?p(E,i):";"!=e?"("==e?D(w,")","call",i):"."==e?h(P,i):"["==e?h(m("]"),S,v("]"),g,i):void 0:void 0}function E(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(E):h(x,M)}function M(e){if("}"==e)return Ee.marked="string-2",Ee.state.tokenize=a,h(E)}function A(e){return l(Ee.stream,Ee.state),p("{"==e?b:x)}function O(e){return l(Ee.stream,Ee.state),p("{"==e?b:w)}function L(e){return":"==e?h(g,b):p(C,v(";"),g)}function P(e){if("variable"==e)return Ee.marked="property",h()}function R(e,t){return"async"==e?(Ee.marked="property",h(R)):"variable"==e||"keyword"==Ee.style?(Ee.marked="property",h("get"==t||"set"==t?I:j)):"number"==e||"string"==e?(Ee.marked=ve?"property":Ee.style+" property",h(j)):"jsonld-keyword"==e?h(j):"modifier"==e?h(R):"["==e?h(x,v("]"),j):"spread"==e?h(x):":"==e?p(j):void 0}function I(e){return"variable"!=e?p(j):(Ee.marked="property",h(ie))}function j(e){return":"==e?h(w):"("==e?p(ie):void 0}function N(e,t){function n(i,r){if(","==i){var o=Ee.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),h(function(n,i){return n==t||i==t?p():p(e)},n)}return i==t||r==t?h():h(v(t))}return function(i,r){return i==t||r==t?h():p(e,n)}}function D(e,t,n){for(var i=3;i<arguments.length;i++)Ee.cc.push(arguments[i]);return h(m(t,n),N(e,t),g)}function z(e){return"}"==e?h():p(b,z)}function W(e,t){if(xe){if(":"==e)return h(B);if("?"==t)return h(W)}}function $(e,t){if("="==t)return h(w)}function B(e){return"variable"==e?(Ee.marked="variable-3",h(K)):"{"==e?h(N(F,"}")):"("==e?h(N(q,")"),H):void 0}function H(e){if("=>"==e)return h(B)}function F(e){return"variable"==e||"keyword"==Ee.style?(Ee.marked="property",h(F)):":"==e?h(B):void 0}function q(e){return"variable"==e?h(q):":"==e?h(B):void 0}function K(e,t){return"<"==t?h(N(B,">"),K):"["==e?h(v("]"),K):void 0}function U(){return p(V,W,J,X)}function V(e,t){return"modifier"==e?h(V):"variable"==e?(f(t),h()):"spread"==e?h(V):"["==e?D(V,"]"):"{"==e?D(G,"}"):void 0}function G(e,t){return"variable"!=e||Ee.stream.match(/^\s*:/,!1)?("variable"==e&&(Ee.marked="property"),"spread"==e?h(V):"}"==e?p():h(v(":"),V,J)):(f(t),h(J))}function J(e,t){if("="==t)return h(w)}function X(e){if(","==e)return h(U)}function Q(e,t){if("keyword b"==e&&"else"==t)return h(m("form","else"),b,g)}function Y(e){if("("==e)return h(m(")"),Z,v(")"),g)}function Z(e){return"var"==e?h(U,v(";"),te):";"==e?h(te):"variable"==e?h(ee):p(x,v(";"),te)}function ee(e,t){return"in"==t||"of"==t?(Ee.marked="keyword",h(x)):h(C,te)}function te(e,t){return";"==e?h(ne):"in"==t||"of"==t?(Ee.marked="keyword",h(x)):p(x,v(";"),ne)}function ne(e){")"!=e&&h(x)}function ie(e,t){return"*"==t?(Ee.marked="keyword",h(ie)):"variable"==e?(f(t),h(ie)):"("==e?h(d,m(")"),N(re,")"),g,W,b,y):void 0}function re(e){return"spread"==e?h(re):p(V,W,$)}function oe(e,t){if("variable"==e)return f(t),h(se)}function se(e,t){return"extends"==t?h(xe?B:x,se):"{"==e?h(m("}"),ae,g):void 0}function ae(e,t){return"variable"==e||"keyword"==Ee.style?("static"==t||"get"==t||"set"==t||xe&&("public"==t||"private"==t||"protected"==t))&&Ee.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ee.marked="keyword",h(ae)):(Ee.marked="property",h(xe?function(e){return":"==e?h(B):p(ie)}:ie,ae)):"*"==t?(Ee.marked="keyword",h(ae)):";"==e?h(ae):"}"==e?h():void 0}function le(e,t){return"*"==t?(Ee.marked="keyword",h(he,v(";"))):"default"==t?(Ee.marked="keyword",h(x,v(";"))):p(b)}function ce(e){return"string"==e?h():p(ue,he)}function ue(e,t){return"{"==e?D(ue,"}"):("variable"==e&&f(t),"*"==t&&(Ee.marked="keyword"),h(pe))}function pe(e,t){if("as"==t)return Ee.marked="keyword",h(ue)}function he(e,t){if("from"==t)return Ee.marked="keyword",h(x)}function fe(e){return"]"==e?h():p(N(w,"]"))}var de,ye,me=n.indentUnit,ge=i.statementIndent,ve=i.jsonld,be=i.json||ve,xe=i.typescript,we=i.wordCharacters||/[\w$\xa1-\uffff]/,_e=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:i,throw:i,debugger:i,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:r,typeof:r,instanceof:r,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i,async:e("async")};if(xe){var a={type:"variable",style:"variable-3"},l={interface:e("class"),implements:i,namespace:i,module:e("module"),enum:e("module"),type:e("type"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),as:r,string:a,number:a,boolean:a,any:a};for(var c in l)s[c]=l[c]}return s}(),ke=/[+\-*&%=<>!?|~^]/,Se=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Ee={state:null,column:null,marked:null,cc:null},Me={name:"this",next:{name:"arguments"}};return g.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-me,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==de?n:(t.lastType="operator"!=de||"++"!=ye&&"--"!=ye?de:"incdec",function(e,t,n,i,r){var o=e.cc;for(Ee.state=e,Ee.stream=r,Ee.marked=null,Ee.cc=o,Ee.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():be?x:b)(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ee.marked?Ee.marked:"variable"==n&&u(e,i)?"variable-2":t}}(t,n,de,ye,e))},indent:function(t,n){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var r,a=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==g)l=l.prev;else if(u!=Q)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(r=t.cc[t.cc.length-1])&&(r==C||r==T)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;ge&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var p=l.type,h=a==p;return"vardef"==p?l.indented+("operator"==t.lastType||","==t.lastType?l.info+1:0):"form"==p&&"{"==a?l.indented:"form"==p?l.indented+me:"stat"==p?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||ke.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?ge||me:0):"switch"!=l.info||h||0==i.doubleIndentSwitch?l.align?l.column+(h?0:1):l.indented+(h?0:me):l.indented+(/^(?:case|default)\b/.test(n)?me:2*me)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:be?null:"/*",blockCommentEnd:be?null:"*/",lineComment:be?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:be?"json":"javascript",jsonldMode:ve,jsonMode:be,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=x&&t!=w||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,i){this.state=e,this.mode=t,this.depth=n,this.prev=i}function n(i){return new t(e.copyState(i.mode,i.state),i.mode,i.depth,i.prev&&n(i.prev))}e.defineMode("jsx",function(i,r){function o(e){var t=e.tagName;e.tagName=null;var n=a.indent(e,"");return e.tagName=t,n}function s(n,r){return r.context.mode==a?function(n,r,c){if(2==c.depth)return n.match(/^.*?\*\//)?c.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){a.skipAttribute(c.state);var u=o(c.state),p=c.state.context;if(p&&n.match(/^[^>]*>\s*$/,!1)){for(;p.prev&&!p.startOfLine;)p=p.prev;p.startOfLine?u-=i.indentUnit:c.prev.state.lexical&&(u=c.prev.state.lexical.indented)}else 1==c.depth&&(u+=i.indentUnit);return r.context=new t(e.startState(l,u),l,0,r.context),null}if(1==c.depth){if("<"==n.peek())return a.skipAttribute(c.state),r.context=new t(e.startState(a,o(c.state)),a,0,r.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return c.depth=2,s(n,r)}var h,f=a.token(n,c.state),d=n.current();/\btag\b/.test(f)?/>$/.test(d)?c.state.context?c.depth=0:r.context=r.context.prev:/^</.test(d)&&(c.depth=1):!f&&(h=d.indexOf("{"))>-1&&n.backUp(d.length-h);return f}(n,r,r.context):function(n,i,r){if("<"==n.peek()&&l.expressionAllowed(n,r.state))return l.skipExpression(r.state),i.context=new t(e.startState(a,l.indent(r.state,"")),a,0,i.context),null;var o=l.token(n,r.state);if(!o&&null!=r.depth){var s=n.current();"{"==s?r.depth++:"}"==s&&0==--r.depth&&(i.context=i.context.prev)}return o}(n,r,r.context)}var a=e.getMode(i,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1}),l=e.getMode(i,r&&r.base||"javascript");return{startState:function(){return{context:new t(e.startState(l),l)}},copyState:function(e){return{context:n(e.context)}},token:s,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return f=t,e}function r(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function o(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=r(")"),i(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function a(e,t,n,i){return e.context=new s(n,t.indentation()+(!1===i?0:y),e.context),n}function l(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return A[n.context.type](e,t,n)}function u(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return c(e,t,n)}function p(e){var t=e.current().toLowerCase();d=T.hasOwnProperty(t)?"atom":C.hasOwnProperty(t)?"keyword":"variable"}var h=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var f,d,y=t.indentUnit,m=n.tokenHooks,g=n.documentTypes||{},v=n.mediaTypes||{},b=n.mediaFeatures||{},x=n.mediaValueKeywords||{},w=n.propertyKeywords||{},_=n.nonStandardPropertyKeywords||{},k=n.fontProperties||{},S=n.counterDescriptors||{},C=n.colorKeywords||{},T=n.valueKeywords||{},E=n.allowNested,M=!0===n.supportsAtComponent,A={};return A.top=function(e,t,n){if("{"==e)return a(n,t,"block");if("}"==e&&n.context.prev)return l(n);if(M&&/@component/.test(e))return a(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return a(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return a(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return a(n,t,"at");if("hash"==e)d="builtin";else if("word"==e)d="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return a(n,t,"interpolation");if(":"==e)return"pseudo";if(E&&"("==e)return a(n,t,"parens")}return n.context.type},A.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return w.hasOwnProperty(i)?(d="property","maybeprop"):_.hasOwnProperty(i)?(d="string-2","maybeprop"):E?(d=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(d+=" error","maybeprop")}return"meta"==e?"block":E||"hash"!=e&&"qualifier"!=e?A.top(e,t,n):(d="error","block")},A.maybeprop=function(e,t,n){return":"==e?a(n,t,"prop"):c(e,t,n)},A.prop=function(e,t,n){if(";"==e)return l(n);if("{"==e&&E)return a(n,t,"propBlock");if("}"==e||"{"==e)return u(e,t,n);if("("==e)return a(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)p(t);else if("interpolation"==e)return a(n,t,"interpolation")}else d+=" error";return"prop"},A.propBlock=function(e,t,n){return"}"==e?l(n):"word"==e?(d="property","maybeprop"):n.context.type},A.parens=function(e,t,n){return"{"==e||"}"==e?u(e,t,n):")"==e?l(n):"("==e?a(n,t,"parens"):"interpolation"==e?a(n,t,"interpolation"):("word"==e&&p(t),"parens")},A.pseudo=function(e,t,n){return"word"==e?(d="variable-3",n.context.type):c(e,t,n)},A.documentTypes=function(e,t,n){return"word"==e&&g.hasOwnProperty(t.current())?(d="tag",n.context.type):A.atBlock(e,t,n)},A.atBlock=function(e,t,n){if("("==e)return a(n,t,"atBlock_parens");if("}"==e||";"==e)return u(e,t,n);if("{"==e)return l(n)&&a(n,t,E?"block":"top");if("interpolation"==e)return a(n,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();d="only"==i||"not"==i||"and"==i||"or"==i?"keyword":v.hasOwnProperty(i)?"attribute":b.hasOwnProperty(i)?"property":x.hasOwnProperty(i)?"keyword":w.hasOwnProperty(i)?"property":_.hasOwnProperty(i)?"string-2":T.hasOwnProperty(i)?"atom":C.hasOwnProperty(i)?"keyword":"error"}return n.context.type},A.atComponentBlock=function(e,t,n){return"}"==e?u(e,t,n):"{"==e?l(n)&&a(n,t,E?"block":"top",!1):("word"==e&&(d="error"),n.context.type)},A.atBlock_parens=function(e,t,n){return")"==e?l(n):"{"==e||"}"==e?u(e,t,n,2):A.atBlock(e,t,n)},A.restricted_atBlock_before=function(e,t,n){return"{"==e?a(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(d="variable","restricted_atBlock_before"):c(e,t,n)},A.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,l(n)):"word"==e?(d="@font-face"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!S.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},A.keyframes=function(e,t,n){return"word"==e?(d="variable","keyframes"):"{"==e?a(n,t,"top"):c(e,t,n)},A.at=function(e,t,n){return";"==e?l(n):"{"==e||"}"==e?u(e,t,n):("word"==e?d="tag":"hash"==e&&(d="builtin"),"at")},A.interpolation=function(e,t,n){return"}"==e?l(n):"{"==e||";"==e?u(e,t,n):("word"==e?d="variable":"variable"!=e&&"("!=e&&")"!=e&&(d="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:h?"block":"top",stateArg:null,context:new s(h?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(m[n]){var s=m[n](e,t);if(!1!==s)return s}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=r(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=o,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?i("variable-2","variable-definition"):i("variable-2","variable")):e.match(/^\w+-/)?i("meta","meta"):void 0})(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),d=n,t.state=A[t.state](f,e,t),d},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-y),n=n.prev):r=(n=n.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["domain","regexp","url","url-prefix"],r=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(a),c=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(c),p=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(p),f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=t(f),y=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],x=t(b),w=i.concat(o).concat(a).concat(c).concat(p).concat(f).concat(g).concat(b);e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:d,fontProperties:y,counterDescriptors:m,colorKeywords:v,valueKeywords:x,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:v,valueKeywords:x,fontProperties:y,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:u,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:v,valueKeywords:x,fontProperties:y,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:s,mediaFeatures:l,propertyKeywords:h,nonStandardPropertyKeywords:d,fontProperties:y,counterDescriptors:m,colorKeywords:v,valueKeywords:x,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=n,n(e,t))}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,r){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(a("atom","]]>")):null:e.match("--")?n(a("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(l(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta"):(S=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==i){return(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,S=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return S="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function l(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=l(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=o;break}return n.tokenize=l(e-1),n.tokenize(t,n)}}return"meta"}}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!w.contextGrabbers.hasOwnProperty(n)||!w.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?f:p}function h(e,t,n){return"word"==e?(n.tagName=t.current(),C="tag",m):(C="error",h)}function f(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&w.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i||!1===w.matchClosing?(C="tag",d):(C="tag error",y)}return C="error",y}function d(e,t,n){return"endTag"!=e?(C="error",d):(c(n),p)}function y(e,t,n){return C="error",d(e,0,n)}function m(e,t,n){if("word"==e)return C="attribute",g;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||w.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new function(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(w.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}(n,i,r==n.indented)),p}return C="error",m}function g(e,t,n){return"equals"==e?v:(w.allowMissing||(C="error"),m(e,0,n))}function v(e,t,n){return"string"==e?b:"word"==e&&w.allowUnquoted?(C="string",m):(C="error",m(e,0,n))}function b(e,t,n){return"string"==e?b:m(e,0,n)}var x=i.indentUnit,w={},_=r.htmlMode?t:n;for(var k in _)w[k]=_[k];for(var k in r)w[k]=r[k];var S,C;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;S=null;var n=t.tokenize(e,t);return(n||S)&&"comment"!=n&&(C=null,t.state=t.state(S||n,e,t),C&&(n="error"==C?n+" error":C)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==w.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+x*(w.multilineTagIndentFactor||1);if(w.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!w.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=w.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+x:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:w.htmlMode?"html":"xml",helperType:w.htmlMode?"html":"xml",skipAttribute:function(e){e.state==v&&(e.state=m)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){var n=e.match(function(e){var t=o[e];return t||(o[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function n(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function i(e,t){for(var n in e)for(var i=t[n]||(t[n]=[]),r=e[n],o=r.length-1;o>=0;o--)i.unshift(r[o])}var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},o={};e.defineMode("htmlmixed",function(o,s){function a(i,r){var s,u=l.token(i,r.htmlState),p=/\btag\b/.test(u);if(p&&!/[<>\s\/]/.test(i.current())&&(s=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))r.inTag=s+" ";else if(r.inTag&&p&&/>$/.test(i.current())){var h=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var f=">"==i.current()&&function(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(!r[0]||r[1].test(t(n,r[0])))return r[2]}}(c[h[1]],h[2]),d=e.getMode(o,f),y=n(h[1],!0),m=n(h[1],!1);r.token=function(e,t){return e.match(y,!1)?(t.token=a,t.localState=t.localMode=null,null):function(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}(e,m,t.localMode.token(e,t.localState))},r.localMode=d,r.localState=e.startState(d,l.indent(r.htmlState,""))}else r.inTag&&(r.inTag+=i.current(),i.eol()&&(r.inTag+=" "));return u}var l=e.getMode(o,{name:"xml",htmlMode:!0,multilineTagIndentFactor:s.multilineTagIndentFactor,multilineTagIndentPastTag:s.multilineTagIndentPastTag}),c={},u=s&&s.tags,p=s&&s.scriptTypes;if(i(r,c),u&&i(u,c),p)for(var h=p.length-1;h>=0;h--)c.script.unshift(["type",p[h].matches,p[h].mode]);return{startState:function(){return{token:a,inTag:null,localMode:null,localState:null,htmlState:e.startState(l)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(l,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?l.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||l}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function i(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var i=e.indentation();return i>n&&"coffee"==t.scope.type?"indent":i<n?"dedent":null}n>0&&a(e,t)}if(e.eatSpace())return null;var s=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===s)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var d=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(d=!0),e.match(/^-?\d+\.\d*/)&&(d=!0),e.match(/^-?\.\d+/)&&(d=!0),d)return"."==e.peek()&&e.backUp(1),"number";var b=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(b=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(b=!0),e.match(/^-?0(?![\dx])/i)&&(b=!0),b)return"number"}if(e.match(m))return t.tokenize=r(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(g)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=r(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(c)||e.match(f)?"operator":e.match(u)?"punctuation":e.match(v)?"atom":e.match(h)||t.prop&&e.match(p)?"property":e.match(y)?"keyword":e.match(p)?"variable":(e.next(),l)}function r(e,n,r){return function(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return s.tokenize=i,r;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?r=l:s.tokenize=i),r}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=i;break}e.eatWhile("#")}return"comment"}function s(t,n,i){i=i||"coffee";for(var r=0,o=!1,s=null,a=n.scope;a;a=a.prev)if("coffee"===a.type||"}"==a.type){r=a.offset+e.indentUnit;break}"coffee"!==i?(o=null,s=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:r,type:i,prev:n.scope,align:o,alignOffset:s}}function a(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),i=!1,r=t.scope;r;r=r.prev)if(n===r.offset){i=!0;break}if(!i)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}var l="error",c=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,u=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,p=/^[_A-Za-z$][_A-Za-z$0-9]*/,h=/^@[_A-Za-z$][_A-Za-z$0-9]*/,f=n(["and","or","not","is","isnt","in","instanceof","typeof"]),d=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],y=n(d.concat(["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"]));d=n(d);var m=/^('{3}|\"{3}|['\"])/,g=/^(\/{3}|\/)/,v=n(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]);return{startState:function(e){return{tokenize:i,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var i=function(e,t){var n=t.tokenize(e,t),i=e.current();"return"===i&&(t.dedent=!0),(("->"===i||"=>"===i)&&e.eol()||"indent"===n)&&s(e,t);var r="[({".indexOf(i);if(-1!==r&&s(e,t,"])}".slice(r,r+1)),d.exec(i)&&s(e,t),"then"==i&&a(e,t),"dedent"===n&&a(e,t))return l;if(-1!==(r="])}".indexOf(i))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==i&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}(e,t);return i&&"comment"!=i&&(n&&(n.align=!0),t.prop="punctuation"==i&&"."==e.current()),i},indent:function(e,t){if(e.tokenize!=i)return 0;var n=e.scope,r=t&&"])}".indexOf(t.charAt(0))>-1;if(r)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=r&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,r,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),r=r?e.clipPos(r):i(0,0),this.pos={from:r,to:r},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,r){if(n){t.lastIndex=0;for(var o=e.getLine(r.line).slice(0,r.ch),s=0;;){t.lastIndex=s;var a=t.exec(o);if(!a)break;if(l=a,c=l.index,(s=l.index+(l[0].length||1))==o.length)break}(u=l&&l[0].length||0)||(0==c&&0==o.length?l=void 0:c!=e.getLine(r.line).length&&u++)}else{t.lastIndex=r.ch;var l,c,o=e.getLine(r.line),u=(l=t.exec(o))&&l[0].length||0;(c=l&&l.index)+u==o.length||u||(u=1)}if(l&&u)return{from:i(r.line,c),to:i(r.line,c+u),match:l}};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)t.length?this.matches=function(r,o){if(r){l=e.getLine(o.line).slice(0,o.ch);if((u=(c=a(l)).lastIndexOf(t))>-1)return u=n(l,c,u),{from:i(o.line,u),to:i(o.line,u+s.length)}}else{var l=e.getLine(o.line).slice(o.ch),c=a(l),u=c.indexOf(t);if(u>-1)return u=n(l,c,u)+o.ch,{from:i(o.line,u),to:i(o.line,u+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(t,n){var r=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,c[r].length))!=l[l.length-1])return;for(var o=i(n.line,c[r].length),s=n.line-1,u=r-1;u>=1;--u,--s)if(l[u]!=a(e.getLine(s)))return;h=(p=e.getLine(s)).length-c[0].length;if(a(p.slice(h))!=l[0])return;return{from:i(s,h),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var p=e.getLine(n.line),h=p.length-c[0].length;if(a(p.slice(h))==l[0]){for(var f=i(n.line,h),s=n.line+1,u=1;u<r;++u,++s)if(l[u]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,c[r].length))==l[r])return{from:f,to:i(s,c[r].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var i=Math.min(n,e.length);;){var r=e.slice(0,i).toLowerCase().length;if(r<n)++i;else{if(!(r>n))return i;--i}}}var i=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=i(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,r=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,r))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!r.line)return t(0);r=i(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return t(o);r=i(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,i){return new t(this.doc,e,n,i)}),e.defineDocExtension("getSearchCursor",function(e,n,i){return new t(this,e,n,i)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,i,r){var o=e.getLineHandle(t.line),l=t.ch-1,c=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(i&&u>0!=(l==t.ch))return null;var p=e.getTokenTypeAt(s(t.line,l+1)),h=n(e,s(t.line,l+(u>0?1:0)),u,p||null,r);return null==h?null:{from:s(t.line,l),to:h&&h.pos,match:h&&h.ch==c.charAt(0),forward:u>0}}function n(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,c=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,p=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=p;h+=n){var f=e.getLine(h);if(f){var d=n>0?0:f.length-1,y=n>0?f.length:-1;if(!(f.length>o))for(h==t.line&&(d=t.ch-(n<0?1:0));d!=y;d+=n){var m=f.charAt(d);if(u.test(m)&&(void 0===i||e.getTokenTypeAt(s(h,d+1))==i)){if(">"==a[m].charAt(1)==n>0)c.push(m);else{if(!c.length)return{pos:s(h,d),ch:m};c.pop()}}}}}return h-n!=(n>0?e.lastLine():e.firstLine())&&null}function i(e,n,i){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,!1,i);if(u&&e.getLine(u.from.line).length<=r){var p=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,s(u.from.line,u.from.ch+1),{className:p})),u.to&&e.getLine(u.to.line).length<=r&&a.push(e.markText(u.to,s(u.to.line,u.to.ch+1),{className:p}))}}if(a.length){o&&e.state.focused&&e.focus();var h=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return h;setTimeout(h,800)}}function r(e){e.operation(function(){l&&(l(),l=null),l=i(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",r),l&&(l(),l=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",r))}),e.defineExtension("matchBrackets",function(){i(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,i){return t(this,e,n,i)}),e.defineExtension("scanForBracket",function(e,t,i,r){return n(this,e,t,i,r)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t,n){for(var r=t.listSelections(),o=[],s=n?"/":"</",a=0;a<r.length;a++){if(!r[a].empty())return e.Pass;var l=r[a].head,c=t.getTokenAt(l),u=e.innerMode(t.getMode(),c.state),p=u.state;if(n&&("string"==c.type||"<"!=c.string.charAt(0)||c.start!=l.ch-1))return e.Pass;var h;if("xml"!=u.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==u.mode.name)h=s+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=u.mode.name)return e.Pass;h=s+"style"}else{if(!p.context||!p.context.tagName||i(t,p.context.tagName,l,p))return e.Pass;h=s+p.context.tagName}">"!=t.getLine(l.line).charAt(c.end)&&(h+=">"),o[a]=h}t.replaceSelections(o),r=t.listSelections();for(a=0;a<r.length;a++)(a==r.length-1||r[a].head.line<r[a+1].head.line)&&t.indentLine(r[a].head.line)}function n(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;++n)if(e[n]==t)return n;return-1}function i(t,n,i,r,o){if(!e.scanForClosingTag)return!1;var s=Math.min(t.lastLine()+1,i.line+500),a=e.scanForClosingTag(t,i,null,s);if(!a||a.tag!=n)return!1;for(var l=r.context,c=o?1:0;l&&l.tagName==n;l=l.prev)++c;i=a.to;for(var u=1;u<c;u++){var p=e.scanForClosingTag(t,i,null,s);if(!p||p.tag!=n)return!1;i=p.to}return!0}e.defineOption("autoCloseTags",!1,function(s,a,l){if(l!=e.Init&&l&&s.removeKeyMap("autoCloseTags"),a){var c={name:"autoCloseTags"};("object"!=typeof a||a.whenClosing)&&(c["'/'"]=function(n){return function(n){return n.getOption("disableInput")?e.Pass:t(n,!0)}(n)}),("object"!=typeof a||a.whenOpening)&&(c["'>'"]=function(t){return function(t){if(t.getOption("disableInput"))return e.Pass;for(var s=t.listSelections(),a=[],l=0;l<s.length;l++){if(!s[l].empty())return e.Pass;var c=s[l].head,u=t.getTokenAt(c),p=e.innerMode(t.getMode(),u.state),h=p.state;if("xml"!=p.mode.name||!h.tagName)return e.Pass;var f=t.getOption("autoCloseTags"),d="html"==p.mode.configuration,y="object"==typeof f&&f.dontCloseTags||d&&r,m="object"==typeof f&&f.indentTags||d&&o,g=h.tagName;u.end>c.ch&&(g=g.slice(0,g.length-u.end+c.ch));var v=g.toLowerCase();if(!g||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==h.type||u.string.indexOf("/")==u.string.length-1||y&&n(y,v)>-1||i(t,g,c,h,!0))return e.Pass;var b=m&&n(m,v)>-1;a[l]={indent:b,text:">"+(b?"\n\n":"")+"</"+g+">",newPos:b?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(l=s.length-1;l>=0;l--){var x=a[l];t.replaceRange(x.text,s[l].head,s[l].anchor,"+insert");var w=t.listSelections().slice(0);w[l]={head:x.newPos,anchor:x.newPos},t.setSelections(w),x.indent&&(t.indentLine(x.newPos.line,null,!0),t.indentLine(x.newPos.line+1,null,!0))}}(t)}),s.addKeyMap(c)}});var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],o=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return t(e)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:o[t]}function n(e){var t=e.state.closeBrackets;if(!t)return null;return e.getModeAt(e.getCursor()).closeBrackets||t}function i(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new s(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new s(t.head.line,t.head.ch+(n?1:-1))}}function r(e,t){var n=e.getRange(s(t.line,t.ch-1),s(t.line,t.ch+1));return 2==n.length?n:null}var o={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},s=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.removeKeyMap(l),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(l))});for(var a=o.pairs+"`",l={Backspace:function(i){var o=n(i);if(!o||i.getOption("disableInput"))return e.Pass;for(var a=t(o,"pairs"),l=i.listSelections(),c=0;c<l.length;c++){if(!l[c].empty())return e.Pass;var u=r(i,l[c].head);if(!u||a.indexOf(u)%2!=0)return e.Pass}for(c=l.length-1;c>=0;c--){var p=l[c].head;i.replaceRange("",s(p.line,p.ch-1),s(p.line,p.ch+1),"+delete")}},Enter:function(i){var o=n(i),s=o&&t(o,"explode");if(!s||i.getOption("disableInput"))return e.Pass;for(var a=i.listSelections(),l=0;l<a.length;l++){if(!a[l].empty())return e.Pass;var c=r(i,a[l].head);if(!c||s.indexOf(c)%2!=0)return e.Pass}i.operation(function(){i.replaceSelection("\n\n",null),i.execCommand("goCharLeft"),a=i.listSelections();for(var e=0;e<a.length;e++){var t=a[e].head.line;i.indentLine(t,null,!0),i.indentLine(t+1,null,!0)}})}},c=0;c<a.length;c++)l["'"+a.charAt(c)+"'"]=function(r){return function(o){return function(r,o){var a=n(r);if(!a||r.getOption("disableInput"))return e.Pass;var l=t(a,"pairs"),c=l.indexOf(o);if(-1==c)return e.Pass;for(var u,p=t(a,"triples"),h=l.charAt(c+1)==o,f=r.listSelections(),d=c%2==0,y=0;y<f.length;y++){var m,g=f[y],v=g.head,b=r.getRange(v,s(v.line,v.ch+1));if(d&&!g.empty())m="surround";else if(!h&&d||b!=o)if(h&&v.ch>1&&p.indexOf(o)>=0&&r.getRange(s(v.line,v.ch-2),v)==o+o&&(v.ch<=2||r.getRange(s(v.line,v.ch-3),s(v.line,v.ch-2))!=o))m="addFour";else if(h){if(e.isWordChar(b)||!function(t,n,i){var r=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type))return!1;var s=new e.StringStream(r.slice(0,n.ch)+i+r.slice(n.ch),4);for(s.pos=s.start=o.start;;){var a=t.getMode().token(s,o.state);if(s.pos>=n.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}(r,v,o))return e.Pass;m="both"}else{if(!d||r.getLine(v.line).length!=v.ch&&!function(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}(b,l)&&!/\s/.test(b))return e.Pass;m="both"}else m=p.indexOf(o)>=0&&r.getRange(v,s(v.line,v.ch+3))==o+o+o?"skipThree":"skip";if(u){if(u!=m)return e.Pass}else u=m}var x=c%2?l.charAt(c-1):o,w=c%2?o:l.charAt(c+1);r.operation(function(){if("skip"==u)r.execCommand("goCharRight");else if("skipThree"==u)for(t=0;t<3;t++)r.execCommand("goCharRight");else if("surround"==u){for(var e=r.getSelections(),t=0;t<e.length;t++)e[t]=x+e[t]+w;for(r.replaceSelections(e,"around"),e=r.listSelections().slice(),t=0;t<e.length;t++)e[t]=i(e[t]);r.setSelections(e)}else"both"==u?(r.replaceSelection(x+w,null),r.triggerElectric(x+w),r.execCommand("goCharLeft")):"addFour"==u&&(r.replaceSelection(x+x+x+x,"before"),r.execCommand("goCharRight"))})}(o,r)}}(a.charAt(c))}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line==t.line&&e.ch==t.ch}function n(e){M.push(e),M.length>50&&M.shift()}function i(e){return M[M.length-(e?Math.min(e,1):1)]||""}function r(e,i,r,o,s){null==s&&(s=e.getRange(i,r)),o&&A&&A.cm==e&&t(i,A.pos)&&e.isClean(A.gen)?function(e){if(!M.length)return n(e);M[M.length-1]+=e}(s):n(s),e.replaceRange("",i,r,"+delete"),A=o?{cm:e,pos:i,gen:e.changeGeneration()}:null}function o(e,t,n){return e.findPosH(t,n,"char",!0)}function s(e,t,n){return e.findPosH(t,n,"word",!0)}function a(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function l(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function c(e,t,n){for(var i=t.line,r=e.getLine(i),o=/\S/.test(n<0?r.slice(0,t.ch):r.slice(t.ch)),s=e.firstLine(),a=e.lastLine();;){if((i+=n)<s||i>a)return e.clipPos(E(i-n,n<0?0:null));r=e.getLine(i);if(/\S/.test(r))o=!0;else if(o)return E(i,0)}}function u(e,t,n){for(var i=t.line,r=t.ch,o=e.getLine(t.line),s=!1;;){var a=o.charAt(r+(n<0?-1:0));if(a){if(s&&/[!?.]/.test(a))return E(i,r+(n>0?1:0));s||(s=/\w/.test(a)),r+=n}else{if(i==(n<0?e.firstLine():e.lastLine()))return E(i,r);if(o=e.getLine(i+n),!/\S/.test(o))return E(i,r);i+=n,r=n<0?o.length:0}}}function p(e,n,i){var r;if(e.findMatchingBracket&&(r=e.findMatchingBracket(n,!0))&&r.match&&(r.forward?1:-1)==i)return i>0?E(r.to.line,r.to.ch+1):r.to;for(var o=!0;;o=!1){var s=e.getTokenAt(n),a=E(n.line,i<0?s.start:s.end);if(!(o&&i>0&&s.end==n.ch)&&/\w/.test(s.string))return a;var l=e.findPosH(a,i,"char");if(t(a,l))return n;n=l}}function h(e,t){var n=e.state.emacsPrefix;return n?(x(e),"-"==n?-1:Number(n)):t?null:1}function f(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=h(e);t(e);for(var i=1;i<n;++i)t(e)}}function d(e,n,i,r){var o=h(e);o<0&&(r=-r,o=-o);for(var s=0;s<o;++s){var a=i(e,n,r);if(t(a,n))break;n=a}return n}function y(e,t){var n=function(n){n.extendSelection(d(n,n.getCursor(),e,t))};return n.motion=!0,n}function m(e,t,n){for(var i,o=e.listSelections(),s=o.length;s--;)r(e,i=o[s].head,d(e,i,t,n),!0)}function g(e){if(e.somethingSelected()){for(var t,n=e.listSelections(),i=n.length;i--;)r(e,(t=n[i]).anchor,t.head);return!0}}function v(e,t){e.state.emacsPrefix?"-"!=t&&(e.state.emacsPrefix+=t):(e.state.emacsPrefix=t,e.on("keyHandled",b),e.on("inputRead",w))}function b(e,t){e.state.emacsPrefixMap||O.hasOwnProperty(t)||x(e)}function x(e){e.state.emacsPrefix=null,e.off("keyHandled",b),e.off("inputRead",w)}function w(e,t){var n=h(e);if(n>1&&"+input"==t.origin){for(var i=t.text.join("\n"),r="",o=1;o<n;++o)r+=i;e.replaceSelection(r)}}function _(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(P),e.state.emacsPrefixMap=!1,e.off("keyHandled",_),e.off("inputRead",_))}function k(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",function(){e.setExtending(!1)})}function S(e){e.setExtending(!1),e.setCursor(e.getCursor())}function C(e,t){var n=e.getCursor(),i=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,i)),n,i),e.setCursor(i)}function T(e){P[e]=function(t){v(t,e)},L["Ctrl-"+e]=function(t){v(t,e)},O["Ctrl-"+e]=!0}for(var E=e.Pos,M=[],A=null,O={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0},L=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){r(e,e.getCursor("start"),e.getCursor("end"))},"Ctrl-K":f(function(e){var t=e.getCursor(),n=e.clipPos(E(t.line)),i=e.getRange(t,n);/\S/.test(i)||(i+="\n",n=E(t.line+1,0)),r(e,t,n,!0,i)}),"Alt-W":function(e){n(e.getSelection()),S(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(i(h(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection((M.length>1&&M.pop(),i()),"around","paste")},"Ctrl-Space":k,"Ctrl-Shift-2":k,"Ctrl-F":y(o,1),"Ctrl-B":y(o,-1),Right:y(o,1),Left:y(o,-1),"Ctrl-D":function(e){m(e,o,1)},Delete:function(e){g(e)||m(e,o,1)},"Ctrl-H":function(e){m(e,o,-1)},Backspace:function(e){g(e)||m(e,o,-1)},"Alt-F":y(s,1),"Alt-B":y(s,-1),"Alt-D":function(e){m(e,s,1)},"Alt-Backspace":function(e){m(e,s,-1)},"Ctrl-N":y(a,1),"Ctrl-P":y(a,-1),Down:y(a,1),Up:y(a,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":y(l,-1),"Ctrl-V":y(l,1),PageUp:y(l,-1),PageDown:y(l,1),"Ctrl-Up":y(c,-1),"Ctrl-Down":y(c,1),"Alt-A":y(u,-1),"Alt-E":y(u,1),"Alt-K":function(e){m(e,u,1)},"Ctrl-Alt-K":function(e){m(e,p,1)},"Ctrl-Alt-Backspace":function(e){m(e,p,-1)},"Ctrl-Alt-F":y(p,1),"Ctrl-Alt-B":y(p,-1),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(d(e,t,p,1),t)},"Ctrl-Alt-T":function(e){var t=p(e,e.getCursor(),-1),n=p(e,t,1),i=p(e,n,1),r=p(e,i,-1);e.replaceRange(e.getRange(r,i)+e.getRange(n,r)+e.getRange(t,n),t,i)},"Ctrl-Alt-U":f(function(e){for(var t=e.getCursor(),n=t.line,i=t.ch,r=[];n>=e.firstLine();){for(var o=e.getLine(n),s=null==i?o.length:i;s>0;)if(")"==(i=o.charAt(--s)))r.push("(");else if("]"==i)r.push("[");else if("}"==i)r.push("{");else if(/[\(\{\[]/.test(i)&&(!r.length||r.pop()!=i))return e.extendSelection(E(n,s));--n,i=null}}),"Alt-Space":function(e){for(var t=e.getCursor(),n=t.ch,i=t.ch,r=e.getLine(t.line);n&&/\s/.test(r.charAt(n-1));)--n;for(;i<r.length&&/\s/.test(r.charAt(i));)++i;e.replaceRange(" ",E(t.line,n),E(t.line,i))},"Ctrl-O":f(function(e){e.replaceSelection("\n","start")}),"Ctrl-T":f(function(e){e.execCommand("transposeChars")}),"Alt-C":f(function(e){C(e,function(e){var t=e.search(/\w/);return-1==t?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()})}),"Alt-U":f(function(e){C(e,function(e){return e.toUpperCase()})}),"Alt-L":f(function(e){C(e,function(e){return e.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":f("undo"),"Shift-Ctrl--":f("undo"),"Ctrl-Z":f("undo"),"Cmd-Z":f("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findNext","Ctrl-R":"findPrev","Ctrl-G":function(e){e.execCommand("clearSearch"),S(e)},"Shift-Alt-5":"replace","Alt-/":"autocomplete","Ctrl-J":"newlineAndIndent",Enter:!1,Tab:"indentAuto","Alt-G G":function(e){var t=h(e,!0);if(null!=t&&t>0)return e.setCursor(t-1);!function(e,t,n){e.openDialog?e.openDialog(t+': <input type="text" style="width: 10em"/>',n,{bottom:!0}):n(prompt(t,""))}(e,"Goto line",function(t){var n;t&&!isNaN(n=Number(t))&&n==(0|n)&&n>0&&e.setCursor(n-1)})},"Ctrl-X Tab":function(e){e.indentSelection(h(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":f("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){r(e,e.getCursor(),u(e,e.getCursor(),1),!0)},"Ctrl-X H":"selectAll","Ctrl-Q Tab":f("insertTab"),"Ctrl-U":function(e){e.state.emacsPrefixMap=!0,e.addKeyMap(P),e.on("keyHandled",_),e.on("inputRead",_)}}),P={"Ctrl-G":x},R=0;R<10;++R)T(String(R));T("-")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n){t.extendSelectionsBy(function(i){return t.display.shift||t.doc.extend||i.empty()?function(t,n,i){if(i<0&&0==n.ch)return t.clipPos(p(n.line-1));var r=t.getLine(n.line);if(i>0&&n.ch>=r.length)return t.clipPos(p(n.line+1,0));for(var o,s="start",a=n.ch,l=i<0?0:r.length,c=0;a!=l;a+=i,c++){var u=r.charAt(i<0?a-1:a),h="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==h&&u.toUpperCase()==u&&(h="W"),"start"==s)"o"!=h&&(s="in",o=h);else if("in"==s&&o!=h){if("w"==o&&"W"==h&&i<0&&a--,"W"==o&&"w"==h&&i>0){o="w";continue}break}}return p(n.line,a)}(t.doc,i.head,n):n<0?i.from():i.to()})}function n(t,n){if(t.isReadOnly())return e.Pass;t.operation(function(){for(var e=t.listSelections().length,i=[],r=-1,o=0;o<e;o++){var s=t.listSelections()[o].head;if(!(s.line<=r)){var a=p(s.line+(n?0:1),0);t.replaceRange("\n",a,null,"+insertLine"),t.indentLine(a.line,null,!0),i.push({head:a,anchor:a}),r=s.line+1}}t.setSelections(i)}),t.execCommand("indentAuto")}function i(t,n){for(var i=n.ch,r=i,o=t.getLine(n.line);i&&e.isWordChar(o.charAt(i-1));)--i;for(;r<o.length&&e.isWordChar(o.charAt(r));)++r;return{from:p(n.line,i),to:p(n.line,r),word:o.slice(i,r)}}function r(e){var t=e.getCursor(),n=e.scanForBracket(t,-1);if(n)for(;;){var i=e.scanForBracket(t,1);if(!i)return;if(i.ch==m.charAt(m.indexOf(n.ch)+1))return e.setSelection(p(n.pos.line,n.pos.ch+1),i.pos,!1),!0;t=p(i.pos.line,i.pos.ch+1)}}function o(t,n){if(t.isReadOnly())return e.Pass;for(var i,r=t.listSelections(),o=[],s=0;s<r.length;s++){var a=r[s];if(!a.empty()){for(var l=a.from().line,c=a.to().line;s<r.length-1&&r[s+1].from().line==c;)c=a[++s].to().line;o.push(l,c)}}o.length?i=!0:o.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],r=0;r<o.length;r+=2){var s=o[r],a=o[r+1],l=p(s,0),c=p(a),u=t.getRange(l,c,!1);n?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),i=t.toUpperCase();return n!=i&&(e=n,t=i),e<t?-1:e==t?0:1}),t.replaceRange(u,l,c),i&&e.push({anchor:l,head:c})}i&&t.setSelections(e,0)})}function s(t,n){t.operation(function(){for(var r=t.listSelections(),o=[],s=[],a=0;a<r.length;a++){(c=r[a]).empty()?(o.push(a),s.push("")):s.push(n(t.getRange(c.from(),c.to())))}t.replaceSelections(s,"around","case");for(var l,a=o.length-1;a>=0;a--){var c=r[o[a]];if(!(l&&e.cmpPos(c.head,l)>0)){var u=i(t,c.head);l=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function a(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var o=i(t,n);if(!o.word)return;n=o.from,r=o.to}return{from:n,to:r,query:t.getRange(n,r),word:o}}function l(e,t){var n=a(e);if(n){var i=n.query,r=e.getSearchCursor(i,t?n.to:n.from);(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):(r=e.getSearchCursor(i,t?p(e.firstLine(),0):e.clipPos(p(e.lastLine()))),(t?r.findNext():r.findPrevious())?e.setSelection(r.from(),r.to()):n.word&&e.setSelection(n.from,n.to))}}var c=e.keyMap.sublime={fallthrough:"default"},u=e.commands,p=e.Pos,h=e.keyMap.default==e.keyMap.macDefault,f=h?"Cmd-":"Ctrl-",d=h?"Ctrl-":"Alt-";u[c[d+"Left"]="goSubwordLeft"]=function(e){t(e,-1)},u[c[d+"Right"]="goSubwordRight"]=function(e){t(e,1)},h&&(c["Cmd-Left"]="goLineStartSmart");var y=h?"Ctrl-Alt-":"Ctrl-";u[c[y+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},u[c[y+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},u[c["Shift-"+f+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)for(var r=t[i].from(),o=t[i].to(),s=r.line;s<=o.line;++s)o.line>r.line&&s==o.line&&0==o.ch||n.push({anchor:s==r.line?r:p(s,0),head:s==o.line?o:p(s)});e.setSelections(n,0)},c["Shift-Tab"]="indentLess",u[c.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},u[c[f+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i];n.push({anchor:p(r.from().line,0),head:p(r.to().line+1,0)})}e.setSelections(n)},c["Shift-Ctrl-K"]="deleteLine",u[c[f+"Enter"]="insertLineAfter"]=function(e){return n(e,!1)},u[c["Shift-"+f+"Enter"]="insertLineBefore"]=function(e){return n(e,!0)},u[c[f+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var s=i(t,n);if(!s.word)return;t.setSelection(s.from,s.to),o=!0}else{var a=t.getRange(n,r),l=o?new RegExp("\\b"+a+"\\b"):a,c=t.getSearchCursor(l,r);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(l,p(t.firstLine(),0))).findNext()&&t.addSelection(c.from(),c.to())}o&&(t.state.sublimeFindFullWord=t.doc.sel)};var m="(){}[]";u[c["Shift-"+f+"Space"]="selectScope"]=function(e){r(e)||e.execCommand("selectAll")},u[c["Shift-"+f+"M"]="selectBetweenBrackets"]=function(t){if(!r(t))return e.Pass},u[c[f+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var i=t.scanForBracket(n.head,1);if(i&&0!=e.cmpPos(i.pos,n.head))return i.pos;var r=t.scanForBracket(n.head,-1);return r&&p(r.pos.line,r.pos.ch+1)||n.head})};var g=h?"Cmd-Ctrl-":"Shift-Ctrl-";u[c[g+"Up"]="swapLineUp"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],r=t.firstLine()-1,o=[],s=0;s<n.length;s++){var a=n[s],l=a.from().line-1,c=a.to().line;o.push({anchor:p(a.anchor.line-1,a.anchor.ch),head:p(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--c,l>r?i.push(l,c):i.length&&(i[i.length-1]=c),r=c}t.operation(function(){for(var e=0;e<i.length;e+=2){var n=i[e],r=i[e+1],s=t.getLine(n);t.replaceRange("",p(n,0),p(n+1,0),"+swapLine"),r>t.lastLine()?t.replaceRange("\n"+s,p(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",p(r,0),null,"+swapLine")}t.setSelections(o),t.scrollIntoView()})},u[c[g+"Down"]="swapLineDown"]=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],r=t.lastLine()+1,o=n.length-1;o>=0;o--){var s=n[o],a=s.to().line+1,l=s.from().line;0!=s.to().ch||s.empty()||a--,a<r?i.push(a,l):i.length&&(i[i.length-1]=l),r=l}t.operation(function(){for(var e=i.length-2;e>=0;e-=2){var n=i[e],r=i[e+1],o=t.getLine(n);n==t.lastLine()?t.replaceRange("",p(n-1),p(n),"+swapLine"):t.replaceRange("",p(n,0),p(n+1,0),"+swapLine"),t.replaceRange(o+"\n",p(r,0),null,"+swapLine")}t.scrollIntoView()})},u[c[f+"/"]="toggleCommentIndented"]=function(e){e.toggleComment({indent:!0})},u[c[f+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){for(var r=t[i],o=r.from(),s=o.line,a=r.to().line;i<t.length-1&&t[i+1].from().line==a;)a=t[++i].to().line;n.push({start:s,end:a,anchor:!r.empty()&&o})}e.operation(function(){for(var t=0,i=[],r=0;r<n.length;r++){for(var o,s=n[r],a=s.anchor&&p(s.anchor.line-t,s.anchor.ch),l=s.start;l<=s.end;l++){var c=l-t;l==s.end&&(o=p(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",p(c),p(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}i.push({anchor:a||o,head:o})}e.setSelections(i,0)})},u[c["Shift-"+f+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",p(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()})},c[f+"T"]="transposeChars",u[c.F9="sortLines"]=function(e){o(e,!0)},u[c[f+"F9"]="sortLinesInsensitive"]=function(e){o(e,!1)},u[c.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),i=n.find();if(i)return t.push(n),e.setSelection(i.from,i.to)}},u[c["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},u[c[f+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),i=0;i<t.length;i++){for(var r=t[i].from(),o=t[i].to(),s=e.findMarks(r,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<n.length;l++)n[l]==s[a]&&n.splice(l--,1);break}a==s.length&&n.push(e.markText(r,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},u[c["Shift-"+f+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},u[c["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var i=0;i<t.length;i++){var r=t[i].find();r?n.push({anchor:r.from,head:r.to}):t.splice(i--,0)}n.length&&e.setSelections(n,0)},c["Alt-Q"]="wrapLines";var v=f+"K ";c[v+f+"Backspace"]="delLineLeft",u[c.Backspace="smartBackspace"]=function(t){if(t.somethingSelected())return e.Pass;t.operation(function(){for(var n=t.listSelections(),i=t.getOption("indentUnit"),r=n.length-1;r>=0;r--){var o=n[r].head,s=t.getRange({line:o.line,ch:0},o),a=e.countColumn(s,null,t.getOption("tabSize")),l=t.findPosH(o,-1,"char",!1);if(s&&!/\S/.test(s)&&a%i==0){var c=new p(o.line,e.findColumn(s,a-i,i));c.ch!=o.ch&&(l=c)}t.replaceRange("",l,o,"+delete")}})},u[c[v+f+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,p(t[n].to().line),"+delete");e.scrollIntoView()})},u[c[v+f+"U"]="upcaseAtCursor"]=function(e){s(e,function(e){return e.toUpperCase()})},u[c[v+f+"L"]="downcaseAtCursor"]=function(e){s(e,function(e){return e.toLowerCase()})},u[c[v+f+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},u[c[v+f+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},u[c[v+f+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var i=t.getCursor(),r=n;if(e.cmpPos(i,r)>0){var o=r;r=i,i=o}t.state.sublimeKilled=t.getRange(i,r),t.replaceRange("",i,r)}},u[c[v+f+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},u[c[v+f+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},c[v+f+"G"]="clearBookmarks",u[c[v+f+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)};var b=h?"Ctrl-Shift-":"Ctrl-Alt-";u[c[b+"Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n];i.head.line>e.firstLine()&&e.addSelection(p(i.head.line-1,i.head.ch))}})},u[c[b+"Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var i=t[n];i.head.line<e.lastLine()&&e.addSelection(p(i.head.line+1,i.head.ch))}})},u[c[f+"F3"]="findUnder"]=function(e){l(e,!0)},u[c["Shift-"+f+"F3"]="findUnderPrevious"]=function(e){l(e,!1)},u[c["Alt-F3"]="findAllUnder"]=function(e){var t=a(e);if(t){for(var n=e.getSearchCursor(t.query),i=[],r=-1;n.findNext();)i.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&r++;e.setSelections(i,r)}},c["Shift-"+f+"["]="fold",c["Shift-"+f+"]"]="unfold",c[v+f+"0"]=c[v+f+"j"]="unfoldAll",c[f+"I"]="findIncremental",c["Shift-"+f+"I"]="findIncrementalReverse",c[f+"H"]="replace",c.F3="findNext",c["Shift-F3"]="findPrev",e.normalizeKeyMap(c)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/dialog/dialog"),require("../addon/edit/matchbrackets.js")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/dialog/dialog","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";var t=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],n=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],i=e.Pos;e.Vim=function(){function r(t,n){this==e.keyMap.vim&&e.rmClass(t.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==o||function(t){t.setOption("disableInput",!1),t.off("cursorActivity",me),e.off(t.getInputField(),"paste",a(t)),t.state.vim=null}(t)}function o(t,n){this==e.keyMap.vim&&e.addClass(t.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==o||function(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",me),x(t),e.on(t.getInputField(),"paste",a(t))}(t)}function s(t,n){if(n){if(this[t])return this[t];var i=function(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var i=!1,r=0;r<t.length;r++){var o=t[r];o in _e?t[r]=_e[o]:i=!0,o in ke&&(t[r]=ke[o])}return!!i&&(f(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}(t);if(!i)return!1;var r=e.Vim.findKey(n,i);return"function"==typeof r&&e.signal(n,"vim-keypress",i),r}}function a(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(O(e.getCursor(),0,1)),Be.enterInsertMode(e,{},t))}),t.onPasteFn}function l(e,t){for(var n=[],i=e;i<e+t;i++)n.push(String.fromCharCode(i));return n}function c(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function u(e){return/^[a-z]$/.test(e)}function p(e){return-1!="()[]{}".indexOf(e)}function h(e){return Se.test(e)}function f(e){return/^[A-Z]$/.test(e)}function d(e){return/^\s*$/.test(e)}function y(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function m(e,t,n,i,r){if(void 0===t&&!r)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),Pe[e]={type:n,defaultValue:t,callback:r},i)for(var o=0;o<i.length;o++)Pe[i[o]]=Pe[e];t&&g(e,t)}function g(e,t,n,i){var r=Pe[e],o=(i=i||{}).scope;if(!r)throw Error("Unknown option: "+e);if("boolean"==r.type){if(t&&!0!==t)throw Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}r.callback?("local"!==o&&r.callback(t,void 0),"global"!==o&&n&&r.callback(t,n)):("local"!==o&&(r.value="boolean"==r.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function v(e,t,n){var i=Pe[e],r=(n=n||{}).scope;if(!i)throw Error("Unknown option: "+e);if(!i.callback)return((o="global"!==r&&t&&t.state.vim.options[e])||"local"!==r&&i||{}).value;var o=t&&i.callback(void 0,t);return"global"!==r&&void 0!==o?o:"local"!==r?i.callback():void 0}function b(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Ie()}function x(e){return e.state.vim||(e.state.vim={inputState:new _,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function w(){je={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Re(),macroModeState:new b,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new C({}),searchHistoryController:new T({}),exCommandHistoryController:new T({})};for(var e in Pe){var t=Pe[e];t.value=t.defaultValue}}function _(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function k(t,n){t.state.vim.inputState=new _,e.signal(t,"vim-command-done",n)}function S(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function C(e){this.registers=e,this.unnamedRegister=e['"']=new S,e["."]=new S,e[":"]=new S,e["/"]=new S}function T(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}function E(e,t){for(var n=[],i=0;i<t;i++)n.push(e);return n}function M(e,t,n){var r=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=z(e,r)-1;o=n?o+1:o;var s=Math.min(Math.max(0,t.ch),o);return i(r,s)}function A(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function O(e,t,n){return"object"==typeof t&&(n=t.ch,t=t.line),i(e.line+t,e.ch+n)}function L(e,t,n){return function(){for(var i=0;i<n;i++)t(e)}}function P(e){return i(e.line,e.ch)}function R(e,t){return e.ch==t.ch&&e.line==t.line}function I(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function j(e,t){return arguments.length>2&&(t=j.apply(void 0,Array.prototype.slice.call(arguments,1))),I(e,t)?e:t}function N(e,t){return arguments.length>2&&(t=N.apply(void 0,Array.prototype.slice.call(arguments,1))),I(e,t)?t:e}function D(e,t,n){var i=I(e,t),r=I(t,n);return i&&r}function z(e,t){return e.getLine(t).length}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e,t){var n=[],r=e.listSelections(),o=P(e.clipPos(t)),s=!R(t,o),a=function(e,t,n){for(var i=0;i<e.length;i++){var r="head"!=n&&R(e[i].anchor,t),o="anchor"!=n&&R(e[i].head,t);if(r||o)return i}return-1}(r,e.getCursor("head")),l=R(r[a].head,r[a].anchor),c=r.length-1,u=c-a>a?c:0,p=r[u].anchor,h=Math.min(p.line,o.line),f=Math.max(p.line,o.line),d=p.ch,y=o.ch,m=r[u].head.ch-d,g=y-d;m>0&&g<=0?(d++,s||y--):m<0&&g>=0?(d--,l||y++):m<0&&-1==g&&(d--,y++);for(var v=h;v<=f;v++){var b={anchor:new i(v,d),head:new i(v,y)};n.push(b)}return a=o.line==f?n.length-1:0,e.setSelections(n),t.ch=y,p.ch=d,p}function B(e,t,n){for(var i=[],r=0;r<n;r++){var o=O(t,r,0);i.push({anchor:o,head:o})}e.setSelections(i,0)}function H(e,t){var n=t.sel.anchor,i=t.sel.head;t.lastPastedText&&(i=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(i),anchor:P(n),head:P(i),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function F(e,t,n){var i=e.state.vim,r=q(e,t=t||i.sel,n=n||i.visualLine?"line":i.visualBlock?"block":"char");e.setSelections(r.ranges,r.primary),ge(e)}function q(e,t,n,r){var o=P(t.head),s=P(t.anchor);if("char"==n){var a=r||I(t.head,t.anchor)?0:1,l=I(t.head,t.anchor)?1:0;return o=O(t.head,0,a),s=O(t.anchor,0,l),{ranges:[{anchor:s,head:o}],primary:0}}if("line"==n){if(I(t.head,t.anchor))o.ch=0,s.ch=z(e,s.line);else{s.ch=0;var c=e.lastLine();o.line>c&&(o.line=c),o.ch=z(e,o.line)}return{ranges:[{anchor:s,head:o}],primary:0}}if("block"==n){for(var u=Math.min(s.line,o.line),p=Math.min(s.ch,o.ch),h=Math.max(s.line,o.line),f=Math.max(s.ch,o.ch)+1,d=h-u+1,y=o.line==u?0:d-1,m=[],g=0;g<d;g++)m.push({anchor:i(u+g,p),head:i(u+g,f)});return{ranges:m,primary:y}}}function K(t,n){var i=t.state.vim;!1!==n&&t.setCursor(M(t,i.sel.head)),H(t,i),i.visualMode=!1,i.visualLine=!1,i.visualBlock=!1,e.signal(t,"vim-mode-change",{mode:"normal"}),i.fakeCursor&&i.fakeCursor.clear()}function U(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function V(e,t,n,r,o){for(var s=function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=j(t,e.getCursor("anchor"))),t}(e),a=e.getLine(s.line),l=s.ch,c=o?Ce[0]:Te[0];!c(a.charAt(l));)if(++l>=a.length)return null;r?c=Te[0]:(c=Ce[0])(a.charAt(l))||(c=Ce[1]);for(var u=l,p=l;c(a.charAt(u))&&u<a.length;)u++;for(;c(a.charAt(p))&&p>=0;)p--;if(p++,t){for(var h=u;/\s/.test(a.charAt(u))&&u<a.length;)u++;if(h==u){for(var f=p;/\s/.test(a.charAt(p-1))&&p>0;)p--;p||(p=f)}}return{start:i(s.line,p),end:i(s.line,u)}}function G(e,t,n){R(t,n)||je.jumpList.add(e,t,n)}function J(e,t){je.lastCharacterSearch.increment=e,je.lastCharacterSearch.forward=t.forward,je.lastCharacterSearch.selectedCharacter=t.selectedCharacter}function X(e,t,n,i,r){var o=t.line,s=t.ch,a=e.getLine(o),l=n?1:-1,u=i?Te:Ce;if(r&&""==a){if(o+=l,a=e.getLine(o),!c(e,o))return null;s=n?0:a.length}for(;;){if(r&&""==a)return{from:0,to:0,line:o};for(var p=l>0?a.length:-1,h=p,f=p;s!=p;){for(var d=!1,y=0;y<u.length&&!d;++y)if(u[y](a.charAt(s))){for(h=s;s!=p&&u[y](a.charAt(s));)s+=l;if(f=s,d=h!=f,h==t.ch&&o==t.line&&f==h+l)continue;return{from:Math.min(h,f+1),to:Math.max(h,f),line:o}}d||(s+=l)}if(o+=l,!c(e,o))return null;a=e.getLine(o),s=l>0?0:a.length}}function Q(e,t,n,r){for(var o,s=e.getCursor(),a=s.ch,l=0;l<t;l++){if(-1==(o=function(e,t,n,i,r){var o;return i?-1==(o=t.indexOf(n,e+1))||r||(o-=1):-1==(o=t.lastIndexOf(n,e-1))||r||(o+=1),o}(a,e.getLine(s.line),r,n,!0)))return null;a=o}return i(e.getCursor().line,o)}function Y(e,t,n,i){y(n,Oe)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(i))}function Z(e,t,n,r,o){function s(t){return!e.getLine(t)}function a(e,t,n){return n?s(e)!=s(e+t):!s(e)&&s(e+t)}var l,c,u=t.line,p=e.firstLine(),h=e.lastLine(),f=u;if(r){for(;p<=f&&f<=h&&n>0;)a(f,r)&&n--,f+=r;return new i(f,0)}var d=e.state.vim;if(d.visualLine&&a(u,1,!0)){var y=d.sel.anchor;a(y.line,-1,!0)&&(o&&y.line==u||(u+=1))}var m=s(u);for(f=u;f<=h&&n;f++)a(f,1,!0)&&(o&&s(f)==m||n--);for(c=new i(f,0),f>h&&!m?m=!0:o=!1,f=u;f>p&&(o&&s(f)!=m&&f!=u||!a(f,-1,!0));f--);return l=new i(f,0),{start:l,end:c}}function ee(){}function te(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new ee)}function ne(e,t,n,i,r){e.openDialog?e.openDialog(t,i,{bottom:!0,value:r.value,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,selectValueOnOpen:!1}):i(prompt(n,""))}function ie(e){var t=re(e)||[];if(!t.length)return[];var n=[];if(0===t[0]){for(var i=0;i<t.length;i++)"number"==typeof t[i]&&n.push(e.substring(t[i]+1,t[i+1]));return n}}function re(e){for(var t=!1,n=[],i=0;i<e.length;i++){var r=e.charAt(i);t||"/"!=r||n.push(i),t=!t&&"\\"==r}return n}function oe(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}function se(e,t){var n=(t.prefix||"")+" "+(t.desc||"");ne(e,function(e,t){var n='<span style="font-family: monospace; white-space: pre">'+(e||"")+'<input type="text"></span>';return t&&(n+=' <span style="color: #888">'+t+"</span>"),n}(t.prefix,t.desc),n,t.onClose,t)}function ae(e,t,n,i){if(t){var r=te(e),o=function(e,t,n){if(je.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var i,r,o=re(e);return o.length?(i=e.substring(0,o[0]),r=-1!=e.substring(o[0]).indexOf("i")):i=e,i?(v("pcre")||(i=function(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var r=e.charAt(i)||"",o=e.charAt(i+1)||"",s=o&&-1!="|(){".indexOf(o);t?("\\"===r&&s||n.push(r),t=!1):"\\"===r?(t=!0,o&&-1!="}".indexOf(o)&&(s=!0),s&&"\\"!==o||n.push(r)):(n.push(r),s&&"\\"!==o&&n.push("\\"))}return n.join("")}(i)),n&&(t=/^[^A-Z]*$/.test(i)),new RegExp(i,t||r?"i":void 0)):null}(t,!!n,!!i);if(o)return le(e,o),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],i=0;i<n.length;i++){var r=n[i];if(e[r]!==t[r])return!1}return!0}return!1}(o,r.getQuery())?o:(r.setQuery(o),o)}}function le(e,t){var n=te(e),i=n.getOverlay();i&&t==i.query||(i&&e.removeOverlay(i),i=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var i=n.match(e,!1);if(i)return 0==i[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+i[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(i),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(i))}function ce(e,t,n,r){return void 0===r&&(r=1),e.operation(function(){for(var o=e.getCursor(),s=e.getSearchCursor(n,o),a=0;a<r;a++){var l=s.find(t);if(0==a&&l&&R(s.from(),o)&&(l=s.find(t)),!l&&!(s=e.getSearchCursor(n,t?i(e.lastLine()):i(e.firstLine(),0))).find(t))return}return s.from()})}function ue(e){var t=te(e);e.removeOverlay(te(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function pe(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?y(e,t):n?e>=t&&e<=n:e==t}function he(e){var t=e.getScrollInfo(),n=e.coordsChar({left:0,top:6+t.top},"local"),i=t.clientHeight-10+t.top,r=e.coordsChar({left:0,top:i},"local");return{top:n.line,bottom:r.line}}function fe(t){var n=t.state.vim,i=je.macroModeState,r=je.registerController.getRegister("."),o=i.isPlaying,s=i.lastInsertModeChanges,a=[];if(!o){for(var l=s.inVisualBlock?n.lastSelection.visualBlock.height:1,c=s.changes,a=[],u=0;u<c.length;)a.push(c[u]),c[u]instanceof ve?u++:u+=l;s.changes=a,t.off("change",ye),e.off(t.getInputField(),"keydown",be)}!o&&n.insertModeRepeat>1&&(xe(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),r.setText(s.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),i.isRecording&&function(e){if(!e.isPlaying){var t=e.latestRegister,n=je.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}(i)}function de(e){t.unshift(e)}function ye(e,t){var n=je.macroModeState,i=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(i.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var r=t.text.join("\n");i.maybeReset&&(i.changes=[],i.maybeReset=!1),i.changes.push(r)}t=t.next}}function me(t){var n=t.state.vim;if(n.insertMode){var i=je.macroModeState;if(i.isPlaying)return;var r=i.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!1:r.maybeReset=!0}else t.curOp.isVimOp||function(t,n){var i=t.getCursor("anchor"),r=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?K(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var o=I(r,i)?0:-1,s=I(r,i)?-1:0;r=O(r,0,o),i=O(i,0,s),n.sel={anchor:i,head:r},Y(t,n,"<",j(r,i)),Y(t,n,">",N(r,i))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}(t,n);n.visualMode&&ge(t)}function ge(e){var t=e.state.vim,n=M(e,P(t.sel.head)),i=O(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,i,{className:"cm-animate-fat-cursor"})}function ve(e){this.keyName=e}function be(t){var n=je.macroModeState.lastInsertModeChanges,i=e.keyName(t);i&&(-1==i.indexOf("Delete")&&-1==i.indexOf("Backspace")||e.lookupKey(i,"vim-insert",function(){return n.maybeReset&&(n.changes=[],n.maybeReset=!1),n.changes.push(new ve(i)),!0}))}function xe(e,t,n,i){function r(){a?ze.processAction(e,t,t.lastEditActionCommand):ze.evalInput(e,t)}function o(n){if(s.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var i=s.lastInsertModeChanges;we(e,i.changes,n)}}var s=je.macroModeState;s.isPlaying=!0;var a=!!t.lastEditActionCommand,l=t.inputState;if(t.inputState=t.lastEditInputState,a&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)r(),o(1);else i||r(),o(n);t.inputState=l,t.insertMode&&!i&&fe(e),s.isPlaying=!1}function we(t,n,i){function r(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var o=t.getCursor("head"),s=je.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var a=t.state.vim.lastSelection,l=function(e,t){return{line:t.line-e.line,ch:t.line-e.line}}(a.anchor,a.head);B(t,o,l.line+1),i=t.listSelections().length,t.setCursor(o)}for(var c=0;c<i;c++){s&&t.setCursor(O(o,c,0));for(var u=0;u<n.length;u++){var p=n[u];if(p instanceof ve)e.lookupKey(p.keyName,"vim-insert",r);else{var h=t.getCursor();t.replaceRange(p,h,h)}}}s&&t.setCursor(O(o,0,1))}e.defineOption("vimMode",!1,function(t,n,i){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&i!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});var _e={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},ke={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},Se=/[\d]/,Ce=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],Te=[function(e){return/\S/.test(e)}],Ee=l(65,26),Me=l(97,26),Ae=l(48,10),Oe=[].concat(Ee,Me,Ae,["<",">"]),Le=[].concat(Ee,Me,Ae,["-",'"',".",":","/"]),Pe={};m("filetype",void 0,"string",["ft"],function(e,t){if(void 0!==t){if(void 0===e)return"null"==(n=t.getOption("mode"))?"":n;var n=""==e?"null":e;t.setOption("mode",n)}});var Re=function(){var e=100,t=-1,n=0,i=0,r=new Array(e);return{cachedCursor:void 0,add:function(o,s,a){function l(n){var i=++t%e,s=r[i];s&&s.clear(),r[i]=o.setBookmark(n)}var c=r[t%e];if(c){var u=c.find();u&&!R(u,s)&&l(s)}else l(s);l(a),n=t,(i=t-e+1)<0&&(i=0)},move:function(o,s){(t+=s)>n?t=n:t<i&&(t=i);var a=r[(e+t)%e];if(a&&!a.find()){var l,c=s>0?1:-1,u=o.getCursor();do{if(t+=c,(a=r[(e+t)%e])&&(l=a.find())&&!R(u,l))break}while(t<n&&t>i)}return a}}},Ie=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};b.prototype={exitMacroRecordMode:function(){var e=je.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=je.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var je,Ne,De={buildKeyMap:function(){},getRegisterController:function(){return je.registerController},resetVimGlobalState_:w,getVimGlobalState_:function(){return je},maybeInitVimState_:x,suppressErrorLogging:!1,InsertModeKey:ve,map:function(e,t,n){Je.map(e,t,n)},unmap:function(e,t){Je.unmap(e,t)},setOption:g,getOption:v,defineOption:m,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;Ge[e]=n,Je.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var i=this.findKey(e,t,n);if("function"==typeof i)return i()},findKey:function(n,i,r){function o(){var e=je.macroModeState;if(e.isRecording){if("q"==i)return e.exitMacroRecordMode(),k(n),!0;"mapping"!=r&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,i=je.registerController.getRegister(n);i&&i.pushText(t)}}(e,i)}}function s(){if("<Esc>"==i)return k(n),l.visualMode?K(n):l.insertMode&&fe(n),!0}var a,l=x(n);return!1===(a=l.insertMode?function(){if(s())return!0;for(var e=l.inputState.keyBuffer=l.inputState.keyBuffer+i,r=1==i.length,o=ze.matchCommand(e,t,l.inputState,"insert");e.length>1&&"full"!=o.type;){var e=l.inputState.keyBuffer=e.slice(1),a=ze.matchCommand(e,t,l.inputState,"insert");"none"!=a.type&&(o=a)}if("none"==o.type)return k(n),!1;if("partial"==o.type)return Ne&&window.clearTimeout(Ne),Ne=window.setTimeout(function(){l.insertMode&&l.inputState.keyBuffer&&k(n)},v("insertModeEscKeysTimeout")),!r;if(Ne&&window.clearTimeout(Ne),r){for(var c=n.listSelections(),u=0;u<c.length;u++){var p=c[u].head;n.replaceRange("",O(p,0,-(e.length-1)),p,"+input")}je.macroModeState.lastInsertModeChanges.changes.pop()}return k(n),o.command}():function(){if(o()||s())return!0;var e=l.inputState.keyBuffer=l.inputState.keyBuffer+i;if(/^[1-9]\d*$/.test(e))return!0;if(!(c=/^(\d*)(.*)$/.exec(e)))return k(n),!1;var r=l.visualMode?"visual":"normal",a=ze.matchCommand(c[2]||c[1],t,l.inputState,r);if("none"==a.type)return k(n),!1;if("partial"==a.type)return!0;l.inputState.keyBuffer="";var c;return(c=/^(\d*)(.*)$/.exec(e))[1]&&"0"!=c[1]&&l.inputState.pushRepeatDigit(c[1]),a.command}())?void 0:!0===a?function(){return!0}:function(){return n.operation(function(){n.curOp.isVimOp=!0;try{"keyToKey"==a.type?function(t){for(var r;t;)r=/<\w+-.+?>|<\w+>|./.exec(t),i=r[0],t=t.substring(r.index+i.length),e.Vim.handleKey(n,i,"mapping")}(a.toKeys):ze.processCommand(n,l,a)}catch(t){throw n.state.vim=void 0,x(n),e.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(e,t){Je.processCommand(e,t)},defineMotion:function(e,t){We[e]=t},defineAction:function(e,t){Be[e]=t},defineOperator:function(e,t){$e[e]=t},mapCommand:function(e,t,n,i,r){var o={keys:e,type:t};o[t]=n,o[t+"Args"]=i;for(var s in r)o[s]=r[s];de(o)},_mapCommand:de,defineRegister:function(e,t){var n=je.registerController.registers[e];if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,Le.push(e)},exitVisualMode:K,exitInsertMode:fe};_.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},_.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},S.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(Ie(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},C.prototype={pushText:function(e,t,n,i,r){i&&"\n"==n.charAt(0)&&(n=n.slice(1)+"\n"),i&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(o)f(e)?o.pushText(n,i):o.setText(n,i,r),this.unnamedRegister.setText(o.toString(),i);else{switch(t){case"yank":this.registers[0]=new S(n,i,r);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new S(n,i):(this.shiftNumericRegisters_(),this.registers[1]=new S(n,i))}this.unnamedRegister.setText(n,i,r)}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new S),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&y(e,Le)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},T.prototype={nextMatch:function(e,t){var n=this.historyBuffer,i=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var r=this.iterator+i;t?r>=0:r<n.length;r+=i)for(var o=n[r],s=0;s<=o.length;s++)if(this.initialPrefix==o.substring(0,s))return this.iterator=r,o;return r>=n.length?(this.iterator=n.length,this.initialPrefix):r<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var ze={matchCommand:function(e,t,n,i){var r=function(e,t,n,i){for(var r,o=[],s=[],a=0;a<t.length;a++){var l=t[a];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||i.operator&&"action"==l.type||!(r=function(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,i=e.slice(0,n),r=t.slice(0,n);return i==r&&e.length>n?"full":0==r.indexOf(i)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}(e,l.keys))||("partial"==r&&o.push(l),"full"==r&&s.push(l))}return{partial:o.length&&o,full:s.length&&s}}(e,t,i,n);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var o,s=0;s<r.full.length;s++){var a=r.full[s];o||(o=a)}return"<character>"==o.keys.slice(-11)&&(n.selectedCharacter=function(e){var t=/^.*(<[\w\-]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" "}return n}(e)),{type:"full",command:o}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=A(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var i=t.inputState;if(i.operator){if(i.operator==n.operator)return i.motion="expandToLine",i.motionArgs={linewise:!0},void this.evalInput(e,t);k(e)}i.operator=n.operator,i.operatorArgs=A(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var i=t.visualMode,r=A(n.operatorMotionArgs);r&&i&&r.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),i||this.processMotion(e,t,n)},processAction:function(e,t,n){var i=t.inputState,r=i.getRepeat(),o=!!r,s=A(n.actionArgs)||{};i.selectedCharacter&&(s.selectedCharacter=i.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),s.repeat=r||1,s.repeatIsExplicit=o,s.registerName=i.registerName,k(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,i,n),Be[n.action](e,s,t)},processSearch:function(t,n,i){function r(e,r,o){je.searchHistoryController.pushInput(e),je.searchHistoryController.reset();try{ae(t,e,r,o)}catch(n){return oe(t,"Invalid regex: "+e),void k(t)}ze.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:i.searchArgs.toJumplist}})}if(t.getSearchCursor){var o=i.searchArgs.forward,s=i.searchArgs.wholeWordOnly;te(t).setReversed(!o);var a=o?"/":"?",l=te(t).getQuery(),c=t.getScrollInfo();switch(i.searchArgs.querySrc){case"prompt":var u=je.macroModeState;u.isPlaying?r(f=u.replaySearchQueries.shift(),!0,!1):se(t,{onClose:function(e){t.scrollTo(c.left,c.top),r(e,!0,!0);var n=je.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,i=je.registerController.getRegister(n);i&&i.pushSearchQuery&&i.pushSearchQuery(t)}}(n,e)},prefix:a,desc:Ue,onKeyUp:function(n,i,r){var s,a=e.keyName(n);"Up"==a||"Down"==a?(s="Up"==a,r(i=je.searchHistoryController.nextMatch(i,s)||"")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&je.searchHistoryController.reset();var l;try{l=ae(t,i,!0,!0)}catch(n){}l?t.scrollIntoView(ce(t,!o,l),30):(ue(t),t.scrollTo(c.left,c.top))},onKeyDown:function(n,i,r){var o=e.keyName(n);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==i?(je.searchHistoryController.pushInput(i),je.searchHistoryController.reset(),ae(t,l),ue(t),t.scrollTo(c.left,c.top),e.e_stop(n),k(t),r(),t.focus()):"Ctrl-U"==o&&(e.e_stop(n),r(""))}});break;case"wordUnderCursor":var p=V(t,!1,0,!1,!0),h=!0;if(p||(p=V(t,!1,0,!1,!1),h=!1),!p)return;var f=t.getLine(p.start.line).substring(p.start.ch,p.end.ch);f=h&&s?"\\b"+f+"\\b":f.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),je.jumpList.cachedCursor=t.getCursor(),t.setCursor(p.start),r(f,!0,!1)}}},processEx:function(t,n,i){function r(e){je.exCommandHistoryController.pushInput(e),je.exCommandHistoryController.reset(),Je.processCommand(t,e)}function o(n,i,r){var o,s=e.keyName(n);("Esc"==s||"Ctrl-C"==s||"Ctrl-["==s||"Backspace"==s&&""==i)&&(je.exCommandHistoryController.pushInput(i),je.exCommandHistoryController.reset(),e.e_stop(n),k(t),r(),t.focus()),"Up"==s||"Down"==s?(o="Up"==s,r(i=je.exCommandHistoryController.nextMatch(i,o)||"")):"Ctrl-U"==s?(e.e_stop(n),r("")):"Left"!=s&&"Right"!=s&&"Ctrl"!=s&&"Alt"!=s&&"Shift"!=s&&je.exCommandHistoryController.reset()}"keyToEx"==i.type?Je.processCommand(t,i.exArgs.input):n.visualMode?se(t,{onClose:r,prefix:":",value:"'<,'>",onKeyDown:o}):se(t,{onClose:r,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,r,o,s=t.inputState,a=s.motion,l=s.motionArgs||{},c=s.operator,u=s.operatorArgs||{},p=s.registerName,h=t.sel,f=P(t.visualMode?M(e,h.head):e.getCursor("head")),y=P(t.visualMode?M(e,h.anchor):e.getCursor("anchor")),m=P(f),g=P(y);if(c&&this.recordLastEdit(t,s),(o=void 0!==s.repeatOverride?s.repeatOverride:s.getRepeat())>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),s.selectedCharacter&&(l.selectedCharacter=u.selectedCharacter=s.selectedCharacter),l.repeat=o,k(e),a){var v=We[a](e,f,l,t);if(t.lastMotion=We[a],!v)return;if(l.toJumplist){var b=je.jumpList,x=b.cachedCursor;x?(G(e,x,v),delete b.cachedCursor):G(e,f,v)}v instanceof Array?(r=v[0],n=v[1]):n=v,n||(n=P(f)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=M(e,n,t.visualBlock)),r&&(r=M(e,r,!0)),r=r||g,h.anchor=r,h.head=n,F(e),Y(e,t,"<",I(r,n)?r:n),Y(e,t,">",I(r,n)?n:r)):c||(n=M(e,n),e.setCursor(n.line,n.ch))}if(c){if(u.lastSel){r=g;var w=u.lastSel,_=Math.abs(w.head.line-w.anchor.line),S=Math.abs(w.head.ch-w.anchor.ch);n=w.visualLine?i(g.line+_,g.ch):w.visualBlock?i(g.line+_,g.ch+S):w.head.line==w.anchor.line?i(g.line,g.ch+S):i(g.line+_,g.ch),t.visualMode=!0,t.visualLine=w.visualLine,t.visualBlock=w.visualBlock,h=t.sel={anchor:r,head:n},F(e)}else t.visualMode&&(u.lastSel={anchor:P(h.anchor),head:P(h.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var C,T,E,A,O;if(t.visualMode){if(C=j(h.head,h.anchor),T=N(h.head,h.anchor),E=t.visualLine||u.linewise,A=t.visualBlock?"block":E?"line":"char",O=q(e,{anchor:C,head:T},A),E){var L=O.ranges;if("block"==A)for(var R=0;R<L.length;R++)L[R].head.ch=z(e,L[R].head.line);else"line"==A&&(L[0].head=i(L[0].head.line+1,0))}}else{if(C=P(r||g),T=P(n||m),I(T,C)){var D=C;C=T,T=D}(E=l.linewise||u.linewise)?function(e,t,n){t.ch=0,n.ch=0,n.line++}(0,C,T):l.forward&&function(e,t,n){var i=e.getRange(t,n);if(/\n\s*$/.test(i)){var r=i.split("\n");r.pop();for(var o=r.pop();r.length>0&&o&&d(o);o=r.pop())n.line--,n.ch=0;o?(n.line--,n.ch=z(e,n.line)):n.ch=0}}(e,C,T),O=q(e,{anchor:C,head:T},A="char",!l.inclusive||E)}e.setSelections(O.ranges,O.primary),t.lastMotion=null,u.repeat=o,u.registerName=p,u.linewise=E;var W=$e[c](e,u,O.ranges,g,n);t.visualMode&&K(e,null!=W),W&&e.setCursor(W)}},recordLastEdit:function(e,t,n){var i=je.macroModeState;i.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,i.lastInsertModeChanges.changes=[],i.lastInsertModeChanges.expectCursorActivityForChange=!1)}},We={moveToTopLine:function(e,t,n){var r=he(e).top+n.repeat-1;return i(r,U(e.getLine(r)))},moveToMiddleLine:function(e){var t=he(e),n=Math.floor(.5*(t.top+t.bottom));return i(n,U(e.getLine(n)))},moveToBottomLine:function(e,t,n){var r=he(e).bottom-n.repeat+1;return i(r,U(e.getLine(r)))},expandToLine:function(e,t,n){return i(t.line+n.repeat-1,1/0)},findNext:function(e,t,n){var i=te(e),r=i.getQuery();if(r){var o=!n.forward;return o=i.isReversed()?!o:o,le(e,r),ce(e,o,r,n.repeat)}},goToMark:function(e,t,n,i){var r=i.marks[n.selectedCharacter];if(r){var o=r.find();return n.linewise?{line:o.line,ch:U(e.getLine(o.line))}:o}return null},moveToOtherHighlightedEnd:function(e,t,n,r){if(r.visualBlock&&n.sameLine){var o=r.sel;return[M(e,i(o.anchor.line,o.head.ch)),M(e,i(o.head.line,o.anchor.ch))]}return[r.sel.head,r.sel.anchor]},jumpToMark:function(e,t,n,r){for(var o=t,s=0;s<n.repeat;s++){var a=o;for(var l in r.marks)if(u(l)){var c=r.marks[l].find();if(!((n.forward?I(c,a):I(a,c))||n.linewise&&c.line==a.line)){var p=R(a,o),h=n.forward?D(a,c,o):D(o,c,a);(p||h)&&(o=c)}}}return n.linewise&&(o=i(o.line,U(e.getLine(o.line)))),o},moveByCharacters:function(e,t,n){var r=t,o=n.repeat,s=n.forward?r.ch+o:r.ch-o;return i(r.line,s)},moveByLines:function(e,t,n,r){var o=t,s=o.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:s=r.lastHPos;break;default:r.lastHPos=s}var a=n.repeat+(n.repeatOffset||0),l=n.forward?o.line+a:o.line-a,c=e.firstLine(),u=e.lastLine();return l<c&&o.line==c?this.moveToStartOfLine(e,t,n,r):l>u&&o.line==u?this.moveToEol(e,t,n,r):(n.toFirstChar&&(s=U(e.getLine(l)),r.lastHPos=s),r.lastHSPos=e.charCoords(i(l,s),"div").left,i(l,s))},moveByDisplayLines:function(e,t,n,r){var o=t;switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=e.charCoords(o,"div").left}var s=n.repeat;if((l=e.findPosV(o,n.forward?s:-s,"line",r.lastHSPos)).hitSide)if(n.forward)var a={top:e.charCoords(l,"div").top+8,left:r.lastHSPos},l=e.coordsChar(a,"div");else{var c=e.charCoords(i(e.firstLine(),0),"div");c.left=r.lastHSPos,l=e.coordsChar(c,"div")}return r.lastHPos=l.ch,l},moveByPage:function(e,t,n){var i=t,r=n.repeat;return e.findPosV(i,n.forward?r:-r,"page")},moveByParagraph:function(e,t,n){var i=n.forward?1:-1;return Z(e,t,n.repeat,i)},moveByScroll:function(e,t,n,i){var r=e.getScrollInfo(),o=null,s=n.repeat;s||(s=r.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(t,"local");if(n.repeat=s,!(o=We.moveByDisplayLines(e,t,n,i)))return null;var l=e.charCoords(o,"local");return e.scrollTo(null,r.top+l.top-a.top),o},moveByWords:function(e,t,n){return function(e,t,n,r,o,s){var a=P(t),l=[];(r&&!o||!r&&o)&&n++;for(var c=!(r&&o),u=0;u<n;u++){var p=X(e,t,r,s,c);if(!p){var h=z(e,e.lastLine());l.push(r?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}l.push(p),t=i(p.line,r?p.to-1:p.from)}var f=l.length!=n,d=l[0],y=l.pop();return r&&!o?(f||d.from==a.ch&&d.line==a.line||(y=l.pop()),i(y.line,y.from)):r&&o?i(y.line,y.to-1):!r&&o?(f||d.to==a.ch&&d.line==a.line||(y=l.pop()),i(y.line,y.to)):i(y.line,y.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var i=Q(e,n.repeat,n.forward,n.selectedCharacter),r=n.forward?-1:1;return J(r,n),i?(i.ch+=r,i):null},moveToCharacter:function(e,t,n){var i=n.repeat;return J(0,n),Q(e,i,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){return function(e,t,n,r){var o=P(e.getCursor()),s=n?1:-1,a=n?e.lineCount():-1,l=o.ch,c=o.line,u=e.getLine(c),p={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:r,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[r],forward:n,depth:0,curMoveThrough:!1},h=He[r];if(!h)return o;var f=Fe[h].init,d=Fe[h].isComplete;for(f&&f(p);c!==a&&t;){if(p.index+=s,p.nextCh=p.lineText.charAt(p.index),!p.nextCh){if(c+=s,p.lineText=e.getLine(c)||"",s>0)p.index=0;else{var y=p.lineText.length;p.index=y>0?y-1:0}p.nextCh=p.lineText.charAt(p.index)}d(p)&&(o.line=c,o.ch=p.index,t--)}return p.nextCh||p.curMoveThrough?i(c,p.index):o}(e,n.repeat,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,r){var o=n.repeat;return r.lastHPos=o-1,r.lastHSPos=e.charCoords(t,"div").left,function(e,t){var n=e.getCursor().line;return M(e,i(n,t-1))}(e,o)},moveToEol:function(e,t,n,r){var o=t;r.lastHPos=1/0;var s=i(o.line+n.repeat-1,1/0),a=e.clipPos(s);return a.ch--,r.lastHSPos=e.charCoords(a,"div").left,s},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return i(n.line,U(e.getLine(n.line)))},moveToMatchedSymbol:function(e,t){var n,r=t,o=r.line,s=r.ch,a=e.getLine(o);do{if((n=a.charAt(s++))&&p(n)){var l=e.getTokenTypeAt(i(o,s));if("string"!==l&&"comment"!==l)break}}while(n);return n?e.findMatchingBracket(i(o,s)).to:r},moveToStartOfLine:function(e,t){return i(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var r=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(r=n.repeat-e.getOption("firstLineNumber")),i(r,U(e.getLine(r)))},textObjectManipulation:function(e,t,n,r){var o=n.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var s,a=!n.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"["}[o])s=function(e,t,n,r){var s,a,l=t,c={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[o],u={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[o],p=e.getLine(l.line).charAt(l.ch)===u?1:0;if(s=e.scanForBracket(i(l.line,l.ch+p),-1,null,{bracketRegex:c}),a=e.scanForBracket(i(l.line,l.ch+p),1,null,{bracketRegex:c}),!s||!a)return{start:l,end:l};if(s=s.pos,a=a.pos,s.line==a.line&&s.ch>a.ch||s.line>a.line){var h=s;s=a,a=h}return r?a.ch+=1:s.ch+=1,{start:s,end:a}}(e,t,0,a);else if({"'":!0,'"':!0}[o])s=function(e,t,n,r){var o,s,a,l,c=P(t),u=e.getLine(c.line).split(""),p=u.indexOf(n);if(c.ch<p?c.ch=p:p<c.ch&&u[c.ch]==n&&(s=c.ch,--c.ch),u[c.ch]!=n||s)for(a=c.ch;a>-1&&!o;a--)u[a]==n&&(o=a+1);else o=c.ch+1;if(o&&!s)for(a=o,l=u.length;a<l&&!s;a++)u[a]==n&&(s=a);return o&&s?(r&&(--o,++s),{start:i(c.line,o),end:i(c.line,s)}):{start:c,end:c}}(e,t,o,a);else if("W"===o)s=V(e,a,0,!0);else if("w"===o)s=V(e,a,0,!1);else{if("p"!==o)return null;if(s=Z(e,t,n.repeat,0,a),n.linewise=!0,r.visualMode)r.visualLine||(r.visualLine=!0);else{var l=r.inputState.operatorArgs;l&&(l.linewise=!0),s.end.line--}}return e.state.vim.visualMode?function(e,t,n){var r,o=e.state.vim.sel,s=o.head,a=o.anchor;return I(n,t)&&(r=n,n=t,t=r),I(s,a)?(s=j(t,s),a=N(a,n)):(a=j(t,a),-1==(s=O(s=N(s,n),0,-1)).ch&&s.line!=e.firstLine()&&(s=i(s.line-1,z(e,s.line-1)))),[a,s]}(e,s.start,s.end):[s.start,s.end]},repeatLastCharacterSearch:function(e,t,n){var i=je.lastCharacterSearch,r=n.repeat,o=n.forward===i.forward,s=(i.increment?1:0)*(o?-1:1);e.moveH(-s,"char"),n.inclusive=!!o;var a=Q(e,r,o,i.selectedCharacter);return a?(a.ch+=s,a):(e.moveH(s,"char"),t)}},$e={change:function(t,n,r){var o,s,a=t.state.vim;if(je.macroModeState.lastInsertModeChanges.inVisualBlock=a.visualBlock,a.visualMode){s=t.getSelection();var l=E("",r.length);t.replaceSelections(l),o=j(r[0].head,r[0].anchor)}else{var c=r[0].anchor,u=r[0].head;s=t.getRange(c,u);var p=a.lastEditInputState||{};if("moveByWords"==p.motion&&!d(s)){var h=/\s+$/.exec(s);h&&p.motionArgs&&p.motionArgs.forward&&(u=O(u,0,-h[0].length),s=s.slice(0,-h[0].length))}var f=new i(c.line-1,Number.MAX_VALUE),y=t.firstLine()==t.lastLine();u.line>t.lastLine()&&n.linewise&&!y?t.replaceRange("",f,u):t.replaceRange("",c,u),n.linewise&&(y||(t.setCursor(f),e.commands.newlineAndIndent(t)),c.ch=Number.MAX_VALUE),o=c}je.registerController.pushText(n.registerName,"change",s,n.linewise,r.length>1),Be.enterInsertMode(t,{head:o},t.state.vim)},delete:function(e,t,n){var r,o,s=e.state.vim;if(s.visualBlock){o=e.getSelection();var a=E("",n.length);e.replaceSelections(a),r=n[0].anchor}else{var l=n[0].anchor,c=n[0].head;t.linewise&&c.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==c.line-1&&(l.line==e.firstLine()?l.ch=0:l=i(l.line-1,z(e,l.line-1))),o=e.getRange(l,c),e.replaceRange("",l,c),r=l,t.linewise&&(r=We.moveToFirstNonWhiteSpaceCharacter(e,l))}return je.registerController.pushText(t.registerName,"delete",o,t.linewise,s.visualBlock),M(e,r)},indent:function(e,t,n){var i=e.state.vim,r=n[0].anchor.line,o=i.visualBlock?n[n.length-1].anchor.line:n[0].head.line,s=i.visualMode?t.repeat:1;t.linewise&&o--;for(var a=r;a<=o;a++)for(var l=0;l<s;l++)e.indentLine(a,t.indentRight);return We.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,i,r){for(var o=e.getSelections(),s=[],a=t.toLower,l=0;l<o.length;l++){var c=o[l],u="";if(!0===a)u=c.toLowerCase();else if(!1===a)u=c.toUpperCase();else for(var p=0;p<c.length;p++){var h=c.charAt(p);u+=f(h)?h.toLowerCase():h.toUpperCase()}s.push(u)}return e.replaceSelections(s),t.shouldMoveCursor?r:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?We.moveToFirstNonWhiteSpaceCharacter(e,i):t.linewise?i:j(n[0].anchor,n[0].head)},yank:function(e,t,n,i){var r=e.state.vim,o=e.getSelection(),s=r.visualMode?j(r.sel.anchor,r.sel.head,n[0].head,n[0].anchor):i;return je.registerController.pushText(t.registerName,"yank",o,t.linewise,r.visualBlock),s}},Be={jumpListWalk:function(e,t,n){if(!n.visualMode){var i=t.repeat,r=t.forward,o=je.jumpList.move(e,r?i:-i),s=o?o.find():void 0;s=s||e.getCursor(),e.setCursor(s)}},scroll:function(e,t,n){if(!n.visualMode){var i=t.repeat||1,r=e.defaultTextHeight(),o=e.getScrollInfo().top,s=r*i,a=t.forward?o+s:o-s,l=P(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)a>c.top?(l.line+=(a-c.top)/r,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,a);else{var u=a+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/r,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,t){var n=e.getCursor().line,r=e.charCoords(i(n,0),"local"),o=e.getScrollInfo().clientHeight,s=r.top,a=r.bottom-s;switch(t.position){case"center":s=s-o/2+a;break;case"bottom":s=s-o+a}e.scrollTo(null,s)},replayMacro:function(t,n,i){var r=n.selectedCharacter,o=n.repeat,s=je.macroModeState;for("@"==r&&(r=s.latestRegister);o--;)!function(t,n,i,r){var o=je.registerController.getRegister(r);if(":"==r)return o.keyBuffer[0]&&Je.processCommand(t,o.keyBuffer[0]),void(i.isPlaying=!1);var s=o.keyBuffer,a=0;i.isPlaying=!0,i.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<s.length;l++)for(var c,u,p=s[l];p;)if(c=/<\w+-.+?>|<\w+>|./.exec(p),u=c[0],p=p.substring(c.index+u.length),e.Vim.handleKey(t,u,"macro"),n.insertMode){var h=o.insertModeChanges[a++].changes;je.macroModeState.lastInsertModeChanges.changes=h,we(t,h,1),fe(t)}i.isPlaying=!1}(t,i,s,r)},enterMacroRecordMode:function(e,t){var n=je.macroModeState,i=t.selectedCharacter;n.enterMacroRecordMode(e,i)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,n,r){if(!t.getOption("readOnly")){r.insertMode=!0,r.insertModeRepeat=n&&n.repeat||1;var o=n?n.insertAt:null,s=r.sel,a=n.head||t.getCursor("head"),l=t.listSelections().length;if("eol"==o)a=i(a.line,z(t,a.line));else if("charAfter"==o)a=O(a,0,1);else if("firstNonBlank"==o)a=We.moveToFirstNonWhiteSpaceCharacter(t,a);else if("startOfSelectedArea"==o)r.visualBlock?(a=i(Math.min(s.head.line,s.anchor.line),Math.min(s.head.ch,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line<s.anchor.line?s.head:i(s.anchor.line,0);else if("endOfSelectedArea"==o)r.visualBlock?(a=i(Math.min(s.head.line,s.anchor.line),Math.max(s.head.ch+1,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line>=s.anchor.line?O(s.head,0,1):i(s.anchor.line,0);else if("inplace"==o&&r.visualMode)return;t.setOption("disableInput",!1),n&&n.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),je.macroModeState.isPlaying||(t.on("change",ye),e.on(t.getInputField(),"keydown",be)),r.visualMode&&K(t),B(t,a,l)}},toggleVisualMode:function(t,n,r){var o,s=n.repeat,a=t.getCursor();r.visualMode?r.visualLine^n.linewise||r.visualBlock^n.blockwise?(r.visualLine=!!n.linewise,r.visualBlock=!!n.blockwise,e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),F(t)):K(t):(r.visualMode=!0,r.visualLine=!!n.linewise,r.visualBlock=!!n.blockwise,o=M(t,i(a.line,a.ch+s-1),!0),r.sel={anchor:a,head:o},e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":r.visualBlock?"blockwise":""}),F(t),Y(t,r,"<",j(a,o)),Y(t,r,">",N(a,o)))},reselectLastSelection:function(t,n,i){var r=i.lastSelection;if(i.visualMode&&H(t,i),r){var o=r.anchorMark.find(),s=r.headMark.find();if(!o||!s)return;i.sel={anchor:o,head:s},i.visualMode=!0,i.visualLine=r.visualLine,i.visualBlock=r.visualBlock,F(t),Y(t,i,"<",j(o,s)),Y(t,i,">",N(o,s)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var r,o;if(n.visualMode)r=e.getCursor("anchor"),I(o=e.getCursor("head"),r)&&(c=o,o=r,r=c),o.ch=z(e,o.line)-1;else{var s=Math.max(t.repeat,2);r=e.getCursor(),o=M(e,i(r.line+s-1,1/0))}for(var a=0,l=r.line;l<o.line;l++){a=z(e,r.line);var c=i(r.line+1,z(e,r.line+1)),u=e.getRange(r,c);u=u.replace(/\n\s*/g," "),e.replaceRange(u,r,c)}var p=i(r.line,a);n.visualMode&&K(e,!1),e.setCursor(p)},newLineAndEnterInsertMode:function(t,n,r){r.insertMode=!0;var o=P(t.getCursor());o.line!==t.firstLine()||n.after?(o.line=n.after?o.line:o.line-1,o.ch=z(t,o.line),t.setCursor(o),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t)):(t.replaceRange("\n",i(t.firstLine(),0)),t.setCursor(t.firstLine(),0)),this.enterInsertMode(t,{repeat:n.repeat},r)},paste:function(e,t,n){var r=P(e.getCursor()),o=je.registerController.getRegister(t.registerName);if(f=o.toString()){if(t.matchIndent){var s=e.getOption("tabSize"),a=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*s+1*n},l=e.getLine(e.getCursor().line),c=a(l.match(/^\s*/)[0]),u=f.replace(/\n$/,""),p=f!==u,h=a(f.match(/^\s*/)[0]),f=u.replace(/^\s*/gm,function(t){var n=c+(a(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var i=Math.floor(n/s);return Array(i+1).join("\t")}return Array(n+1).join(" ")});f+=p?"\n":""}t.repeat>1&&(f=Array(t.repeat+1).join(f));var d=o.linewise,y=o.blockwise;if(d)n.visualMode?f=n.visualLine?f.slice(0,-1):"\n"+f.slice(0,f.length-1)+"\n":t.after?(f="\n"+f.slice(0,f.length-1),r.ch=z(e,r.line)):r.ch=0;else{if(y)for(f=f.split("\n"),C=0;C<f.length;C++)f[C]=""==f[C]?" ":f[C];r.ch+=t.after?1:0}var m,g;if(n.visualMode){n.lastPastedText=f;var v,b=function(e,t){var n=t.lastSelection;return t.visualMode?function(){var t=e.listSelections(),n=t[0],i=t[t.length-1];return[I(n.anchor,n.head)?n.anchor:n.head,I(i.anchor,i.head)?i.head:i.anchor]}():function(){var t=e.getCursor(),r=e.getCursor(),o=n.visualBlock;if(o){var s=o.width,a=o.height;r=i(t.line+a,t.ch+s);for(var l=[],c=t.line;c<r.line;c++){var u={anchor:i(c,t.ch),head:i(c,r.ch)};l.push(u)}e.setSelections(l)}else{var p=n.anchorMark.find(),h=n.headMark.find(),f=h.line-p.line,d=h.ch-p.ch;r={line:r.line+f,ch:f?r.ch:d+r.ch},n.visualLine&&(t=i(t.line,0),r=i(r.line,z(e,r.line))),e.setSelection(t,r)}return[t,r]}()}(e,n),x=b[0],w=b[1],_=e.getSelection(),k=e.listSelections(),S=new Array(k.length).join("1").split("1");n.lastSelection&&(v=n.lastSelection.headMark.find()),je.registerController.unnamedRegister.setText(_),y?(e.replaceSelections(S),w=i(x.line+f.length-1,x.ch),e.setCursor(x),$(e,w),e.replaceSelections(f),m=x):n.visualBlock?(e.replaceSelections(S),e.setCursor(x),e.replaceRange(f,x,x),m=x):(e.replaceRange(f,x,w),m=e.posFromIndex(e.indexFromPos(x)+f.length-1)),v&&(n.lastSelection.headMark=e.setBookmark(v)),d&&(m.ch=0)}else if(y){e.setCursor(r);for(var C=0;C<f.length;C++){var T=r.line+C;T>e.lastLine()&&e.replaceRange("\n",i(T,0)),z(e,T)<r.ch&&function(e,t,n){var r=z(e,t),o=new Array(n-r+1).join(" ");e.setCursor(i(t,r)),e.replaceRange(o,e.getCursor())}(e,T,r.ch)}e.setCursor(r),$(e,i(r.line+f.length-1,r.ch)),e.replaceSelections(f),m=r}else e.replaceRange(f,r),d&&t.after?m=i(r.line+1,U(e.getLine(r.line+1))):d&&!t.after?m=i(r.line,U(e.getLine(r.line))):!d&&t.after?(g=e.indexFromPos(r),m=e.posFromIndex(g+f.length-1)):(g=e.indexFromPos(r),m=e.posFromIndex(g+f.length));n.visualMode&&K(e,!1),e.setCursor(m)}},undo:function(t,n){t.operation(function(){L(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){L(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){Y(e,n,t.selectedCharacter,e.getCursor())},replace:function(t,n,r){var o,s,a=n.selectedCharacter,l=t.getCursor(),c=t.listSelections();if(r.visualMode)l=t.getCursor("start"),s=t.getCursor("end");else{var u=t.getLine(l.line);(o=l.ch+n.repeat)>u.length&&(o=u.length),s=i(l.line,o)}if("\n"==a)r.visualMode||t.replaceRange("",l,s),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var p=t.getRange(l,s);if(p=p.replace(/[^\n]/g,a),r.visualBlock){var h=new Array(t.getOption("tabSize")+1).join(" ");p=(p=t.getSelection()).replace(/\t/g,h).replace(/[^\n]/g,a).split("\n"),t.replaceSelections(p)}else t.replaceRange(p,l,s);r.visualMode?(l=I(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,t.setCursor(l),K(t,!1)):t.setCursor(O(s,0,-1))}},incrementNumberToken:function(e,t){for(var n,r,o,s,a,l=e.getCursor(),c=e.getLine(l.line),u=/-?\d+/g;null!==(n=u.exec(c))&&(a=n[0],r=n.index,o=r+a.length,!(l.ch<o)););if((t.backtrack||!(o<=l.ch))&&a){var p=t.increase?1:-1,h=parseInt(a)+p*t.repeat,f=i(l.line,r),d=i(l.line,o);s=h.toString(),e.replaceRange(s,f,d),e.setCursor(i(l.line,r+s.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var i=t.repeat;i&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=i:i=n.lastEditInputState.repeatOverride||i,xe(e,n,i,!1)}},exitInsertMode:fe},He={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Fe={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};m("pcre",!0,"boolean"),ee.prototype={getQuery:function(){return je.query},setQuery:function(e){je.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return je.isReversed},setReversed:function(e){je.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var qe={"\\n":"\n","\\r":"\r","\\t":"\t"},Ke={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"},Ue="(Javascript regexp)",Ve=function(){this.buildCommandMap_()};Ve.prototype={processCommand:function(e,t,n){var i=this;e.operation(function(){e.curOp.isVimOp=!0,i._processCommand(e,t,n)})},_processCommand:function(t,n,i){var r=t.state.vim,o=je.registerController.getRegister(":"),s=o.toString();r.visualMode&&K(t);var a=new e.StringStream(n);o.setText(n);var l=i||{};l.input=n;try{this.parseInput_(t,a,l)}catch(e){throw oe(t,e),e}var c,u;if(l.commandName){if(c=this.matchCommand_(l.commandName)){if(u=c.name,c.excludeFromCommandHistory&&o.setText(s),this.parseCommandArgs_(a,l,c),"exToKey"==c.type){for(var p=0;p<c.toKeys.length;p++)e.Vim.handleKey(t,c.toKeys[p],"mapping");return}if("exToEx"==c.type)return void this.processCommand(t,c.toInput)}}else void 0!==l.line&&(u="move");if(u)try{Ge[u](t,l),c&&c.possiblyAsync||!l.callback||l.callback()}catch(e){throw oe(t,e),e}else oe(t,'Not an editor command ":'+n+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var i=t.match(/^(\w+)/);return n.commandName=i?i[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return e.getCursor().line;case"$":return e.lastLine();case"'":var i=e.state.vim.marks[t.next()];if(i&&i.find())return i.find().line;throw new Error("Mark not set");default:return void t.backUp(1)}},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var i=n.argDelimiter||/\s+/,r=W(t.argString).split(i);r.length&&r[0]&&(t.args=r)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var i=this.commandMap_[n];if(0===i.name.indexOf(e))return i}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<n.length;e++){var t=n[e],i=t.shortName||t.name;this.commandMap_[i]=t}},map:function(e,n,i){if(":"!=e&&":"==e.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var r=e.substring(1);":"!=n&&":"==n.charAt(0)?this.commandMap_[r]={name:r,type:"exToEx",toInput:n.substring(1),user:!0}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:n,user:!0}}else if(":"!=n&&":"==n.charAt(0))o={keys:e,type:"keyToEx",exArgs:{input:n.substring(1)},user:!0},i&&(o.context=i),t.unshift(o);else{var o={keys:e,type:"keyToKey",toKeys:n,user:!0};i&&(o.context=i),t.unshift(o)}},unmap:function(e,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=e.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return void delete this.commandMap_[i]}else for(var r=e,o=0;o<t.length;o++)if(r==t[o].keys&&t[o].context===n&&t[o].user)return void t.splice(o,1);throw Error("No such mapping.")}};var Ge={colorscheme:function(e,t){!t.args||t.args.length<1?oe(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n){var i=t.args;!i||i.length<2?e&&oe(e,"Invalid mapping: "+t.input):Je.map(i[0],i[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var i=t.args;!i||i.length<1?e&&oe(e,"No such mapping: "+t.input):Je.unmap(i[0],n)},move:function(e,t){ze.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,i=t.setCfg||{};if(!n||n.length<1)e&&oe(e,"Invalid mapping: "+t.input);else{var r=n[0].split("="),o=r[0],s=r[1],a=!1;if("?"==o.charAt(o.length-1)){if(s)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),a=!0}void 0===s&&"no"==o.substring(0,2)&&(o=o.substring(2),s=!1);var l=Pe[o]&&"boolean"==Pe[o].type;if(l&&void 0==s&&(s=!0),!l&&void 0===s||a){var c=v(o,e,i);!0===c||!1===c?oe(e," "+(c?"":"no")+o):oe(e,"  "+o+"="+c)}else g(o,s,e,i)}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,i=je.registerController.registers,r="----------Registers----------<br><br>";if(n){n=n.join("");for(var o=0;o<n.length;o++)s=n.charAt(o),je.registerController.isValidRegister(s)&&(r+='"'+s+"    "+(i[s]||new S).toString()+"<br>")}else for(var s in i){var a=i[s].toString();a.length&&(r+='"'+s+"    "+a+"<br>")}oe(e,r)},sort:function(t,n){function r(e,t){if(o){var n;n=e,e=t,t=n}s&&(e=e.toLowerCase(),t=t.toLowerCase());var i=l&&y.exec(e),r=l&&y.exec(t);return i?(i=parseInt((i[1]+i[2]).toLowerCase(),m),r=parseInt((r[1]+r[2]).toLowerCase(),m),i-r):e<t?-1:1}var o,s,a,l,c=function(){if(n.argString){var t=new e.StringStream(n.argString);if(t.eat("!")&&(o=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var i=t.match(/[a-z]+/);if(i){i=i[0],s=-1!=i.indexOf("i"),a=-1!=i.indexOf("u");var r=-1!=i.indexOf("d")&&1,c=-1!=i.indexOf("x")&&1,u=-1!=i.indexOf("o")&&1;if(r+c+u>1)return"Invalid arguments";l=r&&"decimal"||c&&"hex"||u&&"octal"}if(t.match(/\/.*\//))return"patterns not supported"}}();if(c)oe(t,c+": "+n.argString);else{var u=n.line||t.firstLine(),p=n.lineEnd||n.line||t.lastLine();if(u!=p){var h=i(u,0),f=i(p,z(t,p)),d=t.getRange(h,f).split("\n"),y="decimal"==l?/(-?)([\d]+)/:"hex"==l?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==l?/([0-7]+)/:null,m="decimal"==l?10:"hex"==l?16:"octal"==l?8:null,g=[],v=[];if(l)for(w=0;w<d.length;w++)y.exec(d[w])?g.push(d[w]):v.push(d[w]);else v=d;if(g.sort(r),v.sort(r),d=o?g.concat(v):v.concat(g),a){var b,x=d;d=[];for(var w=0;w<x.length;w++)x[w]!=b&&d.push(x[w]),b=x[w]}t.replaceRange(d.join("\n"),h,f)}}},global:function(e,t){var n=t.argString;if(n){var i,r=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),s=ie(n),a=n;if(s.length&&(a=s[0],i=s.slice(1,s.length).join("/")),a)try{ae(e,a,!0,!0)}catch(t){return void oe(e,"Invalid regex: "+a)}for(var l=te(e).getQuery(),c=[],u="",p=r;p<=o;p++)l.test(e.getLine(p))&&(c.push(p+1),u+=e.getLine(p)+"<br>");if(i){var h=0,f=function(){if(h<c.length){var t=c[h]+i;Je.processCommand(e,t,{callback:f})}h++};f()}else oe(e,u)}else oe(e,"Regular Expression missing from global")},substitute:function(t,n){if(!t.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var r,o,s,a,l=n.argString,c=l?ie(l):[],u="",p=!1,f=!1;if(c.length)r=c[0],void 0!==(u=c[1])&&(u=v("pcre")?function(t){for(var n=new e.StringStream(t),i=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)i.push(n.next());var r=!1;for(var o in Ke)if(n.match(o,!0)){r=!0,i.push(Ke[o]);break}r||i.push(n.next())}return i.join("")}(u):function(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var r=e.charAt(i)||"",o=e.charAt(i+1)||"";qe[r+o]?(n.push(qe[r+o]),i++):t?(n.push(r),t=!1):"\\"===r?(t=!0,h(o)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===r&&n.push("$"),n.push(r),"/"===o&&n.push("\\"))}return n.join("")}(u),je.lastSubstituteReplacePart=u),o=c[2]?c[2].split(" "):[];else if(l&&l.length)return void oe(t,"Substitutions should be of the form :s/pattern/replace/");if(o&&(s=o[0],a=parseInt(o[1]),s&&(-1!=s.indexOf("c")&&(p=!0,s.replace("c","")),-1!=s.indexOf("g")&&(f=!0,s.replace("g","")),r=r+"/"+s)),r)try{ae(t,r,!0,!0)}catch(e){return void oe(t,"Invalid regex: "+r)}if(void 0!==(u=u||je.lastSubstituteReplacePart)){var d=te(t).getQuery(),y=void 0!==n.line?n.line:t.getCursor().line,m=n.lineEnd||y;y==t.firstLine()&&m==t.lastLine()&&(m=1/0),a&&(m=(y=m)+a-1);var g=M(t,i(y,0)),b=t.getSearchCursor(d,g);!function(t,n,i,r,o,s,a,l,c){function u(){t.operation(function(){for(;!d;)p(),h();f()})}function p(){var e=t.getRange(s.from(),s.to()).replace(a,l);s.replace(e)}function h(){for(;s.findNext()&&pe(s.from(),r,o);)if(i||!y||s.from().line!=y.line)return t.scrollIntoView(s.from(),30),t.setSelection(s.from(),s.to()),y=s.from(),void(d=!1);d=!0}function f(e){if(e&&e(),t.focus(),y){t.setCursor(y);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=y.ch}c&&c()}t.state.vim.exMode=!0;var d=!1,y=s.from();if(h(),!d)return n?void se(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:function(n,i,r){switch(e.e_stop(n),e.keyName(n)){case"Y":p(),h();break;case"N":h();break;case"A":var o=c;c=void 0,t.operation(u),c=o;break;case"L":p();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":f(r)}return d&&f(r),!0}}):(u(),void(c&&c()));oe(t,"No matches for "+a.source)}(t,p,f,y,m,b,d,u,n.callback)}else oe(t,"No previous substitute regular expression")},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){ue(e)},yank:function(e){var t=P(e.getCursor()).line,n=e.getLine(t);je.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(t,n){if(n.argString&&W(n.argString))for(var i=t.state.vim,r=new e.StringStream(W(n.argString));!r.eol();){r.eatSpace();var o=r.pos;if(!r.match(/[a-zA-Z]/,!1))return void oe(t,"Invalid argument: "+n.argString.substring(o));var s=r.next();if(r.match("-",!0)){if(!r.match(/[a-zA-Z]/,!1))return void oe(t,"Invalid argument: "+n.argString.substring(o));var a=s,l=r.next();if(!(u(a)&&u(l)||f(a)&&f(l)))return void oe(t,"Invalid argument: "+a+"-");var c=a.charCodeAt(0),p=l.charCodeAt(0);if(c>=p)return void oe(t,"Invalid argument: "+n.argString.substring(o));for(var h=0;h<=p-c;h++){var d=String.fromCharCode(c+h);delete i.marks[d]}}else delete i.marks[s]}else oe(t,"Argument required")}},Je=new Ve;return e.keyMap.vim={attach:o,detach:r,call:s},m("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:o,detach:r,call:s},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:o,detach:r,call:s},w(),De}()}),function(){function e(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function t(e){return e.replace(/^\s+|\s+$/g,"")}function n(e){return e.replace(/^\s+/g,"")}function i(i,a){"use strict";return new function(i,a){function l(e,t){var n=0;e&&(n=e.indentation_level,!C.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));return{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:C.get_line_number(),ternary_depth:0}}function c(e){var t=e.newlines;if(D.keep_array_indentation&&m(P.mode))for(n=0;n<t;n+=1)p(n>0);else if(D.max_preserve_newlines&&t>D.max_preserve_newlines&&(t=D.max_preserve_newlines),D.preserve_newlines&&e.newlines>1){p();for(var n=1;n<t;n+=1)p(!0)}N[(M=e).type]()}function u(e){if(e=void 0!==e&&e,!C.just_added_newline())if(D.preserve_newlines&&M.wanted_newline||e)p(!1,!0);else if(D.wrap_line_length){C.current_line.get_character_count()+M.text.length+(C.space_before_token?1:0)>=D.wrap_line_length&&p(!1,!0)}}function p(e,t){if(!t&&";"!==P.last_text&&","!==P.last_text&&"="!==P.last_text&&"TK_OPERATOR"!==A)for(;P.mode===o.Statement&&!P.if_block&&!P.do_block;)v();C.add_new_line(e)&&(P.multiline_frame=!0)}function h(){C.just_added_newline()&&(D.keep_array_indentation&&m(P.mode)&&M.wanted_newline?(C.current_line.push(M.whitespace_before),C.space_before_token=!1):C.set_indent(P.indentation_level)&&(P.line_indent_level=P.indentation_level))}function f(e){C.raw?C.add_raw_token(M):(D.comma_first&&"TK_COMMA"===A&&C.just_added_newline()&&","===C.previous_line.last()&&(C.previous_line.pop(),h(),C.add_token(","),C.space_before_token=!0),e=e||M.text,h(),C.add_token(e))}function d(){P.indentation_level+=1}function y(e){P?(I.push(P),R=P):R=l(null,e),P=l(R,e)}function m(e){return e===o.ArrayLiteral}function g(t){return e(t,[o.Expression,o.ForInitializer,o.Conditional])}function v(){I.length>0&&(R=P,P=I.pop(),R.mode===o.Statement&&C.remove_redundant_indentation(R))}function b(){return P.parent.mode===o.ObjectLiteral&&P.mode===o.Statement&&(":"===P.last_text&&0===P.ternary_depth||"TK_RESERVED"===A&&e(P.last_text,["get","set"]))}function x(){return!!("TK_RESERVED"===A&&e(P.last_text,["var","let","const"])&&"TK_WORD"===M.type||"TK_RESERVED"===A&&"do"===P.last_text||"TK_RESERVED"===A&&"return"===P.last_text&&!M.wanted_newline||"TK_RESERVED"===A&&"else"===P.last_text&&("TK_RESERVED"!==M.type||"if"!==M.text)||"TK_END_EXPR"===A&&(R.mode===o.ForInitializer||R.mode===o.Conditional)||"TK_WORD"===A&&P.mode===o.BlockStatement&&!P.in_case&&"--"!==M.text&&"++"!==M.text&&"function"!==O&&"TK_WORD"!==M.type&&"TK_RESERVED"!==M.type||P.mode===o.ObjectLiteral&&(":"===P.last_text&&0===P.ternary_depth||"TK_RESERVED"===A&&e(P.last_text,["get","set"])))&&(y(o.Statement),d(),"TK_RESERVED"===A&&e(P.last_text,["var","let","const"])&&"TK_WORD"===M.type&&(P.declaration_statement=!0),b()||u("TK_RESERVED"===M.type&&e(M.text,["do","for","if","while"])),!0)}function w(e,n){for(var i=0;i<e.length;i++){if(t(e[i]).charAt(0)!==n)return!1}return!0}function _(t){return e(t,["case","return","do","if","throw","else"])}function k(e){var t=T+(e||0);return t<0||t>=z.length?null:z[t]}function S(){if("TK_RESERVED"===M.type&&P.mode!==o.ObjectLiteral&&e(M.text,["set","get"])&&(M.type="TK_WORD"),"TK_RESERVED"===M.type&&P.mode===o.ObjectLiteral){":"==k(1).text&&(M.type="TK_WORD")}if(x()||!M.wanted_newline||g(P.mode)||"TK_OPERATOR"===A&&"--"!==P.last_text&&"++"!==P.last_text||"TK_EQUALS"===A||!D.preserve_newlines&&"TK_RESERVED"===A&&e(P.last_text,["var","let","const","set","get"])||p(),P.do_block&&!P.do_while){if("TK_RESERVED"===M.type&&"while"===M.text)return C.space_before_token=!0,f(),C.space_before_token=!0,void(P.do_while=!0);p(),P.do_block=!1}if(P.if_block)if(P.else_block||"TK_RESERVED"!==M.type||"else"!==M.text){for(;P.mode===o.Statement;)v();P.if_block=!1,P.else_block=!1}else P.else_block=!0;if("TK_RESERVED"===M.type&&("case"===M.text||"default"===M.text&&P.in_case_statement))return p(),(P.case_body||D.jslint_happy)&&(P.indentation_level>0&&(!P.parent||P.indentation_level>P.parent.indentation_level)&&(P.indentation_level-=1),P.case_body=!1),f(),P.in_case=!0,void(P.in_case_statement=!0);if("TK_RESERVED"===M.type&&"function"===M.text&&((e(P.last_text,["}",";"])||C.just_added_newline()&&!e(P.last_text,["[","{",":","=",","]))&&(C.just_added_blankline()||M.comments_before.length||(p(),p(!0))),"TK_RESERVED"===A||"TK_WORD"===A?"TK_RESERVED"===A&&e(P.last_text,["get","set","new","return","export","async"])?C.space_before_token=!0:"TK_RESERVED"===A&&"default"===P.last_text&&"export"===O?C.space_before_token=!0:p():"TK_OPERATOR"===A||"="===P.last_text?C.space_before_token=!0:(P.multiline_frame||!g(P.mode)&&!m(P.mode))&&p()),"TK_COMMA"!==A&&"TK_START_EXPR"!==A&&"TK_EQUALS"!==A&&"TK_OPERATOR"!==A||b()||u(),"TK_RESERVED"===M.type&&e(M.text,["function","get","set"]))return f(),void(P.last_word=M.text);if(j="NONE","TK_END_BLOCK"===A?"TK_RESERVED"===M.type&&e(M.text,["else","catch","finally"])?"expand"===D.brace_style||"end-expand"===D.brace_style||"none"===D.brace_style&&M.wanted_newline?j="NEWLINE":(j="SPACE",C.space_before_token=!0):j="NEWLINE":"TK_SEMICOLON"===A&&P.mode===o.BlockStatement?j="NEWLINE":"TK_SEMICOLON"===A&&g(P.mode)?j="SPACE":"TK_STRING"===A?j="NEWLINE":"TK_RESERVED"===A||"TK_WORD"===A||"*"===P.last_text&&"function"===O?j="SPACE":"TK_START_BLOCK"===A?j="NEWLINE":"TK_END_EXPR"===A&&(C.space_before_token=!0,j="NEWLINE"),"TK_RESERVED"===M.type&&e(M.text,E.line_starters)&&")"!==P.last_text&&(j="else"===P.last_text||"export"===P.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===M.type&&e(M.text,["else","catch","finally"]))if("TK_END_BLOCK"!==A||"expand"===D.brace_style||"end-expand"===D.brace_style||"none"===D.brace_style&&M.wanted_newline)p();else{C.trim(!0);"}"!==C.current_line.last()&&p(),C.space_before_token=!0}else"NEWLINE"===j?"TK_RESERVED"===A&&_(P.last_text)?C.space_before_token=!0:"TK_END_EXPR"!==A?"TK_START_EXPR"===A&&"TK_RESERVED"===M.type&&e(M.text,["var","let","const"])||":"===P.last_text||("TK_RESERVED"===M.type&&"if"===M.text&&"else"===P.last_text?C.space_before_token=!0:p()):"TK_RESERVED"===M.type&&e(M.text,E.line_starters)&&")"!==P.last_text&&p():P.multiline_frame&&m(P.mode)&&","===P.last_text&&"}"===O?p():"SPACE"===j&&(C.space_before_token=!0);f(),P.last_word=M.text,"TK_RESERVED"===M.type&&"do"===M.text&&(P.do_block=!0),"TK_RESERVED"===M.type&&"if"===M.text&&(P.if_block=!0)}var C,T,E,M,A,O,L,P,R,I,j,N,D,z=[],W="";N={TK_START_EXPR:function(){x();var t=o.Expression;if("["===M.text){if("TK_WORD"===A||")"===P.last_text)return"TK_RESERVED"===A&&e(P.last_text,E.line_starters)&&(C.space_before_token=!0),y(t),f(),d(),void(D.space_in_paren&&(C.space_before_token=!0));t=o.ArrayLiteral,m(P.mode)&&("["!==P.last_text&&(","!==P.last_text||"]"!==O&&"}"!==O)||D.keep_array_indentation||p())}else"TK_RESERVED"===A&&"for"===P.last_text?t=o.ForInitializer:"TK_RESERVED"===A&&e(P.last_text,["if","while"])&&(t=o.Conditional);";"===P.last_text||"TK_START_BLOCK"===A?p():"TK_END_EXPR"===A||"TK_START_EXPR"===A||"TK_END_BLOCK"===A||"."===P.last_text?u(M.wanted_newline):"TK_RESERVED"===A&&"("===M.text||"TK_WORD"===A||"TK_OPERATOR"===A?"TK_RESERVED"===A&&("function"===P.last_word||"typeof"===P.last_word)||"*"===P.last_text&&"function"===O?D.space_after_anon_function&&(C.space_before_token=!0):"TK_RESERVED"!==A||!e(P.last_text,E.line_starters)&&"catch"!==P.last_text||D.space_before_conditional&&(C.space_before_token=!0):C.space_before_token=!0;"("===M.text&&"TK_RESERVED"===A&&"await"===P.last_word&&(C.space_before_token=!0);"("===M.text&&("TK_EQUALS"!==A&&"TK_OPERATOR"!==A||b()||u());"("===M.text&&"TK_WORD"!==A&&"TK_RESERVED"!==A&&u();y(t),f(),D.space_in_paren&&(C.space_before_token=!0);d()},TK_END_EXPR:function(){for(;P.mode===o.Statement;)v();P.multiline_frame&&u("]"===M.text&&m(P.mode)&&!D.keep_array_indentation);D.space_in_paren&&("TK_START_EXPR"!==A||D.space_in_empty_paren?C.space_before_token=!0:(C.trim(),C.space_before_token=!1));"]"===M.text&&D.keep_array_indentation?(f(),v()):(v(),f());C.remove_redundant_indentation(R),P.do_while&&R.mode===o.Conditional&&(R.mode=o.Expression,P.do_block=!1,P.do_while=!1)},TK_START_BLOCK:function(){var t=k(1),n=k(2);y(n&&(e(n.text,[":",","])&&e(t.type,["TK_STRING","TK_WORD","TK_RESERVED"])||e(t.text,["get","set"])&&e(n.type,["TK_WORD","TK_RESERVED"]))?e(O,["class","interface"])?o.BlockStatement:o.ObjectLiteral:o.BlockStatement);var i,r=(i=!t.comments_before.length&&"}"===t.text)&&"function"===P.last_word&&"TK_END_EXPR"===A;"expand"===D.brace_style||"none"===D.brace_style&&M.wanted_newline?"TK_OPERATOR"!==A&&(r||"TK_EQUALS"===A||"TK_RESERVED"===A&&_(P.last_text)&&"else"!==P.last_text)?C.space_before_token=!0:p(!1,!0):"TK_OPERATOR"!==A&&"TK_START_EXPR"!==A?"TK_START_BLOCK"===A?p():C.space_before_token=!0:m(R.mode)&&","===P.last_text&&("}"===O?C.space_before_token=!0:p());f(),d()},TK_END_BLOCK:function(){for(;P.mode===o.Statement;)v();var e="TK_START_BLOCK"===A;"expand"===D.brace_style?e||p():e||(m(P.mode)&&D.keep_array_indentation?(D.keep_array_indentation=!1,p(),D.keep_array_indentation=!0):p());v(),f()},TK_WORD:S,TK_RESERVED:S,TK_SEMICOLON:function(){x()&&(C.space_before_token=!1);for(;P.mode===o.Statement&&!P.if_block&&!P.do_block;)v();f()},TK_STRING:function(){x()?C.space_before_token=!0:"TK_RESERVED"===A||"TK_WORD"===A?C.space_before_token=!0:"TK_COMMA"===A||"TK_START_EXPR"===A||"TK_EQUALS"===A||"TK_OPERATOR"===A?b()||u():p();f()},TK_EQUALS:function(){x();P.declaration_statement&&(P.declaration_assignment=!0);C.space_before_token=!0,f(),C.space_before_token=!0},TK_OPERATOR:function(){x();if("TK_RESERVED"===A&&_(P.last_text))return C.space_before_token=!0,void f();if("*"===M.text&&"TK_DOT"===A)return void f();if(":"===M.text&&P.in_case)return P.case_body=!0,d(),f(),p(),void(P.in_case=!1);if("::"===M.text)return void f();"TK_OPERATOR"===A&&u();var t=!0,n=!0;e(M.text,["--","++","!","~"])||e(M.text,["-","+"])&&(e(A,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||e(P.last_text,E.line_starters)||","===P.last_text)?(t=!1,n=!1,!M.wanted_newline||"--"!==M.text&&"++"!==M.text||p(!1,!0),";"===P.last_text&&g(P.mode)&&(t=!0),"TK_RESERVED"===A?t=!0:"TK_END_EXPR"===A?t=!("]"===P.last_text&&("--"===M.text||"++"===M.text)):"TK_OPERATOR"===A&&(t=e(M.text,["--","-","++","+"])&&e(P.last_text,["--","-","++","+"]),e(M.text,["+","-"])&&e(P.last_text,["--","++"])&&(n=!0)),P.mode!==o.BlockStatement&&P.mode!==o.Statement||"{"!==P.last_text&&";"!==P.last_text||p()):":"===M.text?0===P.ternary_depth?t=!1:P.ternary_depth-=1:"?"===M.text?P.ternary_depth+=1:"*"===M.text&&"TK_RESERVED"===A&&"function"===P.last_text&&(t=!1,n=!1);C.space_before_token=C.space_before_token||t,f(),C.space_before_token=n},TK_COMMA:function(){if(P.declaration_statement)return g(P.parent.mode)&&(P.declaration_assignment=!1),f(),void(P.declaration_assignment?(P.declaration_assignment=!1,p(!1,!0)):(C.space_before_token=!0,D.comma_first&&u()));f(),P.mode===o.ObjectLiteral||P.mode===o.Statement&&P.parent.mode===o.ObjectLiteral?(P.mode===o.Statement&&v(),p()):(C.space_before_token=!0,D.comma_first&&u())},TK_BLOCK_COMMENT:function(){if(C.raw)return C.add_raw_token(M),void(M.directives&&"end"===M.directives.preserve&&(D.test_output_raw||(C.raw=!1)));if(M.directives)return p(!1,!0),f(),"start"===M.directives.preserve&&(C.raw=!0),void p(!1,!0);if(!r.newline.test(M.text)&&!M.wanted_newline)return C.space_before_token=!0,f(),void(C.space_before_token=!0);var e,t=function(e){var t=[],n=(e=e.replace(/\x0d/g,"")).indexOf("\n");for(;-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");e.length&&t.push(e);return t}(M.text),i=!1,o=!1,s=M.whitespace_before,a=s.length;p(!1,!0),t.length>1&&(w(t.slice(1),"*")?i=!0:function(e,t){for(var n,i=0,r=e.length;i<r;i++)if((n=e[i])&&0!==n.indexOf(t))return!1;return!0}(t.slice(1),s)&&(o=!0));for(f(t[0]),e=1;e<t.length;e++)p(!1,!0),i?f(" "+n(t[e])):o&&t[e].length>a?f(t[e].substring(a)):C.add_token(t[e]);p(!1,!0)},TK_COMMENT:function(){M.wanted_newline?p(!1,!0):C.trim(!0);C.space_before_token=!0,f(),p(!1,!0)},TK_DOT:function(){x();"TK_RESERVED"===A&&_(P.last_text)?C.space_before_token=!0:u(")"===P.last_text&&D.break_chained_methods);f()},TK_UNKNOWN:function(){f(),"\n"===M.text[M.text.length-1]&&p()},TK_EOF:function(){for(;P.mode===o.Statement;)v()}};a=a||{},D={},void 0!==a.braces_on_own_line&&(D.brace_style=a.braces_on_own_line?"expand":"collapse");D.brace_style=a.brace_style?a.brace_style:D.brace_style?D.brace_style:"collapse","expand-strict"===D.brace_style&&(D.brace_style="expand");D.indent_size=a.indent_size?parseInt(a.indent_size,10):4,D.indent_char=a.indent_char?a.indent_char:" ",D.eol=a.eol?a.eol:"\n",D.preserve_newlines=void 0===a.preserve_newlines||a.preserve_newlines,D.break_chained_methods=void 0!==a.break_chained_methods&&a.break_chained_methods,D.max_preserve_newlines=void 0===a.max_preserve_newlines?0:parseInt(a.max_preserve_newlines,10),D.space_in_paren=void 0!==a.space_in_paren&&a.space_in_paren,D.space_in_empty_paren=void 0!==a.space_in_empty_paren&&a.space_in_empty_paren,D.jslint_happy=void 0!==a.jslint_happy&&a.jslint_happy,D.space_after_anon_function=void 0!==a.space_after_anon_function&&a.space_after_anon_function,D.keep_array_indentation=void 0!==a.keep_array_indentation&&a.keep_array_indentation,D.space_before_conditional=void 0===a.space_before_conditional||a.space_before_conditional,D.unescape_strings=void 0!==a.unescape_strings&&a.unescape_strings,D.wrap_line_length=void 0===a.wrap_line_length?0:parseInt(a.wrap_line_length,10),D.e4x=void 0!==a.e4x&&a.e4x,D.end_with_newline=void 0!==a.end_with_newline&&a.end_with_newline,D.comma_first=void 0!==a.comma_first&&a.comma_first,D.test_output_raw=void 0!==a.test_output_raw&&a.test_output_raw,D.jslint_happy&&(D.space_after_anon_function=!0);a.indent_with_tabs&&(D.indent_char="\t",D.indent_size=1);D.eol=D.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),L="";for(;D.indent_size>0;)L+=D.indent_char,D.indent_size-=1;var $=0;if(i&&i.length){for(;" "===i.charAt($)||"\t"===i.charAt($);)W+=i.charAt($),$+=1;i=i.substring($)}A="TK_START_BLOCK",O="",(C=new function(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(e){var t=0,n=-1,i=[],r=!0;this.set_indent=function(i){t=e.baseIndentLength+i*e.indent_length,n=i},this.get_character_count=function(){return t},this.is_empty=function(){return r},this.last=function(){return this._empty?null:i[i.length-1]},this.push=function(e){i.push(e),t+=e.length,r=!1},this.pop=function(){var e=null;return r||(e=i.pop(),t-=e.length,r=0===i.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();){i.pop();t-=1}r=0===i.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=i.join("")),t}}(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return(1!==this.get_line_number()||!this.just_added_newline())&&(!(!e&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0))},this.get_code=function(){return n.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==o.ForInitializer&&e.mode!==o.Conditional)for(var t=e.start_line_index,i=n.length;t<i;)n[t].remove_indent(),t++},this.trim=function(i){for(i=void 0!==i&&i,this.current_line.trim(e,t);i&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){if(this.just_added_newline()){if(1===n.length)return!0;return n[n.length-2].is_empty()}return!1}}(L,W)).raw=D.test_output_raw,I=[],y(o.BlockStatement),this.beautify=function(){var n,o;for(E=new function(n,i,o){function a(){var o,a=[];if(d=0,y="",v>=b)return["","TK_EOF"];var E;E=g.length?g[g.length-1]:new s("TK_START_BLOCK","{");var M=n.charAt(v);for(v+=1;e(M,l);){if(r.newline.test(M)?"\n"===M&&"\r"===n.charAt(v-2)||(d+=1,a=[]):a.push(M),v>=b)return["","TK_EOF"];M=n.charAt(v),v+=1}if(a.length&&(y=a.join("")),c.test(M)){var A=!0,O=!0,L=c;for("0"===M&&v<b&&/[Xxob]/.test(n.charAt(v))?(A=!1,O=!1,M+=n.charAt(v),v+=1,L=/[b]/.test(n.charAt(v))?u:/[o]/.test(n.charAt(v))?p:h):(M="",v-=1);v<b&&L.test(n.charAt(v));)M+=n.charAt(v),v+=1,A&&v<b&&"."===n.charAt(v)&&(M+=n.charAt(v),v+=1,A=!1),O&&v<b&&/[Ee]/.test(n.charAt(v))&&(M+=n.charAt(v),(v+=1)<b&&/[+-]/.test(n.charAt(v))&&(M+=n.charAt(v),v+=1),O=!1,A=!1);return[M,"TK_WORD"]}if(r.isIdentifierStart(n.charCodeAt(v-1))){if(v<b)for(;r.isIdentifierChar(n.charCodeAt(v))&&(M+=n.charAt(v),(v+=1)!==b););return"TK_DOT"===E.type||"TK_RESERVED"===E.type&&e(E.text,["set","get"])||!e(M,x)?[M,"TK_WORD"]:"in"===M?[M,"TK_OPERATOR"]:[M,"TK_RESERVED"]}if("("===M||"["===M)return[M,"TK_START_EXPR"];if(")"===M||"]"===M)return[M,"TK_END_EXPR"];if("{"===M)return[M,"TK_START_BLOCK"];if("}"===M)return[M,"TK_END_BLOCK"];if(";"===M)return[M,"TK_SEMICOLON"];if("/"===M){var P="";if("*"===n.charAt(v)){v+=1,w.lastIndex=v;I=w.exec(n);P="/*"+I[0],v+=I[0].length;var R=function(e){if(!e.match(k))return null;var t={};S.lastIndex=0;var n=S.exec(e);for(;n;)t[n[1]]=n[2],n=S.exec(e);return t}(P);return R&&"start"===R.ignore&&(C.lastIndex=v,I=C.exec(n),P+=I[0],v+=I[0].length),P=P.replace(r.lineBreak,"\n"),[P,"TK_BLOCK_COMMENT",R]}if("/"===n.charAt(v)){v+=1,_.lastIndex=v;var I=_.exec(n);return P="//"+I[0],v+=I[0].length,[P,"TK_COMMENT"]}}if("`"===M||"'"===M||'"'===M||("/"===M||i.e4x&&"<"===M&&n.slice(v-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===E.type&&e(E.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===E.type&&")"===E.text&&E.parent&&"TK_RESERVED"===E.parent.type&&e(E.parent.text,["if","while","for"])||e(E.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var j=M,N=!1,D=!1;if(o=M,"/"===j)for(var z=!1;v<b&&(N||z||n.charAt(v)!==j)&&!r.newline.test(n.charAt(v));)o+=n.charAt(v),N?N=!1:(N="\\"===n.charAt(v),"["===n.charAt(v)?z=!0:"]"===n.charAt(v)&&(z=!1)),v+=1;else if(i.e4x&&"<"===j){var W=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,$=n.slice(v-1),B=W.exec($);if(B&&0===B.index){for(var H=B[2],F=0;B;){var q=!!B[1],K=B[2],U=!!B[B.length-1]||"![CDATA["===K.slice(0,8);if(K!==H||U||(q?--F:++F),F<=0)break;B=W.exec($)}var V=B?B.index+B[0].length:$.length;return $=$.slice(0,V),v+=V-1,$=$.replace(r.lineBreak,"\n"),[$,"TK_STRING"]}}else for(;v<b&&(N||n.charAt(v)!==j&&("`"===j||!r.newline.test(n.charAt(v))));)(N||"`"===j)&&r.newline.test(n.charAt(v))?("\r"===n.charAt(v)&&"\n"===n.charAt(v+1)&&(v+=1),o+="\n"):o+=n.charAt(v),N?("x"!==n.charAt(v)&&"u"!==n.charAt(v)||(D=!0),N=!1):N="\\"===n.charAt(v),v+=1;if(D&&i.unescape_strings&&(o=function(e){var t,n=!1,i="",r=0,o="",s=0;for(;n||r<e.length;)if(t=e.charAt(r),r++,n){if(n=!1,"x"===t)o=e.substr(r,2),r+=2;else{if("u"!==t){i+="\\"+t;continue}o=e.substr(r,4),r+=4}if(!o.match(/^[0123456789abcdefABCDEF]+$/))return e;if((s=parseInt(o,16))>=0&&s<32){i+="x"===t?"\\x"+o:"\\u"+o;continue}if(34===s||39===s||92===s)i+="\\"+String.fromCharCode(s);else{if("x"===t&&s>126&&s<=255)return e;i+=String.fromCharCode(s)}}else"\\"===t?n=!0:i+=t;return i}(o)),v<b&&n.charAt(v)===j&&(o+=j,v+=1,"/"===j))for(;v<b&&r.isIdentifierStart(n.charCodeAt(v));)o+=n.charAt(v),v+=1;return[o,"TK_STRING"]}if("#"===M){if(0===g.length&&"!"===n.charAt(v)){for(o=M;v<b&&"\n"!==M;)M=n.charAt(v),o+=M,v+=1;return[t(o)+"\n","TK_UNKNOWN"]}var G="#";if(v<b&&c.test(n.charAt(v))){do{M=n.charAt(v),G+=M,v+=1}while(v<b&&"#"!==M&&"="!==M);return"#"===M||("["===n.charAt(v)&&"]"===n.charAt(v+1)?(G+="[]",v+=2):"{"===n.charAt(v)&&"}"===n.charAt(v+1)&&(G+="{}",v+=2)),[G,"TK_WORD"]}}if("<"===M&&("?"===n.charAt(v)||"%"===n.charAt(v))){T.lastIndex=v-1;var J=T.exec(n);if(J)return M=J[0],v+=M.length-1,M=M.replace(r.lineBreak,"\n"),[M,"TK_STRING"]}if("<"===M&&"\x3c!--"===n.substring(v-1,v+3)){for(v+=3,M="\x3c!--";!r.newline.test(n.charAt(v))&&v<b;)M+=n.charAt(v),v++;return m=!0,[M,"TK_COMMENT"]}if("-"===M&&m&&"--\x3e"===n.substring(v-1,v+2))return m=!1,v+=2,["--\x3e","TK_COMMENT"];if("."===M)return[M,"TK_DOT"];if(e(M,f)){for(;v<b&&e(M+n.charAt(v),f)&&(M+=n.charAt(v),!((v+=1)>=b)););return","===M?[M,"TK_COMMA"]:"="===M?[M,"TK_EQUALS"]:[M,"TK_OPERATOR"]}return[M,"TK_UNKNOWN"]}var l="\n\r\t ".split(""),c=/[0-9]/,u=/[01]/,p=/[01234567]/,h=/[0123456789abcdefABCDEF]/,f="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var d,y,m,g,v,b,x=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),w=/([\s\S]*?)((?:\*\/)|$)/g,_=/([^\n\r\u2028\u2029]*)/g,k=/\/\* beautify( \w+[:]\w+)+ \*\//g,S=/ (\w+)[:](\w+)/g,C=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,T=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){b=n.length,v=0,m=!1,g=[];for(var e,t,i,r=null,o=[],l=[];!t||"TK_EOF"!==t.type;){for(i=a(),e=new s(i[1],i[0],d,y);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=i[2]),l.push(e),i=a(),e=new s(i[1],i[0],d,y);l.length&&(e.comments_before=l,l=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,o.push(r),r=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&r&&("]"===e.text&&"["===r.text||")"===e.text&&"("===r.text||"}"===e.text&&"{"===r.text)&&(e.parent=r.parent,r=o.pop()),g.push(e),t=e}return g}}(i,D,L),z=E.tokenize(),T=0;n=k();){for(var a=0;a<n.comments_before.length;a++)c(n.comments_before[a]);c(n),O=P.last_text,A=n.type,P.last_text=n.text,T+=1}return o=C.get_code(),D.end_with_newline&&(o+="\n"),"\n"!=D.eol&&(o=o.replace(/[\n]/g,D.eol)),o}}(i,a).beautify()}var r={};!function(e){var t="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",n=new RegExp("["+t+"]"),i=new RegExp("["+t+"------------------------------------------------------------------------------------------------------------------------------------------]");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=/\r\n|[\n\r\u2028\u2029]/g,e.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&n.test(String.fromCharCode(e)))},e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&i.test(String.fromCharCode(e))))}}(r);var o={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},s=function(e,t,n,i,r,o){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=i||"",this.parent=null,this.directives=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:i}}):"undefined"!=typeof exports?exports.js_beautify=i:"undefined"!=typeof window?window.js_beautify=i:"undefined"!=typeof global&&(global.js_beautify=i)}(),function(){function e(e){return e.replace(/\s+$/g,"")}function t(t,n,i,r){var o,s,a,l,c,u,p,h,f,d,y,m,g,v,b;for(void 0!==(n=n||{}).wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),s=void 0!==n.indent_inner_html&&n.indent_inner_html,a=void 0===n.indent_size?4:parseInt(n.indent_size,10),l=void 0===n.indent_char?" ":n.indent_char,u=void 0===n.brace_style?"collapse":n.brace_style,c=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),p=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],h=void 0===n.preserve_newlines||n.preserve_newlines,f=h?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,d=void 0!==n.indent_handlebars&&n.indent_handlebars,y=void 0===n.wrap_attributes?"auto":n.wrap_attributes,m=void 0===n.wrap_attributes_indent_size?a:parseInt(n.wrap_attributes_indent_size,10)||a,g=void 0!==n.end_with_newline&&n.end_with_newline,v="object"==typeof n.extra_liners&&n.extra_liners?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),b=n.eol?n.eol:"\n",n.indent_with_tabs&&(l="\t",a=1),b=b.replace(/\\r/,"\r").replace(/\\n/,"\n"),(o=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=s,this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:v,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)h&&"\n"===e&&this.newlines<=f&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(d){var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var i=n.exec(this.input),r=i?i.index:this.input.length;return this.pos<r&&(t=this.input.substring(this.pos,r),this.pos=r),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,i="",r=[],o="",s=!1,a=!0,c=this.pos,u=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=c,this.line_char_count=u),r.length?r.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))s=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),s=!0),"="===i&&(s=!1),r.length&&"="!==r[r.length-1]&&">"!==i&&s){if(this.space_or_wrap(r),s=!1,!a&&"force"===y&&"/"!==i){this.print_newline(!0,r),this.print_indentation(r);for(var h=0;h<m;h++)r.push(l)}for(var f=0;f<r.length;f++)if(" "===r[f]){a=!1;break}}if(d&&"<"===n&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),r.length&&" "!==r[r.length-1]&&"<"!==r[r.length-1]&&(i=" "+i),s=!0),"<"!==i||n||(t=this.pos-1,n="<"),d&&!n&&r.length>=2&&"{"===r[r.length-1]&&"{"===r[r.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,n="{"),this.line_char_count++,r.push(i),r[1]&&("!"===r[1]||"?"===r[1]||"%"===r[1])){r=[this.get_comment(t)];break}if(d&&r[1]&&"{"===r[1]&&r[2]&&"!"===r[2]){r=[this.get_comment(t)];break}if(d&&"{"===n&&r.length>2&&"}"===r[r.length-2]&&"}"===r[r.length-1])break}}while(">"!==i);var g,v,b=r.join("");g=-1!==b.indexOf(" ")?b.indexOf(" "):"{"===b.charAt(0)?b.indexOf("}"):b.indexOf(">"),v="<"!==b.charAt(0)&&d?"#"===b.charAt(2)?3:2:1;var x=b.substring(v,g).toLowerCase();return"/"===b.charAt(b.length-2)||this.Utils.in_array(x,this.Utils.single_token)?e||(this.tag_type="SINGLE"):d&&"{"===b.charAt(0)&&"else"===x?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(x,p)?(o=this.get_unformatted("</"+x+">",b),r.push(o),this.pos,this.tag_type="SINGLE"):"script"===x&&(-1===b.search("type")||b.search("type")>-1&&b.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(x),this.tag_type="SCRIPT"):"style"===x&&(-1===b.search("type")||b.search("type")>-1&&b.search("text/css")>-1)?e||(this.record_tag(x),this.tag_type="STYLE"):"!"===x.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===x.charAt(0)?(this.retrieve_tag(x.substring(1)),this.tag_type="END"):(this.record_tag(x),"html"!==x.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(r),this.Utils.in_array(x,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=c,this.line_char_count=u),r.join("")},this.get_comment=function(e){var t="",n=">",i=!1;this.pos=e;var r=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=r).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!i&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",i=!0):0===t.indexOf("<![cdata[")?(n="]]>",i=!0):0===t.indexOf("<![")?(n="]>",i=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",i=!0):0===t.indexOf("{{!")?(n="}}",i=!0):0===t.indexOf("<?")?(n="?>",i=!0):0===t.indexOf("<%")&&(n="%>",i=!0)),r=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n="",i="",r=0,o=!0;do{if(this.pos>=this.input.length)return i;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){i+="\n",this.line_char_count=0;continue}}i+=n,this.line_char_count++,o=!0,d&&"{"===n&&i.length&&"{"===i.charAt(i.length-2)&&(r=(i+=this.get_unformatted("}}")).length)}while(-1===i.toLowerCase().indexOf(e,r));return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(t,n,i,r,o){this.input=t||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=n,this.indent_string="",this.indent_size=i,this.brace_style=o,this.indent_level=0,this.wrap_line_length=r,this.line_char_count=0;for(var s=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(t,n){this.line_char_count=0,n&&n.length&&(t||"\n"!==n[n.length-1])&&("\n"!==n[n.length-1]&&(n[n.length-1]=e(n[n.length-1])),n.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(t){this.newlines>0&&(t=e(t)),t&&""!==t&&(t.length>1&&"\n"===t.charAt(t.length-1)?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var n=0;n<this.newlines;n++)this.print_newline(n>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(t,l,a,c,u);;){var x=o.get_token();if(o.token_text=x[0],o.token_type=x[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===o.last_token&&""===o.last_text){var w=o.token_text.match(/\w+/)[0],_=null;o.output.length&&(_=o.output[o.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===_||_[1]!==w&&!o.Utils.in_array(_[1],p))&&o.print_newline(!1,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var k=o.token_text.match(/^\s*<([a-z-]+)/i);k&&o.Utils.in_array(k[1],p)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var S=!1,C=o.output.length-1;C>=0&&"\n"!==o.output[C];C--)if(o.output[C].match(/{{#if/)){S=!0;break}S||o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent_content&&(o.indent(),o.indent_content=!1),o.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.print_newline(!1,o.output);var T,E=o.token_text,M=1;"TK_SCRIPT"===o.token_type?T="function"==typeof i&&i:"TK_STYLE"===o.token_type&&(T="function"==typeof r&&r),"keep"===n.indent_scripts?M=0:"separate"===n.indent_scripts&&(M=-o.indent_level);var A=o.get_full_indent(M);if(T){var O=function(){this.eol="\n"};O.prototype=n;var L=new O;E=T(E.replace(/^\s*/,A),L)}else{var P=E.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,R=o.get_full_indent(M-P);E=E.replace(/^\s*/,A).replace(/\r\n|\r|\n/g,"\n"+R).replace(/\s+$/,"")}E&&(o.print_token_raw(E),o.print_newline(!0,o.output))}o.current_mode="TAG";break;default:""!==o.token_text&&o.print_token(o.token_text)}o.last_token=o.token_type,o.last_text=o.token_text}var I=o.output.join("").replace(/[\r\n\t ]+$/,"");return g&&(I+="\n"),"\n"!=b&&(I=I.replace(/[\n]/g,b)),I}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(e){var n=e("./beautify"),i=e("./beautify-css");return{html_beautify:function(e,r){return t(e,r,n.js_beautify,i.css_beautify)}}});else if("undefined"!=typeof exports){var n=require("./beautify.js"),i=require("./beautify-css.js");exports.html_beautify=function(e,r){return t(e,r,n.js_beautify,i.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(e,n){return t(e,n,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(e,n){return t(e,n,global.js_beautify,global.css_beautify)})}(),function(){function e(t,n){function i(){return(x=t.charAt(++_))||""}function r(e){var n="",r=_;return e&&a(),n=t.charAt(_+1)||"",_=r-1,i(),n}function o(e){for(var n=_;i();)if("\\"===x)i();else{if(-1!==e.indexOf(x))break;if("\n"===x)break}return t.substring(n,_+1)}function s(e){var t=_,n=o(e);return _=t-1,i(),n}function a(){for(var e="";w.test(r());)i(),e+=x;return e}function l(){var e="";for(x&&w.test(x)&&(e=x);w.test(i());)e+=x;return e}function c(e){var n=_;for(e="/"===r(),i();i();){if(!e&&"*"===x&&"/"===r()){i();break}if(e&&"\n"===x)return t.substring(n,_)}return t.substring(n,_)+x}function u(e){return t.substring(_-e.length,_).toLowerCase()===e}function p(){for(var e=0,n=_+1;n<t.length;n++){var i=t.charAt(n);if("{"===i)return!0;if("("===i)e+=1;else if(")"===i){if(0==e)return!1;e-=1}else if(";"===i||"}"===i)return!1}return!1}function h(){T++,S+=C}function f(){T--,S=S.slice(0,-d)}n=n||{},t=(t=t||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var d=n.indent_size||4,y=n.indent_char||" ",m=void 0===n.selector_separator_newline||n.selector_separator_newline,g=void 0!==n.end_with_newline&&n.end_with_newline,v=void 0===n.newline_between_rules||n.newline_between_rules,b=n.eol?n.eol:"\n";"string"==typeof d&&(d=parseInt(d,10)),n.indent_with_tabs&&(y="\t",d=1),b=b.replace(/\\r/,"\r").replace(/\\n/,"\n");var x,w=/^\s+$/,_=-1,k=0,S=t.match(/^[\t ]*/)[0],C=new Array(d+1).join(y),T=0,E=0,M={};M["{"]=function(e){M.singleSpace(),A.push(e),M.newLine()},M["}"]=function(e){M.newLine(),A.push(e),M.newLine()},M._lastCharWhitespace=function(){return w.test(A[A.length-1])},M.newLine=function(e){A.length&&(e||"\n"===A[A.length-1]||M.trim(),A.push("\n"),S&&A.push(S))},M.singleSpace=function(){A.length&&!M._lastCharWhitespace()&&A.push(" ")},M.preserveSingleSpace=function(){N&&M.singleSpace()},M.trim=function(){for(;M._lastCharWhitespace();)A.pop()};for(var A=[],O=!1,L=!1,P=!1,R="",I="";;){var j=l(),N=""!==j,D=-1!==j.indexOf("\n");if(I=R,R=x,!x)break;if("/"===x&&"*"===r()){var z=0===T;(D||z)&&M.newLine(),A.push(c()),M.newLine(),z&&M.newLine(!0)}else if("/"===x&&"/"===r())D||"{"===I||M.trim(),M.singleSpace(),A.push(c()),M.newLine();else if("@"===x){M.preserveSingleSpace(),A.push(x);var W=s(": ,;{}()[]/='\"");W.match(/[ :]$/)&&(i(),W=o(": ").replace(/\s$/,""),A.push(W),M.singleSpace()),(W=W.replace(/\s$/,""))in e.NESTED_AT_RULE&&(E+=1,W in e.CONDITIONAL_GROUP_RULE&&(P=!0))}else"#"===x&&"{"===r()?(M.preserveSingleSpace(),A.push(o("}"))):"{"===x?"}"===r(!0)?(a(),i(),M.singleSpace(),A.push("{}"),M.newLine(),v&&0===T&&M.newLine(!0)):(h(),M["{"](x),P?(P=!1,O=T>E):O=T>=E):"}"===x?(f(),M["}"](x),O=!1,L=!1,E&&E--,v&&0===T&&M.newLine(!0)):":"===x?(a(),!O&&!P||u("&")||p()?":"===r()?(i(),A.push("::")):A.push(":"):(L=!0,A.push(":"),M.singleSpace())):'"'===x||"'"===x?(M.preserveSingleSpace(),A.push(o(x))):";"===x?(L=!1,A.push(x),M.newLine()):"("===x?u("url")?(A.push(x),a(),i()&&(")"!==x&&'"'!==x&&"'"!==x?A.push(o(")")):_--)):(k++,M.preserveSingleSpace(),A.push(x),a()):")"===x?(A.push(x),k--):","===x?(A.push(x),a(),m&&!L&&k<1?M.newLine():M.singleSpace()):"]"===x?A.push(x):"["===x?(M.preserveSingleSpace(),A.push(x)):"="===x?(a(),x="=",A.push(x)):(M.preserveSingleSpace(),A.push(x))}var $="";return S&&($+=S),$+=A.join("").replace(/[\r\n\t ]+$/,""),g&&($+="\n"),"\n"!=b&&($=$.replace(/[\n]/g,b)),$}e.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},e.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},"function"==typeof define&&define.amd?define([],function(){return{css_beautify:e}}):"undefined"!=typeof exports?exports.css_beautify=e:"undefined"!=typeof window?window.css_beautify=e:"undefined"!=typeof global&&(global.css_beautify=e)}();var Beautifier={js:function(e){return js_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,space_before_conditional:!0,jslint_happy:!1,max_char:0,space_after_anon_function:!1,end_with_newline:!0})},html:function(e){return html_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,max_char:0,indent_inner_html:!0,end_with_newline:!0})},css:function(e){return css_beautify(e,{indent_size:window.userCmOptions.indentUnit||2,max_char:0,end_with_newline:!0})}};(function(){"use strict";var e={extend:function(e,t){if(t=JSON.parse(JSON.stringify(t)),"string"==typeof e)return t;var n;for(var i in e)n=e[i],e.hasOwnProperty(i)&&void 0!==n&&(t[i]=n);return t},queue:function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),setcss:function(){function e(e){return e=function(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}(e),i[e]||(i[e]=function(e){var t=document.body.style;if(e in t)return e;for(var i,r=n.length,o=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((i=n[r]+o)in t)return i;return e}(e))}function t(t,n,i){n=e(n),t.style[n]=i}var n=["Webkit","O","Moz","ms"],i={};return function(e,n){var i,r,o=arguments;if(2==o.length)for(i in n)void 0!==(r=n[i])&&n.hasOwnProperty(i)&&t(e,i,r);else t(e,o[1],o[2])}}(),clamp:function(e,t,n){return e<t?t:e>n?n:e},toBarPerc:function(e){return 100*(-1+e)},hasClass:function(t,n){return("string"==typeof t?t:e.classList(t)).indexOf(" "+n+" ")>=0},addClass:function(t,n){var i=e.classList(t),r=i+n;e.hasClass(i,n)||(t.className=r.substring(1))},removeClass:function(t,n){var i,r=e.classList(t);e.hasClass(t,n)&&(i=r.replace(" "+n+" "," "),t.className=i.substring(1,i.length-1))},showEl:function(t){e.setcss(t,{display:"block"})},hideEl:function(t){e.setcss(t,{display:"none"})},classList:function(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},t=e;!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Mprogress=t()}("undefined"!=typeof window?window:this,function(){var e={template:1,parent:"body",start:!1,minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800},n={determinate:'<div class="deter-bar" role="mpbar1"><div class="peg"></div></div><div class="bar-bg"></div>',buffer:'<div class="deter-bar" role="mpbar2"><div class="peg"></div></div><div class="buffer-bg" role="bufferBar"></div><div class="mp-ui-dashed" role="dashed"></div>',indeterminate:'<div class="indeter-bar" role="mpbar3"></div><div class="bar-bg"></div>',query:'<div class="query-bar" role="mpbar4"><div class="peg"></div></div><div class="bar-bg"></div>'},i={},r=function(e){this.options=e||{},this.status=null,this.bufferStatus=null};return r.prototype={version:"0.1.0",constructor:r,start:function(){function e(){setTimeout(function(){n.status&&(n._trickle(),e())},n.options.trickleSpeed)}if(this.status||this._isBufferStyle()||this.set(0),this._isIndeterminateStyle()||this._isQueryStyle())return this;var n=this;if(this._isBufferStyle()&&!this.bufferStatus){var i=this._render(),r=i.querySelector('[role="dashed"]'),o=i.querySelector(this._getCurrSelector());t.hideEl(o),t.hideEl(r),this.setBuffer(0).setBuffer(1),setTimeout(function(){t.showEl(r),t.showEl(o),n.set(0).setBuffer(0)},500)}return this.options.trickle&&e(),this},end:function(e){if(!e&&!this.status)return this;var n=this,i=this.options.speed,r=this._getRenderedId();if(this._isBufferStyle()&&e)return this.set(0).set(1);if(this._isIndeterminateStyle())return!this._isRendered()&&e&&(this.set(0),r=this._getRenderedId(),i=500),t.setcss(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){t.setcss(r,{transition:"all "+i+"ms linear",opacity:0}),setTimeout(function(){n._remove()},i)},i),this;if(this._isQueryStyle()){if(this._isRendered()){var o=r.querySelector(this._getCurrSelector());return t.addClass(o,"end"),setTimeout(function(){n._remove()},1500),this}if(e)return this.set(0),r=this._getRenderedId(),setTimeout(function(){n._remove()},1500),this}return this.inc(.3+.5*Math.random()).set(1)},set:function(e){return e=t.clamp(e,this.options.minimum,1),this.status=1===e?null:e,this._setProgress(this._getCurrSelector(),e),this},setBuffer:function(e){return e=t.clamp(e,this.options.minimum,1),this.bufferStatus=1===e?null:e,this._setProgress('[role="bufferBar"]',e),this},inc:function(e){var t=this.status,n=this.bufferStatus;return t?(t=this._getRandomNum(t,e),this._isBufferStyle()&&(n=this._getRandomNum(n>t?n:t+.1,e),this.setBuffer(n)),this.set(t)):this.start()},_trickle:function(){return this.inc(Math.random()*this.options.trickleRate)},_render:function(e){if(this._isRendered())return this._getRenderedId();var n,i=document.createElement("div"),r=this._getCurrTemplate()||"",o=document.querySelector(this.options.parent);if(i.id=this._getRenderedId(!0),i.className="ui-mprogress",i.innerHTML=r,!this._isIndeterminateStyle()&&!this._isQueryStyle()){e||(n=!this._isStarted());var s=i.querySelector(this._getCurrSelector()),a=n?"-100":t.toBarPerc(this.status||0);if(t.setcss(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),this._isBufferStyle()){var l=i.querySelector('[role="bufferBar"]'),c=n?"-100":t.toBarPerc(this.bufferStatus||0);t.setcss(l,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"})}}return o!=document.body&&t.addClass(o,"mprogress-custom-parent"),o.appendChild(i),i},_remove:function(){var e=this._getRenderedId(),n=document.querySelector(this.options.parent);n!=document.body&&t.removeClass(n,"mprogress-custom-parent");var r=this.options.parent+this.options.template;i[r]&&(i[r]=null),e&&(this.status=null,this.bufferStatus=null,t.removeElement(e))},_setProgress:function(e,n){var i=this._render(),r=i.querySelector(e),o=this.options.speed,s=this.options.easing,a=this;if(i.offsetWidth,this._isIndeterminateStyle()||this._isQueryStyle())return this;t.queue(function(e){""===a.options.positionUsing&&(a.options.positionUsing=a._getPositioningCSS()),t.setcss(r,a._barPositionCSS(n,o,s)),1===n?(t.setcss(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){t.setcss(i,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){a._remove(),e()},o)},o)):setTimeout(e,o)})},_getCurrSelector:function(){var e=this._getCurrTplId();return"99"!==e?'[role="mpbar'+e+'"]':'[role="mpbar"]'},_isStarted:function(){return"number"==typeof this.status},_getRandomNum:function(e,n){return"number"!=typeof n&&(n=(1-e)*t.clamp(Math.random()*e,.1,.95)),e=t.clamp(e+n,0,.994)},_isRendered:function(){return!!this._getRenderedId()},_getRenderedId:function(e){var t="mprogress"+this._getCurrTplId();return e?t:document.getElementById(t)},_isBufferStyle:function(){return 2===this._getCurrTplId()},_isIndeterminateStyle:function(){return 3===this._getCurrTplId()},_isQueryStyle:function(){return 4===this._getCurrTplId()},_getCurrTplId:function(){var e=~~this.options.template||1;return"number"==typeof e?e:"99"},_getCurrTemplate:function(){var e,t=this.options.template||1;return"number"==typeof~~t?(e=["determinate","buffer","indeterminate","query"][t-1],n[e]||""):"string"==typeof t?template:void 0},_getPositioningCSS:function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},_barPositionCSS:function(e,n,i){var r;return r="translate3d"===this.options.positionUsing?{transform:"translate3d("+t.toBarPerc(e)+"%,0,0)"}:"translate"===this.options.positionUsing?{transform:"translate("+t.toBarPerc(e)+"%,0)"}:{"margin-left":t.toBarPerc(e)+"%"},r.transition="all "+n+"ms "+i,r}},function(){var e=0,t=0;r.prototype.promise=function(n){if(!n||"resolved"==n.state())return this;var i=this;return 0==t&&i.start(),e++,t++,n.always(function(){0==--t?(e=0,i.end()):i.set((e-t)/e)}),this}}(),function(n){var o=t.extend(n,e),s=o.parent+o.template,a=i[s]||"";return a||(a=new r(o),i[s]=a),"string"==typeof n&&"function"==typeof a[n]?a[n]():o.start&&a.start(),a}})}).call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.emmetCodeMirror=e()}}(function(){var define,module,exports;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e,t){return arguments.length>2&&"object"!=typeof t&&(t={line:arguments[1],ch:arguments[2]}),e.indexFromPos(t)}function r(e,t){return e.posFromIndex(t)}var o=function(){function e(e,t){for(var n in t){var i=t[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e.default:e}(e("./emmet"));n.modeMap={"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less","text/x-scss":"scss","text/x-sass":"sass"};var l=function(){function e(t){var n=void 0===arguments[1]?0:arguments[1];s(this,e),this.context=t,this.selectionIndex=n||0}return o(e,{selectionList:{value:function(){var e=this.context;return e.listSelections().map(function(t){var n=i(e,t.anchor),r=i(e,t.head);return{start:Math.min(n,r),end:Math.max(n,r)}})}},getCaretPos:{value:function(){return this.getSelectionRange().start}},setCaretPos:{value:function(e){this.createSelection(e)}},getSelectionRange:{value:function(){return this.selectionList()[this.selectionIndex]}},createSelection:{value:function(e,t){void 0===t&&(t=e);var n=this.selectionList(),i=this.context;n[this.selectionIndex]={start:e,end:t},this.context.setSelections(n.map(function(e){return{head:r(i,e.start),anchor:r(i,e.end)}}))}},getSelection:{value:function(){var e=this.getSelectionRange();return e.start=r(this.context,e.start),e.end=r(this.context,e.end),this.context.getRange(e.start,e.end)}},getCurrentLineRange:{value:function(){var e=r(this.context,this.getCaretPos());return{start:i(this.context,e.line,0),end:i(this.context,e.line,this.context.getLine(e.line).length)}}},getCurrentLine:{value:function(){var e=r(this.context,this.getCaretPos());return this.context.getLine(e.line)||""}},replaceContent:{value:function(e,t,n,i){void 0===n&&(n=void 0===t?this.getContent().length:t),void 0===t&&(t=0),e=this.normalize(e),i||(e=a.utils.common.padString(e,a.utils.common.getLinePaddingFromPosition(this.getContent(),t)));var o=a.tabStops.extract(e,{escape:function(e){return e}});e=o.text;var s=o.tabstops[0]||{start:e.length,end:e.length};s.start+=t,s.end+=t,this.context.replaceRange(e,r(this.context,t),r(this.context,n)),this.createSelection(s.start,s.end)}},normalize:{value:function(e){var t="\t",n=this.context;return n.getOption("indentWithTabs")||(t=a.utils.common.repeatString(" ",n.getOption("indentUnit"))),a.utils.editor.normalize(e,{indentation:t})}},getContent:{value:function(){return this.context.getValue()}},getSyntax:{value:function(){var e=this.context,t=(e.posFromIndex(this.getCaretPos()),e.getModeAt(e.getCursor())),n=t.name;return"xml"===n&&t.configuration&&(n=t.configuration),n||a.utils.action.detectSyntax(this,n)}},getProfileName:{value:function(){return this.context.getOption("profile")?this.context.getOption("profile"):a.utils.action.detectProfile(this)}},prompt:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return prompt(e)})},getFilePath:{value:function(){return location.href}},isValidSyntax:{value:function(){return a.resources.hasSyntax(this.getSyntax())}}}),e}();n.default=l},{"./emmet":2}],2:[function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e.default:e}(e("emmet"));e("emmet/bundles/snippets"),e("emmet/bundles/caniuse"),t.exports=i},{emmet:39,"emmet/bundles/caniuse":3,"emmet/bundles/snippets":4}],3:[function(e,t,n){var i=e("../lib/assets/caniuse"),r=e("../lib/caniuse.json");i.load(r,!0)},{"../lib/assets/caniuse":23,"../lib/caniuse.json":35}],4:[function(e,t,n){var i=e("../lib/assets/resources"),r=e("../lib/snippets.json");i.setVocabulary(r,"system")},{"../lib/assets/resources":31,"../lib/snippets.json":68}],5:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return e[e.length-1]}function r(e,t){var n;if("string"==typeof e){var r=p.matchEnclosingRule(e,t);r&&(n=u.parse(r.substring(e),{offset:r.start}))}else n=e;if(!n)return null;var o=function(e,t){var n=[e.range(!0)];n.push(e.valueRange(!0));var r=p.nestedSectionsInRule(e),o=e.list();if(o.length||r.length){var s=Number.POSITIVE_INFINITY,a=-1;o.length&&(s=o[0].namePosition(!0),a=i(o).range(!0).end),r.length&&(r[0].start<s&&(s=r[0].start),i(r).end>a&&(a=i(r).end)),n.push(c.create2(s,a))}n=n.concat(r);var l=u.propertyFromPosition(e,t)||o[0];if(l){n.push(l.range(!0));var h=l.valueRange(!0);l.end()||(h._unterminated=!0),n.push(h)}return n}(n,t);return o=o.filter(function(e){return!!e.length}),s.unique(o,function(e){return e.valueOf()})}var o=e("../assets/htmlMatcher"),s=e("../utils/common"),a=e("../utils/editor"),l=e("../utils/action"),c=e("../assets/range"),u=e("../editTree/css"),p=e("../utils/cssSections"),h=null;return{balance:function(e,t){t=String((t||"out").toLowerCase());var n=a.outputInfo(e);return l.isSupportedCSS(n.syntax)?function(e,t){var n=a.outputInfo(e),o=n.content,l=c(e.getSelectionRange()),p=r(n.content,l.start);if(!p&&l.length())try{p=r(u.parse(l.substring(n.content),{offset:l.start}),l.start)}catch(e){}if(!p)return!1;p=c.sort(p,!0);var h=s.find(p,function(e){return e.equal(l)});if(h||(h=s.find(p,function(e){return e._unterminated?e.include(l.start):e.inside(l.start)})),!h)return!1;var f=p.indexOf(h);if(h.equal(l)&&(f+="out"==t?1:-1),f<0||f>=p.length)if(f>=p.length&&"out"==t){pos=h.start-1;var d=r(o,pos);d&&(h=i(d.filter(function(e){return e.inside(pos)})))}else h=null;else h=p[f];return!!h&&(e.createSelection(h.start,h.end),!0)}(e,t):function(e,t){var n=a.outputInfo(e).content,i=c(e.getSelectionRange());if(h&&!h.range.equal(i)&&(h=null),h&&i.length())if("in"==t){if("tag"==h.type&&!h.close)return!1;if(h.range.equal(h.outerRange))h.range=h.innerRange;else{var r=s.narrowToNonSpace(n,h.innerRange);(h=o.find(n,r.start+1))&&h.range.equal(i)&&h.outerRange.equal(i)&&(h.range=h.innerRange)}}else!h.innerRange.equal(h.outerRange)&&h.range.equal(h.innerRange)&&i.equal(h.range)?h.range=h.outerRange:(h=o.find(n,i.start))&&h.range.equal(i)&&h.innerRange.equal(i)&&(h.range=h.outerRange);else h=o.find(n,i.start);return h&&(h.innerRange.equal(i)&&(h.range=h.outerRange),!h.range.equal(i))?(e.createSelection(h.range.start,h.range.end),!0):(h=null,!1)}(e,t)},balanceInwardAction:function(e){return this.balance(e,"in")},balanceOutwardAction:function(e){return this.balance(e,"out")},goToMatchingPairAction:function(e){var t=String(e.getContent()),n=e.getCaretPos();"<"==t.charAt(n)&&n++;var i=o.tag(t,n);return!(!i||!i.close)&&(i.open.range.inside(n)?e.setCaretPos(i.close.range.start):e.setCaretPos(i.open.range.start),!0)}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],6:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){return n=n||0,t.charAt(n)==e.charAt(0)&&t.substr(n,e.length)==e}var r=e("../plugin/file"),o=e("../utils/base64"),s=e("../utils/action"),a=e("../utils/editor");return{encodeDecodeDataUrlAction:function(e){var t=String(e.getSelection()),n=e.getCaretPos(),l=a.outputInfo(e);if(!t)for(var c,u=l.content;n-- >=0;){if(i("src=",u,n)){(c=u.substr(n).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(t=c[3],n+=c[1].length);break}if(i("url(",u,n)){(c=u.substr(n).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(t=c[3],n+=c[1].length);break}}return!!t&&(i("data:",t)?function(e,t,n){var i=String(e.prompt("Enter path to file (absolute or relative)"));if(!i)return!1;var s=r.createPath(e.getFilePath(),i);if(!s)throw"Can't save file";return r.save(s,o.decode(t.replace(/^data\:.+?;.+?,/,""))),e.replaceContent("$0"+i,n,n+t.length),!0}(e,t,n):function(e,t,n){var i=e.getFilePath();if(null===i)throw"You should save your file before using this action";var a=r.locateFile(i,t);if(null===a)throw"Can't find "+t+" file";return r.read(a,function(i,l){if(i)throw"Unable to read "+a+": "+i;var c=o.encode(String(l));if(!c)throw"Can't encode file content to base64";c="data:"+(s.mimeTypes[String(r.getExt(a))]||"application/octet-stream")+";base64,"+c,e.replaceContent("$0"+c,n,n+t.length)}),!0}(e,t,n))}}})},{"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/editor":75}],7:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){function i(e){for(var t=e;t>=0;){var n=o.charAt(t);if("\n"==n||"\r"==n)break;t--}return o.substring(t,e)}t=t||1,n=n||0;for(var r=e.getCaretPos()+n,o=String(e.getContent()),s=o.length,a=-1,l=/^\s+$/;r<=s&&r>=0;){r+=t;var c=o.charAt(r),u=o.charAt(r+1),p=o.charAt(r-1);switch(c){case'"':case"'":u==c&&"="==p&&(a=r+1);break;case">":"<"==u&&(a=r+1);break;case"\n":case"\r":l.test(i(r-1))&&(a=r)}if(-1!=a)break}return a}return{previousEditPointAction:function(e,t,n){var r=e.getCaretPos(),o=i(e,-1);return o==r&&(o=i(e,-1,-2)),-1!=o&&(e.setCaretPos(o),!0)},nextEditPointAction:function(e,t,n){var r=i(e,1);return-1!=r&&(e.setCaretPos(r),!0)}}})},{}],8:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/action"),r=e("../utils/common"),o=e("../utils/math"),s=e("../assets/range");return{evaluateMathAction:function(e){var t=e.getContent(),n=s(e.getSelectionRange());if(n.length()||(n=i.findExpressionBounds(e,function(e){return r.isNumeric(e)||-1!=".+-*/\\".indexOf(e)})),n&&n.length()){var a=n.substring(t);a=a.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var l=r.prettifyNumber(o.evaluate(a));return e.replaceContent(l,n.start,n.end),e.setCaretPos(n.start+l.length),!0}catch(e){}}return!1}}})},{"../assets/range":30,"../utils/action":70,"../utils/common":73,"../utils/math":76}],9:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){var t=o(e.getSelectionRange()),n=String(e.getContent());if(t.length())return t.substring(n);var i=e.getCurrentLineRange();return c.extractAbbreviation(n.substring(i.start,t.start))}var r=e("../assets/handlerList"),o=e("../assets/range"),s=e("../assets/preferences"),a=e("../utils/common"),l=e("../utils/editor"),c=e("../utils/action"),u=e("../resolver/cssGradient"),p=e("../parser/abbreviation"),h=r.create();return h.add(function(e,t,n){var r=e.getSelectionRange().end,o=i(e);if(o){var a=p.expand(o,{syntax:t,profile:n,contextNode:c.captureContext(e)});if(a){var l=r-o.length,u=r,h=s.getArray("css.syntaxes");if(h&&~h.indexOf(t)){";"==e.getContent().charAt(r)&&";"==a.charAt(a.length-1)&&u++}return e.replaceContent(a,l,u),!0}}return!1},{order:-1}),h.add(u.expandAbbreviationHandler.bind(u)),{expandAbbreviationAction:function(e,t,n){var i=a.toArray(arguments),r=l.outputInfo(e,t,n);return i[1]=r.syntax,i[2]=r.profile,h.exec(!1,i)},expandAbbreviationWithTabAction:function(e,t,n){var i=e.getSelection();if(i){var r=o(e.getSelectionRange()),s=a.padString(i,"\t");e.replaceContent("\t${0}",e.getCaretPos());var l=o(e.getCaretPos(),r.length());return e.replaceContent(s,l.start,l.end,!0),e.createSelection(l.start,l.start+s.length),!0}return this.expandAbbreviationAction(e,t,n)||e.replaceContent("\t",e.getCaretPos()),!0},_defaultHandler:function(e,t,n){var i=e.getSelectionRange().end,r=this.findAbbreviation(e);if(r){var o=c.captureContext(e),s=p.expand(r,t,n,o);if(s)return e.replaceContent(s,i-r.length,i),!0}return!1},addHandler:function(e,t){h.add(e,t)},removeHandler:function(e){h.remove(e)},findAbbreviation:i}})},{"../assets/handlerList":25,"../assets/preferences":28,"../assets/range":30,"../parser/abbreviation":55,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],10:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r=e("../utils/action");return{increment01Action:function(e){return this.incrementNumber(e,.1)},increment1Action:function(e){return this.incrementNumber(e,1)},increment10Action:function(e){return this.incrementNumber(e,10)},decrement01Action:function(e){return this.incrementNumber(e,-.1)},decrement1Action:function(e){return this.incrementNumber(e,-1)},decrement10Action:function(e){return this.incrementNumber(e,-10)},incrementNumber:function(e,t){var n=!1,o=!1,s=r.findExpressionBounds(e,function(e,t,r){return!!i.isNumeric(e)||("."==e?!!i.isNumeric(r.charAt(t+1))&&(!o&&(o=!0)):"-"==e&&(!n&&(n=!0)))});if(s&&s.length()){var a=s.substring(String(e.getContent())),l=parseFloat(a);if(!isNaN(l)){if(l=i.prettifyNumber(l+t),/^(\-?)0+[1-9]/.test(a)){var c="";RegExp.$1&&(c="-",l=l.substring(1));var u=l.split(".");u[0]=i.zeroPadString(u[0],function(e){return~(e=e.replace(/^\-/,"")).indexOf(".")?e.split(".")[0].length:e.length}(a)),l=c+u.join(".")}return e.replaceContent(l,s.start,s.end),e.createSelection(s.start,s.start+l.length),!0}}return!1}}})},{"../utils/action":70,"../utils/common":73}],11:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../assets/preferences"),r=e("../utils/common"),o=(e("../assets/resources"),e("../assets/htmlMatcher")),s=e("../utils/editor"),a=["html","xml","xsl"];return i.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preferences value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when Insert formatted linebreak action will be performed in CSS file). If youre such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),{insertLineBreakAction:function(e){if(!this.insertLineBreakOnlyAction(e)){for(var t,n=s.getCurrentLinePadding(e),i=String(e.getContent()),r=e.getCaretPos(),o=i.length,a="",l=e.getCurrentLineRange().end+1;l<o&&(" "==(t=i.charAt(l))||"\t"==t);l++)a+=t;a.length>n.length?e.replaceContent("\n"+a,r,r,!0):e.replaceContent("\n",r)}return!0},insertLineBreakOnlyAction:function(e){var t=s.outputInfo(e),n=e.getCaretPos();if(~a.indexOf(t.syntax)){var l=o.tag(t.content,n);if(l&&!l.innerRange.length())return e.replaceContent("\n\t"+r.getCaretPlaceholder()+"\n",n),!0}else if("css"==t.syntax){var c=t.content;if(n&&"{"==c.charAt(n-1)){var u=i.get("css.closeBraceIndentation"),p="}"==c.charAt(n);if(!p)for(var h,f=n,d=c.length;f<d&&"{"!=(h=c.charAt(f));f++)if("}"==h){u="",p=!0;break}p||(u+="}");var y="\n\t"+r.getCaretPlaceholder()+u;return e.replaceContent(y,n),!0}}return!1}}})},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],12:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){e=e.toLowerCase(),"string"==typeof(n=n||{})&&(n={label:n}),n.label||(n.label=r(e)),s[e]={name:e,fn:t,options:n}}function r(e){return o.trim(e.charAt(0).toUpperCase()+e.substring(1).replace(/_[a-z]/g,function(e){return" "+e.charAt(1).toUpperCase()}))}var o=e("../utils/common"),s={},a={base64:e("./base64"),editPoints:e("./editPoints"),evaluateMath:e("./evaluateMath"),expandAbbreviation:e("./expandAbbreviation"),incrementDecrement:e("./incrementDecrement"),lineBreaks:e("./lineBreaks"),balance:e("./balance"),mergeLines:e("./mergeLines"),reflectCSSValue:e("./reflectCSSValue"),removeTag:e("./removeTag"),selectItem:e("./selectItem"),selectLine:e("./selectLine"),splitJoinTag:e("./splitJoinTag"),toggleComment:e("./toggleComment"),updateImageSize:e("./updateImageSize"),wrapWithAbbreviation:e("./wrapWithAbbreviation"),updateTag:e("./updateTag")},l=function(e,t){var n=a[e];return n[t].bind(n)};return i("encode_decode_data_url",l("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),i("prev_edit_point",l("editPoints","previousEditPointAction"),"Previous Edit Point"),i("next_edit_point",l("editPoints","nextEditPointAction"),"Next Edit Point"),i("evaluate_math_expression",l("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),i("expand_abbreviation_with_tab",l("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),i("expand_abbreviation",l("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),i("insert_formatted_line_break_only",l("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),i("insert_formatted_line_break",l("lineBreaks","insertLineBreakAction"),{hidden:!0}),i("balance_inward",l("balance","balanceInwardAction"),"Balance (inward)"),i("balance_outward",l("balance","balanceOutwardAction"),"Balance (outward)"),i("matching_pair",l("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),i("merge_lines",l("mergeLines","mergeLinesAction"),"Merge Lines"),i("reflect_css_value",l("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),i("remove_tag",l("removeTag","removeTagAction"),"HTML/Remove Tag"),i("select_next_item",l("selectItem","selectNextItemAction"),"Select Next Item"),i("select_previous_item",l("selectItem","selectPreviousItemAction"),"Select Previous Item"),i("split_join_tag",l("splitJoinTag","splitJoinTagAction"),"HTML/Split\\Join Tag Declaration"),i("toggle_comment",l("toggleComment","toggleCommentAction"),"Toggle Comment"),i("update_image_size",l("updateImageSize","updateImageSizeAction"),"Update Image Size"),i("wrap_with_abbreviation",l("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),i("update_tag",l("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(e){var t=e>0?"increment":"decrement",n=String(Math.abs(e)).replace(".","").substring(0,2),r=t+"_number_by_"+n,o=t+n+"Action",s="Numbers/"+t.charAt(0).toUpperCase()+t.substring(1)+" number by "+Math.abs(e);i(r,l("incrementDecrement",o),s)}),{add:i,get:function(e){return s[e.toLowerCase()]},run:function(e,t){Array.isArray(t)||(t=o.toArray(arguments,1));var n=this.get(e);if(!n)throw new Error('Action "'+e+'" is not defined');return n.fn.apply(n,t)},getAll:function(){return s},getList:function(){var e=this.getAll();return Object.keys(e).map(function(t){return e[t]})},getMenu:function(e){var t=[];return e=e||[],this.getList().forEach(function(n){if(!n.options.hidden&&!~e.indexOf(n.name)){var i=r(n.name),s=t;if(n.options.label){var a=n.options.label.split("/");i=a.pop();for(var l,c;l=a.shift();)(c=o.find(s,function(e){return"submenu"==e.type&&e.name==l}))||(c={name:l,type:"submenu",items:[]},s.push(c)),s=c.items}s.push({type:"action",name:n.name,label:i})}}),t},getActionNameForMenuTitle:function(e,t){return o.find(t||this.getMenu(),function(t){return"action"!=t.type?this.getActionNameForMenuTitle(e,t.items):t.label==e||t.name==e?t.name:void 0},this)}}})},{"../utils/common":73,"./balance":5,"./base64":6,"./editPoints":7,"./evaluateMath":8,"./expandAbbreviation":9,"./incrementDecrement":10,"./lineBreaks":11,"./mergeLines":13,"./reflectCSSValue":14,"./removeTag":15,"./selectItem":16,"./selectLine":17,"./splitJoinTag":18,"./toggleComment":19,"./updateImageSize":20,"./updateTag":21,"./wrapWithAbbreviation":22}],13:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../assets/htmlMatcher"),r=e("../utils/common"),o=e("../utils/editor"),s=e("../assets/range");return{mergeLinesAction:function(e){var t=o.outputInfo(e),n=s(e.getSelectionRange());if(!n.length()){var a=i.find(t.content,e.getCaretPos());a&&(n=a.outerRange)}if(n.length()){for(var l=n.substring(t.content),c=r.splitByLines(l),u=1;u<c.length;u++)c[u]=c[u].replace(/^\s+/,"");var p=(l=c.join("").replace(/\s{2,}/," ")).length;return l=r.escapeText(l),e.replaceContent(l,n.start,n.end),e.createSelection(n.start,n.start+p),!0}return!1}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../utils/common":73,"../utils/editor":75}],14:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){var n=function(e,t,n,i){{if(e=a.baseName(e),n=a.baseName(n),"opacity"==e&&"filter"==n)return i.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(t)));if("filter"==e&&"opacity"==n){var r=t.match(/opacity=([^)]*)/i);return r?l.prettifyNumber(parseInt(r[1],10)/100):i}}return t}(e.name(),e.value(),t.name(),t.value());n=function(e,t){var n=/^\-(\w+)\-/,i=n.test(e)?RegExp.$1.toLowerCase():"",r=a.findParts(t);return r.reverse(),r.forEach(function(e){var r=e.substring(t).replace(n,""),o=s.vendorPrefixes(r);o&&(i&&~o.indexOf(i)&&(r="-"+i+"-"+r),t=l.replaceSubstring(t,r,e))}),t}(t.name(),n),t.value(n)}var r=e("../assets/handlerList"),o=e("../assets/preferences"),s=e("../resolver/css"),a=e("../editTree/css"),l=e("../utils/common"),c=e("../utils/action"),u=e("../utils/editor"),p=e("../resolver/cssGradient");o.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.\t\tNote that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var h=r.create();return n=n||{},n.exports={reflectCSSValueAction:function(e){return"css"==e.getSyntax()&&c.compoundUpdate(e,function(e){var t=u.outputInfo(e),n=e.getCaretPos(),i=a.parseFromPosition(t.content,n);if(i){var r=i.itemFromPosition(n,!0);if(r){var o=i.source,s=i.options.offset,l=n-s-r.range().start;return h.exec(!1,[r]),o!==i.source?{data:i.source,start:s,end:s+o.length,caret:s+r.range().start+l}:void 0}}}(e))},_defaultHandler:function(e){var t=function(e){var t;return"opacity"!=(e=a.baseName(e))&&"filter"!=e||!o.get("css.reflect.oldIEOpacity")?(t=e.match(/^border-radius-(top|bottom)(left|right)/))?new RegExp("^(?:\\-\\w+\\-)?(?:"+e+"|border-"+t[1]+"-"+t[2]+"-radius)$"):(t=e.match(/^border-(top|bottom)-(left|right)-radius/))?new RegExp("^(?:\\-\\w+\\-)?(?:"+e+"|border-radius-"+t[1]+t[2]+")$"):new RegExp("^(?:\\-\\w+\\-)?"+e+"$"):new RegExp("^(?:\\-\\w+\\-)?(?:opacity|filter)$")}(e.name());e.parent.list().forEach(function(n){t.test(n.name())&&i(e,n)})},addHandler:function(e,t){h.add(e,t)},removeHandler:function(e){h.remove(e)}},h.add(n.exports._defaultHandler.bind(n.exports),{order:-1}),h.add(p.reflectValueHandler.bind(p)),n.exports})},{"../assets/handlerList":25,"../assets/preferences":28,"../editTree/css":37,"../resolver/css":64,"../resolver/cssGradient":65,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],15:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r=e("../utils/editor"),o=e("../assets/htmlMatcher");return{removeTagAction:function(e){var t=r.outputInfo(e),n=o.tag(t.content,e.getCaretPos());if(n){if(n.close){var s=i.narrowToNonSpace(t.content,n.innerRange),a=i.findNewlineBounds(t.content,s.start),l=i.getLinePadding(a.substring(t.content)),c=s.substring(t.content);c=i.unindentString(c,l),e.replaceContent(i.getCaretPlaceholder()+i.escapeText(c),n.outerRange.start,n.outerRange.end)}else e.replaceContent(i.getCaretPlaceholder(),n.range.start,n.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":26,"../utils/common":73,"../utils/editor":75}],16:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n,i){for(var r,o,s=y.outputInfo(e).content,a=s.length,l=f(-1,0),c=f(e.getSelectionRange()),u=c.start,p=1e5;u>=0&&u<a&&--p>0;){if(r=n(s,u,t)){if(l.equal(r))break;if(l=r.clone(),o=i(r.substring(s),r.start,c.clone()))return e.createSelection(o.start,o.end),!0;u=t?r.start:r.end-1}u+=t?-1:1}return!1}function r(e){var t=!0;return i(e,!1,function(e,n){return t?(t=!1,function(e,t){var n;for(;t>=0;){if(n=a(e,t))return n;t--}return null}(e,n)):a(e,n)},function(e,t,n){return s(e,t,n,!1)})}function o(e,t,n){n=n||0;var i,r,o=[],s=-1,a="",c="";return t.forEach(function(t){switch(t.type){case"tag":r=e.substring(t.start,t.end),/^<[\w\:\-]/.test(r)&&o.push(f({start:t.start+1,end:t.end}));break;case"attribute":s=t.start,a=e.substring(t.start,t.end);break;case"string":o.push(f(s,t.end-s)),i=f(t),l((c=i.substring(e)).charAt(0))&&i.start++,l(c.charAt(c.length-1))&&i.end--,o.push(i),"class"==a&&(o=o.concat(function(e,t){t=t||0;var n=[],i=g.create(e);i.eatSpace(),i.start=i.pos;var r;for(;r=i.next();)/[\s\u00a0]/.test(r)&&(n.push(f(i.start+t,i.pos-i.start-1)),i.eatSpace(),i.start=i.pos);return n.push(f(i.start+t,i.pos-i.start)),n}(i.substring(e),i.start)))}}),o=o.filter(function(e){if(e.length())return e.shift(n),!0}),d.unique(o,function(e){return e.toString()})}function s(e,t,n,i){var r=o(e,v.parse(e),t);i&&r.reverse();var s=d.find(r,function(e){return e.equal(n)});if(s){var a=r.indexOf(s);return a<r.length-1?r[a+1]:null}if(i)return d.find(r,function(e){return e.start<n.start});if(!s){var l=r.filter(function(e){return e.inside(n.end)});if(l.length>1)return l[1]}return d.find(r,function(e){return e.end>n.end})}function a(e,t){var n;if("<"==e.charAt(t)&&(n=e.substring(t,e.length).match(w)))return f(t,n[0])}function l(e){return'"'==e||"'"==e}function c(e){var t=[e.nameRange(!0)];return x.nestedSectionsInRule(e).forEach(function(e){t.push(f.create2(e.start,e._selectorEnd))}),e.list().forEach(function(e){t=t.concat(function(e){var t=e.valueRange(!0),n=[e.range(!0),t],i=e.value();return e.valueParts().forEach(function(e){var r=e.clone();n.push(r.shift(t.start));var o=g.create(e.substring(i));if(o.match(/^[\w\-]+\(/,!0)){o.start=o.pos,o.backUp(1),o.skipToPair("(",")"),o.backUp(1);var s=o.current();n.push(f(r.start+o.start,s)),b.findParts(s).forEach(function(e){n.push(f(r.start+o.start+e.start,e.substring(s)))})}}),n}(e))}),t=f.sort(t),t=t.filter(function(e){return!!e.length()}),d.unique(t,function(e){return e.toString()})}function u(e,t,n){var i=c(e);n&&i.reverse();var r=d.find(i,function(e){return e.equal(t)});if(r)return i[i.indexOf(r)+1];var o=i.filter(function(e){return e.inside(t.end)});if(o.length)return o.sort(function(e,t){return e.length()-t.length()})[0];r=d.find(i,n?function(e){return e.end<t.start}:function(e){return e.end>t.start});return r||(r=i[0]),r}function p(e,t,n){return u(b.parse(e,{offset:t}),n,!1)}function h(e,t,n){return u(b.parse(e,{offset:t}),n,!0)}var f=e("../assets/range"),d=e("../utils/common"),y=e("../utils/editor"),m=e("../utils/action"),g=e("../assets/stringStream"),v=e("../parser/xml"),b=e("../editTree/css"),x=e("../utils/cssSections"),w=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;return{selectNextItemAction:function(e){return m.isSupportedCSS(e.getSyntax())?function(e){return i(e,!1,x.locateRule.bind(x),p)}(e):r(e)},selectPreviousItemAction:function(e){return m.isSupportedCSS(e.getSyntax())?function(e){return i(e,!0,x.locateRule.bind(x),h)}(e):function(e){return i(e,!0,a,function(e,t,n){return s(e,t,n,!0)})}(e)}}})},{"../assets/range":30,"../assets/stringStream":32,"../editTree/css":37,"../parser/xml":62,"../utils/action":70,"../utils/common":73,"../utils/cssSections":74,"../utils/editor":75}],17:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){return{selectLineAction:function(e){var t=e.getCurrentLineRange();return e.createSelection(t.start,t.end),!0}}})},{}],18:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r=(e("../assets/resources"),e("../assets/htmlMatcher")),o=e("../utils/editor"),s=e("../assets/profile");return{splitJoinTagAction:function(e,t){var n=o.outputInfo(e,null,t),a=s.get(n.profile),l=r.tag(n.content,e.getCaretPos());return!!l&&(l.close?function(e,t,n){var r=t.selfClosing()||" /",o=n.open.range.substring(n.source).replace(/\s*>$/,r+">"),s=e.getCaretPos();return o.length+n.outerRange.start<s&&(s=o.length+n.outerRange.start),o=i.escapeText(o),e.replaceContent(o,n.outerRange.start,n.outerRange.end),e.setCaretPos(s),!0}(e,a,l):function(e,t,n){var r=e.getCaretPos(),o=!0===t.tag_nl?"\n\t\n":"",s=n.outerContent().replace(/\s*\/>$/,">");return r=n.outerRange.start+s.length,s+=o+"</"+n.open.name+">",s=i.escapeText(s),e.replaceContent(s,n.outerRange.start,n.outerRange.end),e.setCaretPos(r),!0}(e,a,l))}}})},{"../assets/htmlMatcher":26,"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"../utils/editor":75}],19:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){var t=a(e.getSelectionRange()),n=u.outputInfo(e);if(!t.length()){var i=h.parseFromPosition(n.content,e.getCaretPos());if(i){var r=function(e,t){var n=t-(e.options.offset||0),i=/^[\s\n\r]/;return l.find(e.list(),function(t){return t.range().end===n?i.test(e.source.charAt(n)):t.range().inside(n)})}(i,e.getCaretPos());t=r?r.range(!0):a(i.nameRange(!0).start,i.source)}}return t.length()||(t=a(e.getCurrentLineRange()),l.narrowToNonSpace(n.content,t)),o(e,"/*","*/",t)}function r(e,t,n,i){for(var r=-1,o=-1,s=function(t,n){return e.substr(n,t.length)==t};t--;)if(s(n,t)){r=t;break}if(-1!=r){t=r;for(var l=e.length;l>=t++;)if(s(i,t)){o=t+i.length;break}}return-1!=r&&-1!=o?a(r,o-r):null}function o(e,t,n,i){var o=u.outputInfo(e).content,s=e.getCaretPos(),a=null,c=r(o,s,t,n);return c&&c.overlap(i)?a=function(e){return e.replace(new RegExp("^"+l.escapeForRegexp(t)+"\\s*"),function(e){return s-=e.length,""}).replace(new RegExp("\\s*"+l.escapeForRegexp(n)+"$"),"")}((i=c).substring(o)):(a=t+" "+i.substring(o).replace(new RegExp(l.escapeForRegexp(t)+"\\s*|\\s*"+l.escapeForRegexp(n),"g"),"")+" "+n,s+=t.length+1),null!==a&&(a=l.escapeText(a),e.setCaretPos(i.start),e.replaceContent(u.unindent(e,a),i.start,i.end),e.setCaretPos(s),!0)}var s=e("../assets/preferences"),a=e("../assets/range"),l=e("../utils/common"),c=e("../utils/action"),u=e("../utils/editor"),p=e("../assets/htmlMatcher"),h=e("../editTree/css");return{toggleCommentAction:function(e){var t=u.outputInfo(e);if(c.isSupportedCSS(t.syntax)){var n=e.getCaretPos(),r=p.tag(t.content,n);r&&r.open.range.inside(n)&&(t.syntax="html")}return~s.getArray("css.syntaxes").indexOf(t.syntax)?i(e):function(e){var t=a(e.getSelectionRange()),n=u.outputInfo(e);if(!t.length()){var i=p.tag(n.content,e.getCaretPos());i&&(t=i.outerRange)}return o(e,"\x3c!--","--\x3e",t)}(e)}}})},{"../assets/htmlMatcher":26,"../assets/preferences":28,"../assets/range":30,"../editTree/css":37,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],20:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){var i;if(t){if(/^data:/.test(t))return i=c.decode(t.replace(/^data\:.+?;.+?,/,"")),n(s.getImageSize(i));var r=u.locateFile(e.getFilePath(),t);if(null===r)throw"Can't find "+t+" file";u.read(r,function(e,t){if(e)throw"Unable to read "+r+": "+e;t=String(t),n(s.getImageSize(t))})}}var r=e("../utils/common"),o=e("../utils/editor"),s=e("../utils/action"),a=e("../editTree/xml"),l=e("../editTree/css"),c=e("../utils/base64"),u=e("../plugin/file");return{updateImageSizeAction:function(e){return s.isSupportedCSS(e.getSyntax())?function(e){var t=e.getCaretPos(),n=o.outputInfo(e),a=l.parseFromPosition(n.content,t,!0);if(a){var c,u=a.itemFromPosition(t,!0);u&&(c=/url\((["']?)(.+?)\1\)/i.exec(u.value()||""))&&i(e,c[2],function(n){if(n){var i=a.range(!0);a.value("width",n.width+"px"),a.value("height",n.height+"px",a.indexOf("width")+1),s.compoundUpdate(e,r.extend(i,{data:a.toString(),caret:t}))}})}}(e):function(e){var t=e.getCaretPos(),n=o.outputInfo(e),l=a.parseFromPosition(n.content,t,!0);l&&"img"==(l.name()||"").toLowerCase()&&i(e,l.value("src"),function(n){if(n){var i=l.range(!0);l.value("width",n.width),l.value("height",n.height,l.indexOf("width")+1),s.compoundUpdate(e,r.extend(i,{data:l.toString(),caret:t}))}})}(e),!0}}})},{"../editTree/css":37,"../editTree/xml":38,"../plugin/file":63,"../utils/action":70,"../utils/base64":71,"../utils/common":73,"../utils/editor":75}],21:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../editTree/xml"),r=(e("../utils/editor"),e("../utils/action")),o=e("../utils/common"),s=e("../parser/abbreviation");return{updateTagAction:function(e,t){if(!(t=t||e.prompt("Enter abbreviation")))return!1;var n=e.getContent(),i=r.captureContext(e),o=this.getUpdatedTag(t,i,n);return!!o&&(o.name()!=i.name&&i.match.close&&e.replaceContent("</"+o.name()+">",i.match.close.range.start,i.match.close.range.end,!0),e.replaceContent(o.source,i.match.open.range.start,i.match.open.range.end,!0),!0)},getUpdatedTag:function(e,t,n,r){if(!t)return null;var a=s.parse(e,r||{}),l=i.parse(t.match.open.range.substring(n),{offset:t.match.outerRange.start});a.children.forEach(function(e,t){!function(e,t,n){var i=(t.attribute("class")||"").split(/\s+/g);n&&i.push("+"+t.name());var r=function(e){return o.replaceCounter(e,t.counter)};i.forEach(function(t){if(t){var n=(t=r(t)).charAt(0);"+"==n?e.addClass(t.substr(1)):"-"==n?e.removeClass(t.substr(1)):e.value("class",t)}}),t.attributeList().forEach(function(t){if("class"!=t.name.toLowerCase()){var n=t.name.charAt(0);if("+"==n){var i=t.name.substr(1),o=e.get(i);o?o.value(o.value()+r(t.value)):e.value(i,r(t.value))}else"-"==n?e.remove(t.name.substr(1)):e.value(t.name,r(t.value))}})}(l,e,t)});var c=a.children[0];return c.data("nameResolved")||l.name(c.name()),l}}})},{"../editTree/xml":38,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],22:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../assets/range"),r=e("../assets/htmlMatcher"),o=e("../utils/common"),s=e("../utils/editor"),a=e("../utils/action"),l=e("../parser/abbreviation");return{wrapWithAbbreviationAction:function(e,t,n,c){var u=s.outputInfo(e,n,c);if(!(t=t||e.prompt("Enter abbreviation")))return null;t=String(t);var p=i(e.getSelectionRange());if(!p.length()){var h=r.tag(u.content,p.start);if(!h)return!1;p=o.narrowToNonSpace(u.content,h.range)}var f=o.escapeText(p.substring(u.content)),d=l.expand(t,{pastedContent:s.unindent(e,f),syntax:u.syntax,profile:u.profile,contextNode:a.captureContext(e)});return!!d&&(e.replaceContent(d,p.start,p.end),!0)}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../parser/abbreviation":55,"../utils/action":70,"../utils/common":73,"../utils/editor":75}],23:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function r(e,t){"string"==typeof e&&(e=JSON.parse(e)),t||(e=o(e)),u=e.vendors,c=e.css,p=e.era}function o(e){return"string"==typeof e&&(e=JSON.parse(e)),{vendors:function(e){var t={};return Object.keys(e.agents).forEach(function(n){var i=e.agents[n];t[n]={prefix:i.prefix,versions:i.versions}}),t}(e),css:function(e){var t={};e.cats.CSS;return Object.keys(e.data).forEach(function(n){var i=e.data[n];n in l&&l[n].forEach(function(e){t[e]=i.stats})}),t}(e),era:function(e){return Object.keys(e.eras).sort(function(e,t){return parseInt(e.substr(1))-parseInt(t.substr(1))})}(e)}}var s=e("./preferences"),a=e("../utils/common");s.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,\t\tCSS abbreviation resolver will look at Can I Use database first before detecting\t\tCSS properties that should be resolved"),s.define("caniuse.vendors","all","A comma-separated list vendor identifiers\t\t(as described in Can I Use database) that should be supported\t\twhen resolving vendor-prefixed properties. Set value to <code>all</code>\t\tto support all available properties"),s.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.\t\tExamples: <code>e0</code> (current version), <code>e1</code> (near future)\t\t<code>e-2</code> (2 versions back) and so on.");var l={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},c=null,u=null,p=null,h=null;return function(e){if(void 0===i||!i.amd)try{var t=e("fs"),n=e("path");h=t.readFileSync(n.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(e){}}(e),h&&r(h),{load:r,optimize:o,resolvePrefixes:function(e){if(!(s.get("caniuse.enabled")&&c&&e in c))return null;var t=[],n=c[e],i=function(){var e=s.get("caniuse.era"),t=p.indexOf(e);return~t||(t=p.indexOf("e-2")),t}();return function(){var e=Object.keys(u),t=s.getArray("caniuse.vendors");return t&&"all"!=t[0]?function(e,t){var n=[],i=e,r=t;return i.length>r.length&&(i=t,r=e),r.forEach(function(e){~i.indexOf(e)&&n.push(e)}),n}(e,t):e}().forEach(function(e){for(var r,o=u[e].versions.slice(i),s=0;s<o.length;s++)if((r=o[s])&&~n[e][r].indexOf("x")){t.push(u[e].prefix);break}}),a.unique(t).sort(function(e,t){return t.length-e.length})}}})},{"../utils/common":73,"./preferences":28}],24:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return{data:e}}var r={},o=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;return n=n||{},n.exports={add:function(e,t){var n=this;r[e]=function(){var i=t.apply(n,arguments);return i&&(i.type=e),i}},get:function(e){return r[e]},create:function(e){var t=[].slice.call(arguments,1),n=this.get(e);return n?n.apply(this,t):null},is:function(e,t){return this.type(e)===t},type:function(e){return e&&e.type}},n.exports.add("element",function(e,t,n){var i={name:e,is_empty:!!n};if(t)if(i.attributes=[],Array.isArray(t))i.attributes=t;else if("string"==typeof t)for(var r;r=o.exec(t);)i.attributes.push({name:r[2],value:r[4],isDefault:"@"==r[1],isImplied:"!"==r[1]});else i.attributes=Object.keys(t).map(function(e){return{name:e,value:t[e]}});return i}),n.exports.add("snippet",i),n.exports.add("reference",i),n.exports.add("empty",function(){return{}}),n.exports})},{}],25:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(){this._list=[]}var r=e("../utils/common");return i.prototype={add:function(e,t){var n=this._list.length;t&&"order"in t&&(n=1e4*t.order),this._list.push(r.extend({},t,{order:n,fn:e}))},remove:function(e){var t=r.find(this._list,function(t){return t.fn===e});t&&this._list.splice(this._list.indexOf(t),1)},list:function(){return this._list.sort(function(e,t){return t.order-e.order})},listFn:function(){return this.list().map(function(e){return e.fn})},exec:function(e,t){t=t||[];var n=null;return r.find(this.list(),function(i){if((n=i.fn.apply(i,t))!==e)return!0}),n}},{create:function(){return new i}}})},{"../utils/common":73}],26:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){return{range:a(e,"number"==typeof t?t-e:t[0]),type:"comment"}}function r(e){var t,n={};return{open:function(e){var t=this.matches(e);return t&&"open"==t.type?t:null},close:function(e){var t=this.matches(e);return t&&"close"==t.type?t:null},matches:function(i){var r="p"+i;if(!(r in n)&&(n[r]=!1,"<"==e.charAt(i))){var o=e.slice(i);(t=o.match(l))?n[r]=function(e,t){return{name:t[1],selfClose:!!t[3],range:a(e,t[0]),type:"open"}}(i,t):(t=o.match(c))&&(n[r]=function(e,t){return{name:t[1],range:a(e,t[0]),type:"close"}}(i,t))}return n[r]},text:function(){return e},clean:function(){n=e=t=null}}}function o(e,t,n){return e.substring(t,t+n.length)==n}function s(e,t){for(var n=[],i=null,r=t.text(),s=e.range.end,a=r.length;s<a;s++){if(o(r,s,"\x3c!--"))for(var l=s;l<a;l++)if(o(r,l,"--\x3e")){s=l+3;break}if(i=t.matches(s)){if("open"!=i.type||i.selfClose){if("close"==i.type){if(!n.length)return i.name==e.name?i:null;if(n[n.length-1]==i.name)n.pop();else{for(var c=!1;n.length&&!c;){n.pop()==i.name&&(c=!0)}if(!n.length&&!c)return i.name==e.name?i:null}}}else n.push(i.name);s=i.range.end-1}}}var a=e("./range"),l=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(e,t){for(var n,l,c=r(e),u=null,p=null,h=t;h>=0;h--)if(u=c.open(h)){if(u.selfClose){if(u.range.cmp(t,"lt","gt"))break;continue}if(p=s(u,c)){if(a.create2(u.range.start,p.range.end).contains(t))break}else if(u.range.contains(t))break;u=null}else if(o(e,h,"--\x3e")){for(n=h-1;n>=0&&!o(e,n,"--\x3e");n--)if(o(e,n,"\x3c!--")){h=n;break}}else if(o(e,h,"\x3c!--")){for(n=h+4,l=e.length;n<l;n++)if(o(e,n,"--\x3e")){n+=3;break}u=i(h,n);break}if(c.clean(),u){var f=null,d=null;if(p?(f=a.create2(u.range.start,p.range.end),d=a.create2(u.range.end,p.range.start)):f=d=a.create2(u.range.start,u.range.end),"comment"==u.type){var y=f.substring(e);d.start+=y.length-y.replace(/^<\!--\s*/,"").length,d.end-=y.length-y.replace(/\s*-->$/,"").length}return{open:u,close:p,type:"comment"==u.type?"comment":"tag",innerRange:d,innerContent:function(){return this.innerRange.substring(e)},outerRange:f,outerContent:function(){return this.outerRange.substring(e)},range:d.length()&&d.cmp(t,"lte","gte")?d:f,content:function(){return this.range.substring(e)},source:e}}},tag:function(e,t){var n=this.find(e,t);if(n&&"tag"==n.type)return n}}})},{"./range":30}],27:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],28:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r={},o={},s=null,a=null;return{define:function(e,t,n){var i=e;"string"==typeof e&&((i={})[e]={value:t,description:n}),Object.keys(i).forEach(function(e){var t=i[e];o[e]=function(e){return"object"==typeof e&&!Array.isArray(e)&&"value"in e&&Object.keys(e).length<3}(t)?t:{value:t}})},set:function(e,t){var n=e;"string"==typeof e&&((n={})[e]=t),Object.keys(n).forEach(function(e){var t=n[e];if(!(e in o))throw new Error('Property "'+e+'" is not defined. You should define it first with `define` method of current module');if(t!==o[e].value){switch(typeof o[e].value){case"boolean":t=function(e){return"string"==typeof e?"yes"==(e=e.toLowerCase())||"true"==e||"1"==e:!!e}(t);break;case"number":t=parseInt(t+"",10)||0;break;default:null!==t&&(t+="")}r[e]=t}else e in r&&delete r[e]})},get:function(e){return e in r?r[e]:e in o?o[e].value:void 0},getArray:function(e){var t=this.get(e);return void 0===t||null===t||""===t?null:(t=t.split(",").map(i.trim)).length?t:null},getDict:function(e){var t={};return this.getArray(e).forEach(function(e){var n=e.split(":");t[n[0]]=n[1]}),t},description:function(e){return e in o?o[e].description:void 0},remove:function(e){Array.isArray(e)||(e=[e]),e.forEach(function(e){e in r&&delete r[e],e in o&&delete o[e]})},list:function(){return Object.keys(o).sort().map(function(e){return{name:e,value:this.get(e),type:typeof o[e].value,description:o[e].description}},this)},load:function(e){Object.keys(e).forEach(function(t){this.set(t,e[t])},this)},exportModified:function(){return i.extend({},r)},reset:function(){r={}},_startTest:function(){s=o,a=r,o={},r={}},_stopTest:function(){o=s,r=a}}})},{"../utils/common":73}],29:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){a.extend(this,p,e)}function r(e,t){switch(String(t||"").toLowerCase()){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase()}return e}function o(e,t){return u[e.toLowerCase()]=new i(t)}function s(){o("xhtml"),o("html",{self_closing_tag:!1,compact_bool:!0}),o("xml",{self_closing_tag:!0,tag_nl:!0}),o("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),o("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),o("css",{tag_nl:!0}),o("css_line",{tag_nl:!1})}var a=e("../utils/common"),l=e("./resources"),c=e("./preferences");c.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),c.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you dont have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var u={},p={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};return i.prototype={tagName:function(e){return r(e,this.tag_case)},attributeName:function(e){return r(e,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":!0===this.self_closing_tag?"/":""},cursor:function(){return this.place_cursor?a.getCaretPlaceholder():""},isBoolean:function(e,t){if(e==t)return!0;var n=c.get("profile.booleanAttributes");return!(t||!n)&&(n=new RegExp(n,"i")).test(e)},allowCompactBoolean:function(){return this.compact_bool&&c.get("profile.allowCompactBoolean")}},s(),{create:function(e,t){return 2==arguments.length?o(e,t):new i(a.defaults(e||{},p))},get:function(e,t){if(!e&&t){var n=l.findItem(t,"profile");n&&(e=n)}return e?e instanceof i?e:"string"==typeof e&&e.toLowerCase()in u?u[e.toLowerCase()]:this.create(e):u.plain},remove:function(e){(e=(e||"").toLowerCase())in u&&delete u[e]},reset:function(){u={},s()},stringCase:r}})},{"../utils/common":73,"./preferences":28,"./resources":31}],30:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){switch(n){case"eq":case"==":return e===t;case"lt":case"<":return e<t;case"lte":case"<=":return e<=t;case"gt":case">":return e>t;case"gte":case">=":return e>=t}}function r(e,t){"object"==typeof e&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):Array.isArray(e)?(this.start=e[0],this.end=e[1]):(t="string"==typeof t?t.length:+t,this.start=e,this.end=e+t)}return r.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(e){return this.cmp(e,"eq","eq")},shift:function(e){return this.start+=e,this.end+=e,this},overlap:function(e){return e.start<=this.end&&e.end>=this.start},intersection:function(e){if(this.overlap(e)){var t=Math.max(e.start,this.start);return new r(t,Math.min(e.end,this.end)-t)}return null},union:function(e){if(this.overlap(e)){var t=Math.min(e.start,this.start);return new r(t,Math.max(e.end,this.end)-t)}return null},inside:function(e){return this.cmp(e,"lte","gt")},contains:function(e){return this.cmp(e,"lt","gt")},include:function(e){return this.cmp(e,"lte","gte")},cmp:function(e,t,n){var o,s;return e instanceof r?(o=e.start,s=e.end):o=s=e,i(this.start,o,t||"<=")&&i(this.end,s,n||">")},substring:function(e){return this.length()>0?e.substring(this.start,this.end):""},clone:function(){return new r(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},n.exports=function(e,t){return void 0===e||null===e?null:e instanceof r?e:("object"==typeof e&&"start"in e&&"end"in e&&(t=e.end-e.start,e=e.start),new r(e,t))},n.exports.create=n.exports,n.exports.isRange=function(e){return e instanceof r},n.exports.create2=function(e,t){return"number"==typeof e&&"number"==typeof t&&(t-=e),this.create(e,t)},n.exports.sort=function(e,t){return e=e.sort(function(e,t){return e.start===t.start?t.end-e.end:e.start-t.start}),t&&e.reverse(),e},n.exports})},{}],31:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function r(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function o(e,t,n){return t=function(e){return l.replaceUnescapedSymbol(e,"|",l.getCaretPlaceholder())}(t),"snippets"==n?c.create("snippet",t):"abbreviations"==n?function(e,t){e=l.trim(e);var n;return(n=f.exec(t))?c.create("element",n[1],n[2],"/"==n[4]):c.create("reference",t)}(e,t):void 0}function s(e){return e.replace(/:$/,"").replace(/:/g,"-")}var a=e("./handlerList"),l=e("../utils/common"),c=e("./elements"),u=(e("../assets/logger"),e("../vendor/stringScore")),p=e("../resolver/css"),h={},f=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,d={},y={},m=a.create();return l.extend(t,{setVocabulary:function(e,t){h={};var n={};r(e,function(e,t){var i={};r(e,function(e,t){"abbreviations"!=t&&"snippets"!=t||(e=function(e){var t={};return r(e,function(e,n){for(var i=n.split("|"),r=i.length-1;r>=0;r--)t[i[r]]=e}),t}(e)),i[t]=e}),n[t]=i}),"system"==t?d=n:y=n},getVocabulary:function(e){return"system"==e?d:y},getMatchedResource:function(e,t){return m.exec(null,l.toArray(arguments))||this.findSnippet(t,e.name())},getVariable:function(e){return(this.getSection("variables")||{})[e]},setVariable:function(e,t){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[e]=t,this.setVocabulary(n,"user")},hasSyntax:function(e){return e in this.getVocabulary("user")||e in this.getVocabulary("system")},addResolver:function(e,t){m.add(e,t)},removeResolver:function(e){m.remove(e)},getSection:function(e){if(!e)return null;e in h||(h[e]=l.deepMerge({},d[e],y[e]));for(var t,n=h[e],i=l.toArray(arguments,1);n&&(t=i.shift());){if(!(t in n))return null;n=n[t]}return n},findItem:function(e,t){for(var n=this.getSection(e);n;){if(t in n)return n[t];n=this.getSection(n.extends)}},findSnippet:function(e,t,n){if(!e||!t)return null;n=n||[];var i=[t];~t.indexOf("-")&&i.push(t.replace(/\-/g,":"));var r=this.getSection(e),s=null;return["snippets","abbreviations"].some(function(t){var n=this.getSection(e,t);if(n)return i.some(function(e){if(n[e])return s=o(e,n[e],t)})},this),n.push(e),s||!r.extends||~n.indexOf(r.extends)?s:this.findSnippet(r.extends,t,n)},fuzzyFindSnippet:function(e,t,n){var i=this.fuzzyFindMatches(e,t,n)[0];if(i)return i.value.parsedValue},fuzzyFindMatches:function(e,t,n){n=n||.3,t=s(t);var i=this.getAllSnippets(e);return Object.keys(i).map(function(e){var n=i[e];return{key:e,score:u.score(n.nk,t,.1),value:n}}).filter(function(e){return e.score>=n}).sort(function(e,t){return e.score-t.score}).reverse()},getAllSnippets:function(e){var t="all-"+e;if(!h[t]){var n=[],i=e,a=[];do{var c=this.getSection(i);if(!c)break;["snippets","abbreviations"].forEach(function(e){var t={};r(c[e]||null,function(n,i){t[i]={nk:s(i),value:n,parsedValue:o(i,n,e),type:e}}),n.push(t)}),a.push(i),i=c.extends}while(i&&!~a.indexOf(i));h[t]=l.extend.apply(l,n.reverse())}return h[t]},getNewline:function(){var e=this.getVariable("newline");return"string"==typeof e?e:"\n"},setNewline:function(e){this.setVariable("newline",e),this.setVariable("nl",e)}}),t.addResolver(p.resolve.bind(p)),function(e){if(void 0===i||!i.amd)try{var n=e("fs"),r=e("path"),o=n.readFileSync(r.join(__dirname,"../snippets.json"),{encoding:"utf8"});t.setVocabulary(JSON.parse(o),"system")}catch(e){}}(e),t})},{"../assets/logger":27,"../resolver/css":64,"../utils/common":73,"../vendor/stringScore":79,"./elements":24,"./handlerList":25}],32:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){this.pos=this.start=0,this.string=e,this._length=e.length}return i.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this._length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this._length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},skipToPair:function(e,t,n){for(var i,r=0,o=this.pos,s=this._length;o<s;)if((i=this.string.charAt(o++))==e)r++;else if(i==t){if(--r<1)return this.pos=o,!0}else!n||'"'!=i&&"'"!=i||this.skipString(i);return!1},skipQuoted:function(e){var t=this.string.charAt(e?this.pos:this.pos-1);if('"'===t||"'"===t)return e&&this.pos++,this.skipString(t)},skipString:function(e){for(var t,n=this.pos,i=this._length;n<i;)if("\\"!=(t=this.string.charAt(n++))&&t==e)return this.pos=n,!0;return!1},backUp:function(e){this.pos-=e},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&!1!==t&&(this.pos+=i[0].length),i}var r=n?function(e){return e.toLowerCase()}:function(e){return e};if(r(this.string).indexOf(r(e),this.pos)==this.pos)return!1!==t&&(this.pos+=e.length),!0},current:function(e){return this.string.slice(this.start,this.pos-(e?1:0))}},n.exports=function(e){return new i(e)},n.exports.create=n.exports,n.exports})},{}],33:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r=e("./stringStream"),o=e("./resources"),s=100,a=0,l={replaceCarets:!1,escape:function(e){return"\\"+e},tabstop:function(e){return e.token},variable:function(e){return e.token}};return{extract:function(e,t){var n={carets:""},r=[];(t=i.extend({},l,t,{tabstop:function(e){var t=e.token,i="";return"cursor"==e.placeholder?r.push({start:e.start,end:e.start+t.length,group:"carets",value:""}):("placeholder"in e&&(n[e.group]=e.placeholder),e.group in n&&(i=n[e.group]),r.push({start:e.start,end:e.start+t.length,group:e.group,value:i})),t}})).replaceCarets&&(e=e.replace(new RegExp(i.escapeForRegexp(i.getCaretPlaceholder()),"g"),"${0:cursor}")),e=this.processText(e,t);var o="",s=0,a=r.map(function(t){var i=(o+=e.substring(s,t.start)).length,r=n[t.group]||"";return o+=r,s=t.end,{group:t.group,start:i,end:i+r.length}});return o+=e.substring(s),{text:o,tabstops:a.sort(function(e,t){return e.start-t.start})}},processText:function(e,t){t=i.extend({},l,t);for(var n,o,s,a="",c=r.create(e);n=c.next();)if("\\"!=n||c.eol()){if(s=n,"$"==n)if(c.start=c.pos-1,o=c.match(/^[0-9]+/))s=t.tabstop({start:a.length,group:c.current().substr(1),token:c.current()});else if(o=c.match(/^\{([a-z_\-][\w\-]*)\}/))s=t.variable({start:a.length,name:o[1],token:c.current()});else if(o=c.match(/^\{([0-9]+)(:.+?)?\}/,!1)){c.skipToPair("{","}");var u={start:a.length,group:o[1],token:c.current()},p=u.token.substring(u.group.length+2,u.token.length-1);p&&(u.placeholder=p.substr(1)),s=t.tabstop(u)}a+=s}else a+=t.escape(c.next());return a},upgrade:function(e,t){var n=0,i={tabstop:function(e){var i=parseInt(e.group,10);return i>n&&(n=i),e.placeholder?"${"+(i+t)+":"+e.placeholder+"}":"${"+(i+t)+"}"}};return["start","end","content"].forEach(function(t){e[t]=this.processText(e[t],i)},this),n},variablesResolver:function(e){var t={};return function(n,r){if("child"==r)return n;if("cursor"==r)return i.getCaretPlaceholder();var a=e.attribute(r);if(void 0!==a&&a!==n)return a;var l=o.getVariable(r);return l||(t[r]||(t[r]=s++),"${"+t[r]+":"+r+"}")}},replaceVariables:function(e,t){var n="function"==typeof(t=t||{})?t:function(e,n){return n in t?t[n]:null};return this.processText(e,{variable:function(e){var t=n(e.token,e.name,e);return null===t&&(t=o.getVariable(e.name)),null!==t&&void 0!==t||(t=e.token),t}})},resetTabstopIndex:function(){a=0,s=100},abbrOutputProcessor:function(e,t,n){var i=0,r=this,o={tabstop:function(e){var t=parseInt(e.group,10);if(0===t)return"${0}";if(t>i&&(i=t),e.placeholder){return"${"+(t+a)+":"+r.processText(e.placeholder,o)+"}"}return"${"+(t+a)+"}"}};return e=this.processText(e,o),e=this.replaceVariables(e,this.variablesResolver(t)),a+=i+1,e}}})},{"../utils/common":73,"./resources":31,"./stringStream":32}],34:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(i){t.exports=i(e,n,t)};r(function(e,t,n){function r(e){this.tokens=e,this._position=0,this.reset()}return r.prototype={next:function(){if(this.hasNext()){var e=this.tokens[++this._i];return this._position=e.start,e}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,t){for(var n,i="string"==typeof e?function(t){return t.type==e}:e;(n=this.next())&&(t&&t.call(this,n),!i.call(this,n)););}},{create:function(e){return new r(e)}}})},{}],35:[function(e,t,n){t.exports={eras:{"e-26":"26 versions back","e-25":"25 versions back","e-24":"24 versions back","e-23":"23 versions back","e-22":"22 versions back","e-21":"21 versions back","e-20":"20 versions back","e-19":"19 versions back","e-18":"18 versions back","e-17":"17 versions back","e-16":"16 versions back","e-15":"15 versions back","e-14":"14 versions back","e-13":"13 versions back","e-12":"12 versions back","e-11":"11 versions back","e-10":"10 versions back","e-9":"9 versions back","e-8":"8 versions back","e-7":"7 versions back","e-6":"6 versions back","e-5":"5 versions back","e-4":"4 versions back","e-3":"3 versions back","e-2":"2 versions back","e-1":"Previous version",e0:"Current",e1:"Near future",e2:"Farther future"},agents:{ie:{browser:"IE",abbr:"IE",prefix:"ms",type:"desktop",usage_global:{10:10.7866,11:.114751,5.5:.009298,6:.204912,7:.508182,8:8.31124,9:5.21297},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.5","6","7","8","9","10","11",null,null],current_version:""},firefox:{browser:"Firefox",abbr:"FF",prefix:"moz",type:"desktop",usage_global:{10:.112406,11:.088319,12:.208754,13:.096348,14:.096348,15:.136493,16:.264957,17:.192696,18:.112406,19:.128464,2:.016058,20:.16058,21:.216783,22:.256928,23:.907277,24:11.0318,25:.529914,26:.016058,27:.016058,3:.088319,3.5:.040145,3.6:.305102,4:.072261,5:.048174,6:.048174,7:.040145,8:.072261,9:.056203},versions:[null,"2","3","3.5","3.6","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"],current_version:""},chrome:{browser:"Chrome",abbr:"Chr.",prefix:"webkit",type:"desktop",usage_global:{10:.048174,11:.112406,12:.064232,13:.056203,14:.056203,15:.072261,16:.048174,17:.040145,18:.08029,19:.040145,20:.040145,21:.48174,22:.248899,23:.216783,24:.200725,25:.361305,26:.353276,27:.369334,28:.610204,29:5.08236,30:24.6089,31:.16058,32:.064232,4:.024087,5:.024087,6:.032116,7:.024087,8:.032116,9:.024087},versions:["4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32"],current_version:""},safari:{browser:"Safari",abbr:"Saf.",prefix:"webkit",type:"desktop",usage_global:{3.1:0,3.2:.008692,4:.104377,5:.305102,5.1:1.28464,6:2.04739,6.1:.064232,7:.16058},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.1","3.2","4","5","5.1","6","6.1","7",null,null],current_version:""},opera:{browser:"Opera",abbr:"Op.",prefix:"o",type:"desktop",usage_global:{"10.0-10.1":.016058,10.5:.008392,10.6:.008029,11:.008219,11.1:.008219,11.5:.016058,11.6:.032116,12:.040145,12.1:.48174,15:.032116,16:.104377,17:.16058,18:0,"9.5-9.6":.008219},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"9.5-9.6","10.0-10.1","10.5","10.6","11","11.1","11.5","11.6","12","12.1","15","16","17","18",null],current_version:"",prefix_exceptions:{15:"webkit",16:"webkit",17:"webkit",18:"webkit"}},ios_saf:{browser:"iOS Safari",abbr:"iOS",prefix:"webkit",type:"mobile",usage_global:{3.2:.00400113,"4.0-4.1":.00800226,"4.2-4.3":.0280079,"5.0-5.1":.28408,"6.0-6.1":1.15633,"7.0":2.52071},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.2","4.0-4.1","4.2-4.3","5.0-5.1","6.0-6.1","7.0",null,null],current_version:""},op_mini:{browser:"Opera Mini",abbr:"O.Mini",prefix:"o",type:"mobile",usage_global:{"5.0-7.0":4.58374},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.0-7.0",null,null],current_version:""},android:{browser:"Android Browser",abbr:"And.",prefix:"webkit",type:"mobile",usage_global:{2.1:.0251229,2.2:.0854178,2.3:1.32146,3:.00502458,4:.994867,4.1:1.87417,"4.2-4.3":.743638,4.4:0},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"2.1","2.2","2.3","3","4","4.1","4.2-4.3","4.4",null],current_version:""},op_mob:{browser:"Opera Mobile",abbr:"O.Mob",prefix:"o",type:"mobile",usage_global:{0:0,10:0,11.5:.00726525,12:.0363263,12.1:.101714},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10",null,null,"11.5","12","12.1","0",null,null],current_version:"16",prefix_exceptions:{0:"webkit"}},bb:{browser:"Blackberry Browser",abbr:"BB",prefix:"webkit",type:"mobile",usage_global:{10:0,7:.141419},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"7","10",null,null],current_version:""},and_chr:{browser:"Chrome for Android",abbr:"Chr/And.",prefix:"webkit",type:"mobile",usage_global:{0:1.38176},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"0",null,null],current_version:"30"},and_ff:{browser:"Firefox for Android",abbr:"FF/And.",prefix:"moz",type:"mobile",usage_global:{0:.070956},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"0",null,null],current_version:"25"},ie_mob:{browser:"IE Mobile",abbr:"IE.Mob",prefix:"ms",type:"mobile",usage_global:{10:.205595},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10",null,null],current_version:""}},statuses:{rec:"Recommendation",pr:"Proposed Recommendation",cr:"Candidate Recommendation",wd:"Working Draft",other:"Other",unoff:"Unofficial / Note"},cats:{CSS:["CSS","CSS2","CSS3"],HTML5:["Canvas","HTML5"],"JS API":["JS API"],Other:["PNG","Other","DOM"],SVG:["SVG"]},updated:1383587152,data:{"png-alpha":{title:"PNG alpha transparency",description:"Semi-transparent areas in PNG files",spec:"http://www.w3.org/TR/PNG/",status:"rec",links:[{url:"http://dillerdesign.com/experiment/DD_belatedPNG/",title:"Workaround for IE6"},{url:"http://en.wikipedia.org/wiki/Portable_Network_Graphics",title:"Wikipedia"}],categories:["PNG"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"IE6 does support full transparency in 8-bit PNGs, which can sometimes be an alternative to 24-bit PNGs.",usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},apng:{title:"Animated PNG (APNG)",description:"Like animated GIFs, but allowing 24-bit colors and alpha transparency",spec:"https://wiki.mozilla.org/APNG_Specification",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/APNG",title:"Wikipedia"},{url:"https://github.com/davidmz/apng-canvas",title:"Polyfill using canvas"},{url:"https://chrome.google.com/webstore/detail/ehkepjiconegkhpodgoaeamnpckdbblp",title:"Chrome extension providing support"},{url:"http://www.truekolor.net/learn-how-to-create-an-animated-png/",title:"APNG tutorial"}],categories:["PNG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Where support for APNG is missing, only the first frame is displayed",usage_perc_y:16.19,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},video:{title:"Video element",description:"Method of playing videos on webpages (without requiring a plug-in)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#video",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/video.js#video",title:"has.js test"},{url:"http://webmproject.org",title:"WebM format information"},{url:"http://docs.webplatform.org/wiki/html/elements/video",title:"WebPlatform Docs"},{url:"http://camendesign.co.uk/code/video_for_everybody",title:"Video for Everybody"},{url:"http://diveinto.org/html5/video.html",title:"Video on the Web - includes info on Android support"},{url:"http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",title:"Detailed article on video/audio elements"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Different browsers have support for different video formats, see sub-features for details. \r\n\r\nThe Android browser (before 2.3) requires <a href="http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/">specific handling</a> to run the video element.',usage_perc_y:80.71,usage_perc_a:.11,ucprefix:!1,parent:"",keywords:"<video>"},audio:{title:"Audio element",description:"Method of playing sound on webpages (without requiring a plug-in)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#audio",status:"wd",links:[{url:"http://html5doctor.com/native-audio-in-the-browser/",title:"HTML5 Doctor article"},{url:"http://textopia.org/androidsoundformats.html",title:"File format test page"},{url:"http://www.jplayer.org/latest/demos/",title:"Demos of audio player that uses &lt;audio>"},{url:"http://www.phoboslab.org/log/2011/03/the-state-of-html5-audio",title:"The State of HTML5 Audio"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/audio.js#audio",title:"has.js test"},{url:"http://dev.opera.com/articles/view/everything-you-need-to-know-about-html5-video-and-audio/",title:"Detailed article on video/audio elements"},{url:"http://docs.webplatform.org/wiki/html/elements/audio",title:"WebPlatform Docs"},{url:"http://24ways.org/2010/the-state-of-html5-audio",title:"Detailed article on support"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.7,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},contenteditable:{title:"contenteditable attribute (basic support)",description:"Method of making any HTML element editable",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#contenteditable",status:"wd",links:[{url:"http://accessgarage.wordpress.com/2009/05/08/how-to-hack-your-app-to-make-contenteditable-work/",title:"Blog post on usage problems"},{url:"http://html5demos.com/contenteditable",title:"Demo page"},{url:"http://blog.whatwg.org/the-road-to-html-5-contenteditable",title:"WHATWG blog post"},{url:"http://docs.webplatform.org/wiki/html/attributes/contentEditable",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"This support only refers to very basic editing capability, implementations vary significantly on how certain elements can be edited.",usage_perc_y:88.37,usage_perc_a:.09,ucprefix:!1,parent:"",keywords:""},dragndrop:{title:"Drag and Drop",description:"Method of easily dragging and dropping elements on a page, requiring minimal JavaScript.",spec:"http://www.w3.org/TR/html5/editing.html#dnd",status:"wd",links:[{url:"http://html5demos.com/drag",title:"Demo with link blocks"},{url:"http://html5doctor.com/native-drag-and-drop/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/dom/events/drag",title:"WebPlatform Docs"},{url:"http://nettutsplus.s3.amazonaws.com/64_html5dragdrop/demo/index.html",title:"Shopping cart demo"}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"Partial support in older IE refers to no support for the dataTransfer.files or .types objects and limited supported formats for dataTransfer.setData/getData.",usage_perc_y:64.83,usage_perc_a:14.25,ucprefix:!1,parent:"",keywords:"draganddrop"},queryselector:{title:"querySelector/querySelectorAll",description:"Method of accessing DOM elements using CSS selectors",spec:"http://www.w3.org/TR/selectors-api/",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/selectors_api/querySelector",title:"WebPlatform Docs"},{url:"http://cjihrig.com/blog/javascripts-selectors-api/",title:"Blog post"},{url:"https://developer.mozilla.org/En/DOM/Element.querySelectorAll",title:"MDN article on querySelectorAll"},{url:"https://developer.mozilla.org/en/DOM/element.querySelector",title:"MDN article on querySelector"}],categories:["DOM"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Only works for the CSS selectors available. Thus the IE8 implementation is limited to the CSS 2.1 selectors",usage_perc_y:93.74,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"query,selectors,selectors api"},getelementsbyclassname:{title:"getElementsByClassName",description:"Method of accessing DOM elements by class name",spec:"http://www.w3.org/TR/dom/#dom-document-getelementsbyclassname",status:"wd",links:[{url:"http://www.quirksmode.org/dom/tests/basics.html#getElementsByClassName",title:"Test page"},{url:"http://docs.webplatform.org/wiki/dom/methods/getElementsByClassName",title:"WebPlatform Docs"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.52,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"byclassname"},forms:{title:"HTML5 form features",description:'Expanded form options, including things like date pickers, sliders, validation, placeholders and multiple file uploads. Previously known as "Web forms 2.0".',spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html",status:"wd",links:[{url:"https://github.com/westonruter/webforms2",title:"Cross-browser JS implementation (based on original spec)"},{url:"http://www.miketaylr.com/code/input-type-attr.html",title:"HTML5 inputs and attribute support page"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"p",3.2:"p",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"a"},ie_mob:{10:"a"}},notes:"",usage_perc_y:4.75,usage_perc_a:65.35,ucprefix:!1,parent:"",keywords:"input,datepicker"},html5semantic:{title:"New semantic elements",description:"HTML5 offers some new elements, primarily for semantic purposes. The elements include: section, article, aside, header, footer, nav, figure, figcaption, time, mark.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#sections",status:"wd",links:[{url:"http://oli.jp/2009/html5-structure3/",title:"Article on structural elements"},{url:"http://blog.whatwg.org/supporting-new-elements-in-ie",title:"Workaround for IE"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-html5-elements",title:"has.js test"},{url:"http://blog.whatwg.org/styling-ie-noscript",title:"Alternate workaround"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to missing the default styling. This is easily taken care of by using display:block for all new elements (except time and mark, these should be display:inline anyway).",usage_perc_y:80.26,usage_perc_a:5.26,ucprefix:!1,parent:"",keywords:""},"offline-apps":{title:"Offline web applications",description:"Method of defining web page files to be cached using a cache manifest file, allowing them to work offline on subsequent visits to the page",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/offline.html",status:"wd",links:[{url:"http://www.sitepoint.com/offline-web-application-tutorial/",title:"Sitepoint tutorial"},{url:"http://diveinto.org/html5/offline.html",title:"Dive Into HTML5 article"},{url:"http://docs.webplatform.org/wiki/apis/appcache/ApplicationCache",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2010/01/offline-web-applications/",title:"Mozilla Hacks article/demo"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"y",11:"y"},firefox:{2:"p",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:75.59,usage_perc_a:.09,ucprefix:!1,parent:"",keywords:"appcache,app cache,application cache,online"},webworkers:{title:"Web Workers",description:"Method of running scripts in the background, isolated from the web page",spec:"http://www.w3.org/TR/workers/",status:"cr",links:[{url:"http://code.google.com/p/ie-web-worker/",title:"Polyfill for IE (single threaded)"},{url:"http://net.tutsplus.com/tutorials/javascript-ajax/getting-started-with-web-workers/",title:"Tutorial"},{url:"https://developer.mozilla.org/En/Using_web_workers",title:"MDN article"},{url:"http://nerget.com/rayjs-mt/rayjs.html",title:"Web Worker demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:70.53,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},fontface:{title:"@font-face Web fonts",description:"Method of displaying fonts downloaded from websites",spec:"http://www.w3.org/TR/css3-webfonts/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/atrules/@font-face",title:"WebPlatform Docs"},{url:"http://www.css3files.com/font/",title:"Information page"},{url:"http://webfonts.info",title:"News and information site"},{url:"http://en.wikipedia.org/wiki/Web_typography",title:"Wikipedia"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"a",2.3:"a",3:"a",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support before IE8 refers to only supporting EOT fonts. Safari for iOS 4.1 and below only supports SVG fonts.",usage_perc_y:79.25,usage_perc_a:10.6,ucprefix:!1,parent:"",keywords:"font face"},eot:{title:"EOT - Embedded OpenType fonts",description:"Type of font that can be derived from a regular font, allowing small files and legal use of high-quality fonts. Usage is restricted by the file being tied to the website",spec:"http://www.w3.org/Submission/EOT/",status:"unoff",links:[{url:"http://www.microsoft.com/typography/web/embedding/default.aspx",title:"Example pages"},{url:"http://en.wikipedia.org/wiki/Embedded_OpenType",title:"Wikipedia"}],categories:["Other"],stats:{ie:{5.5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Proposal by Microsoft, being considered for W3C standardization.",usage_perc_y:25.14,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},woff:{title:"WOFF - Web Open Font Format",description:"Compressed TrueType/OpenType font that contains information about the font's source.",spec:"http://www.w3.org/TR/WOFF/",status:"rec",links:[{url:"http://hacks.mozilla.org/2009/10/woff/",title:"Mozilla hacks blog post"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Reported to be supported in some modified versions of the Android 4.0 browser.",usage_perc_y:75.23,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},multibackgrounds:{title:"CSS3 Multiple backgrounds",description:"Method of using multiple images as a background",spec:"http://www.w3.org/TR/css3-background/",status:"cr",links:[{url:"http://www.css3.info/preview/multiple-backgrounds/",title:"Demo & information page"},{url:"http://www.css3files.com/background/",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/background-image",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.37,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"border-image":{title:"CSS3 Border images",description:"Method of using images for borders",spec:"http://www.w3.org/TR/css3-background/#the-border-image",status:"cr",links:[{url:"http://www.css3files.com/border/",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/border-image",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y"},firefox:{2:"n",3:"n",3.5:"a x",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a x",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"a",10.6:"a",11:"a x",11.1:"a x",11.5:"a x",11.6:"a x",12:"a x",12.1:"a x",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"y"},bb:{7:"a x",10:"y"},op_mob:{10:"n",11:"a x",11.1:"a x",11.5:"a x",12:"a x",12.1:"a x",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"In Firefox both the border-style and border-width must be specified for border-images to work. Partial support refers to supporting the shorthand syntax, but not the individual properties (border-image-source, border-image-slice, etc).",usage_perc_y:54.86,usage_perc_a:9.76,ucprefix:!1,parent:"",keywords:""},"background-img-opts":{title:"CSS3 Background-image options",description:"New properties to affect background images, including background-clip, background-origin and background-size",spec:"http://www.w3.org/TR/css3-background/#backgrounds",status:"cr",links:[{url:"https://github.com/louisremi/background-size-polyfill",title:"Polyfill for IE7-8"},{url:"http://www.standardista.com/css3/css3-background-properties",title:"Detailed compatibility tables and demos"},{url:"http://www.css3files.com/background/",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"a x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"a x",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a x",2.2:"y x",2.3:"y x",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in Opera Mini refers to not supporting background sizing or background attachments. Partial support in Safari 6 refers to not supporting background sizing offset from edges syntax.",usage_perc_y:78.07,usage_perc_a:7.32,ucprefix:!1,parent:"",keywords:""},"css-table":{title:"CSS Table display",description:"Method of displaying elements as tables, rows, and cells",spec:"http://www.w3.org/TR/CSS21/tables.html",status:"rec",links:[{url:"http://blog.12spokes.com/web-design-development/when-to-choose-between-the-html-table-element-and-css-displaytable-property/",title:"Deciding on HTML or CSS tables"},{url:"http://www.onenaught.com/posts/201/use-css-displaytable-for-layout",title:"Blog post on usage"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.86,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"display:table, display: table,table-cell,table-row,table-layout"},"css-gencontent":{title:"CSS Generated content",description:"Method of displaying text or images before or after the given element's contents using the :before and :after pseudo-elements",spec:"http://www.w3.org/TR/CSS21/generate.html",status:"rec",links:[{url:"http://www.westciv.com/style_master/academy/css_tutorial/advanced/generated_content.html",title:"Guide on usage"},{url:"http://docs.webplatform.org/wiki/css/generated_and_replaced_content",title:"WebPlatform Docs"},{url:"http://dev.opera.com/articles/view/css-generated-content-techniques/",title:"Dev.Opera article"}],categories:["CSS2","CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"IE8 only supports the single-colon CSS 2.1 syntax (i.e. pseudo-class). It does not support the double-colon CSS3 syntax (i.e. pseudo-element)",usage_perc_y:85.55,usage_perc_a:8.31,ucprefix:!1,parent:"",keywords:"before,after"},"css-fixed":{title:"CSS position:fixed",description:"Method of keeping an element in a fixed location regardless of scroll position",spec:"http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",status:"rec",links:[{url:"http://www.css-101.org/fixed-positioning/05.php",title:"Workaround for IE6"},{url:"http://bradfrostweb.com/blog/mobile/fixed-position/",title:"Article on mobile support"},{url:"http://docs.webplatform.org/wiki/css/properties/position",title:"WebPlatform Docs"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Only works in Android 2.2+ by using the following meta tag: &lt;meta name="viewport" content="width=device-width, user-scalable=no">. Partial support in iOS Safari refers to <a href="http://remysharp.com/2012/05/24/issues-with-position-fixed-scrolling-on-ios/">buggy behavior</a>.',usage_perc_y:84.35,usage_perc_a:5.39,ucprefix:!1,parent:"",keywords:""},hashchange:{title:"Hashchange event",description:"Event triggered in JavaScript when the URL's hash has changed (for example: page.html#foo to page.html#bar) ",spec:"http://www.w3.org/TR/html5/history.html#event-hashchange",status:"cr",links:[{url:"http://www.quirksmode.org/dom/events/tests/hashchange.html",title:"Simple demo"},{url:"http://docs.webplatform.org/wiki/dom/events/hashchange",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/DOM/window.onhashchange",title:"MDN article"},{url:"http://github.com/3nr1c/jUri.js",title:"Polyfill"},{url:"http://msdn.microsoft.com/en-us/library/cc288209(VS.85).aspx",title:"MSDN article"}],categories:["HTML5","JS API"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:88.92,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"onhashchange,HashChangeEvent"},"css-sel2":{title:"CSS 2.1 selectors",description:"Allows more accurate element selecting, using >, +, [attr], :first-child, etc.",spec:"http://www.w3.org/TR/CSS21/selector.html",status:"rec",links:[{url:"http://www.quirksmode.org/css/contents.html",title:"Detailed support information"},{url:"http://docs.webplatform.org/wiki/css/selectors",title:"WebPlatform Docs"},{url:"http://selectivizr.com",title:"Selectivizr: Polyfill for IE6-8"},{url:"http://www.yourhtmlsource.com/stylesheets/advancedselectors.html",title:"Examples of advanced selectors"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"child selector,:hover,adjacent,sibling,adjacent sibling"},"css-sel3":{title:"CSS3 selectors",description:"Advanced element selection using selectors like :nth-child(), :last-child, :first-of-type, etc.",spec:"http://www.w3.org/TR/css3-selectors/",status:"rec",links:[{url:"http://www.css3.info/selectors-test/",title:"Automated CSS3 selector test"},{url:"http://docs.webplatform.org/wiki/css/selectors",title:"WebPlatform Docs"},{url:"http://www.quirksmode.org/css/contents.html",title:"Detailed support information"},{url:"http://selectivizr.com",title:"Selectivizr: Polyfill for IE6-8"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.43,usage_perc_a:0,ucprefix:!1,parent:"",keywords:":target,:not"},"css-textshadow":{title:"CSS3 Text-shadow",description:"Method of applying one or more shadow or blur effects to text",spec:"http://www.w3.org/TR/css-text-decor-3/#text-shadow-property",status:"wd",links:[{url:"http://ie.microsoft.com/testdrive/Graphics/hands-on-css3/hands-on_text-shadow.htm",title:"Live editor"},{url:"http://docs.webplatform.org/wiki/css/properties/text-shadow",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2009/06/text-shadow/",title:"Mozilla hacks article"},{url:"http://www.css3files.com/shadow/#textshadow",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Opera Mini ignores the blur-radius set, so no blur effect is visible. Text-shadow behavior can be somewhat emulated in older IE versions using the non-standard "dropshadow" or "glow" filters. ',usage_perc_y:75.49,usage_perc_a:4.73,ucprefix:!1,parent:"",keywords:""},"css-boxshadow":{title:"CSS3 Box-shadow",description:"Method of displaying an inner or outer shadow effect to elements",spec:"http://www.w3.org/TR/css3-background/#box-shadow",status:"cr",links:[{url:"http://www.css3files.com/shadow/",title:"Information page"},{url:"https://developer.mozilla.org/En/CSS/-moz-box-shadow",title:"MDN article"},{url:"http://westciv.com/tools/boxshadows/index.html",title:"Live editor"},{url:"http://tests.themasta.com/blogstuff/boxshadowdemo.html",title:"Demo of various effects"},{url:"http://docs.webplatform.org/wiki/css/properties/box-shadow",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y x",3.6:"y x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"y x",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y x",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Can be partially emulated in older IE versions using the non-standard "shadow" filter. Partial support in Safari, iOS Safari and Android Browser refers to missing "inset" and blur radius value support.',usage_perc_y:79.27,usage_perc_a:1.55,ucprefix:!1,parent:"",keywords:"box-shadows,boxshadows,box shadow,shaow"},"css3-colors":{title:"CSS3 Colors",description:"Method of describing colors using Hue, Saturation and Lightness (hsl()) rather than just RGB, as well as allowing alpha-transparency with rgba() and hsla().",spec:"http://www.w3.org/TR/css3-color/",status:"rec",links:[{url:"http://www.zenelements.com/blog/css3-rgb-rgba-color-opacity/",title:"Guide to RGB & RGBA"},{url:"http://www.css3files.com/color/",title:"Information page"},{url:"http://www.zenelements.com/blog/css3-hsl-hsla-color-opacity/",title:"Guide to HSL & HSLA"},{url:"http://docs.webplatform.org/wiki/css/color#RGBA_Notation",title:"WebPlatform Docs"},{url:"http://dev.opera.com/articles/view/color-in-opera-10-hsl-rgb-and-alpha-transparency/",title:"Dev.Opera article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:85.51,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:"rgb,hsl,rgba,hsla"},"css3-boxsizing":{title:"CSS3 Box-sizing",description:"Method of specifying whether or not an element's borders and padding should be included in size units",spec:"http://www.w3.org/TR/css3-ui/#box-sizing",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/box-sizing",title:"WebPlatform Docs"},{url:"http://css-tricks.com/box-sizing/",title:"CSS Tricks"},{url:"https://github.com/Schepp/box-sizing-polyfill",title:"Polyfill for IE"},{url:"https://developer.mozilla.org/En/CSS/Box-sizing",title:"MDN article"},{url:"http://www.456bereastreet.com/archive/201104/controlling_width_with_css3_box-sizing/",title:"Blog post"}],categories:["CSS3"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"a x",10:"a"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y x"},ie_mob:{10:"a"}},notes:'Partial support refers to supporting only the "border-box" value, not "padding-box" (which was added to the spec later).',usage_perc_y:15.43,usage_perc_a:78.42,ucprefix:!1,parent:"",keywords:"border-box,content-box,padding-box"},"css-mediaqueries":{title:"CSS3 Media Queries",description:"Method of applying styles based on media information. Includes things like page and device dimensions",spec:"http://www.w3.org/TR/css3-mediaqueries/",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/atrules/@media",title:"WebPlatform Docs"},{url:"http://ie.microsoft.com/testdrive/HTML5/85CSS3_MediaQueries/",title:"IE demo page with information"},{url:"https://github.com/scottjehl/Respond",title:"Polyfill for IE"},{url:"http://webdesignerwall.com/tutorials/responsive-design-with-css3-media-queries",title:"Media Queries tutorial"}],categories:["CSS3"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Incomplete support by older webkit browsers refers to only acknowledging different media rules on page reload",usage_perc_y:85.42,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:"@media"},multicolumn:{title:"CSS3 Multiple column layout",description:"Method of flowing information in multiple columns",spec:"http://www.w3.org/TR/css3-multicol/",status:"cr",links:[{url:"http://dev.opera.com/articles/view/css3-multi-column-layout/",title:"Dev.Opera article"},{url:"http://docs.webplatform.org/wiki/css/properties/column-width",title:"WebPlatform Docs"},{url:"http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/an-introduction-to-the-css3-multiple-column-layout-module/",title:"Introduction page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"a x",3:"a x",3.5:"a x",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"a x",3.2:"a x",4:"a x",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"y"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"a x"},ie_mob:{10:"y"}},notes:"Partial support refers to not supporting the break-before, break-after, break-inside properties. Webkit browsers do have equivalent support for the non-standard -webkit-column-break-* properties.",usage_perc_y:16.41,usage_perc_a:63.85,ucprefix:!1,parent:"",keywords:"column-count"},"border-radius":{title:"CSS3 Border-radius (rounded corners)",description:"Method of making the border corners round",spec:"http://www.w3.org/TR/css3-background/#the-border-radius",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/properties/border-radius",title:"WebPlatform Docs"},{url:"http://muddledramblings.com/table-of-css3-border-radius-compliance",title:"Detailed compliance table"},{url:"http://www.css3files.com/border/#borderradius",title:"Information page"},{url:"http://css3pie.com/",title:"Polyfill which includes border-radius"},{url:"http://border-radius.com",title:"Border-radius CSS Generator"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"a x",3:"y x",3.5:"y x",3.6:"y x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y x","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.91,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:"roundedcorners, border radius,-moz-border-radius"},transforms2d:{title:"CSS3 Transforms",description:"Method of transforming an element including rotating, scaling, etc.",spec:"http://www.w3.org/TR/css3-2d-transforms/",status:"wd",links:[{url:"http://www.westciv.com/tools/transforms/",title:"Live editor"},{url:"http://www.useragentman.com/IETransformsTranslator/",title:"Converter for IE"},{url:"http://docs.webplatform.org/wiki/css/transforms/transform",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",title:"has.js test"},{url:"https://developer.mozilla.org/en/CSS/-moz-transform",title:"MDN article"},{url:"http://www.webresourcesdepot.com/cross-browser-css-transforms-csssandpaper/",title:"Workaround script for IE"},{url:"http://www.css3files.com/transform/",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y x",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y x",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'The scale transform can be emulated in IE < 9 using Microsoft\'s "zoom" extension, others are (not easily) possible using the MS Matrix filter',usage_perc_y:80.82,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"transformation,translate,rotation,rotate,scale,css-transforms"},"use-strict":{title:"ECMAScript 5 Strict Mode",description:'Method of placing code in a "strict" operating context.',spec:"http://ecma-international.org/ecma-262/5.1/#sec-14.1",status:"other",links:[{url:"http://javascriptweblog.wordpress.com/2011/05/03/javascript-strict-mode/",title:"Article with test suite"},{url:"http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/",title:"Information page"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Safari refers to strict mode still accepting a lot of JS that should be considered invalid.",usage_perc_y:71.65,usage_perc_a:1.59,ucprefix:!1,parent:"",keywords:""},transforms3d:{title:"CSS3 3D Transforms",description:"Method of transforming an element in the third dimension",spec:"http://www.w3.org/TR/css3-3d-transforms/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/transforms/transform",title:"WebPlatform Docs"},{url:"http://css3.bradshawenterprises.com/flip/",title:"Multi-browser demo"},{url:"http://thewebrocks.com/demos/3D-css-tester/",title:"3D CSS Tester"},{url:"http://hacks.mozilla.org/2011/10/css-3d-transformations-in-firefox-nightly/",title:"Mozilla hacks article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-transform",title:"has.js test"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE10 refers to not supporting <a href="http://msdn.microsoft.com/en-us/library/ie/hh673529%28v=vs.85%29.aspx#the_ms_transform_style_property">the transform-style: preserve-3d property</a>. This prevents nesting 3D transformed elements.',usage_perc_y:61.31,usage_perc_a:11.11,ucprefix:!1,parent:"",keywords:"css 3d,3dtransforms,translate3d,transform3d"},sharedworkers:{title:"Shared Web Workers",description:"Method of allowing multiple scripts to communicate with a single web worker.",spec:"http://www.w3.org/TR/workers/#shared-workers-introduction",status:"cr",links:[{url:"http://www.sitepoint.com/javascript-shared-web-workers-html5/",title:"Sitepoint article"},{url:"http://greenido.wordpress.com/2011/11/03/web-workers-part-3-out-of-3-shared-wrokers/",title:"Blog post"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"y",10:"y"},op_mob:{10:"u",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Expected to be supported in Firefox 27.",usage_perc_y:40.07,usage_perc_a:0,ucprefix:!1,parent:"webworkers",keywords:"shared worker"},"css-hyphens":{title:"CSS Hyphenation",description:'Method of controlling when words at the end of lines should be hyphenated using the "hyphens" property.',spec:"http://www.w3.org/TR/css3-text/#hyphenation",status:"wd",links:[{url:"https://developer.mozilla.org/en/CSS/hyphens",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/css/properties/hyphens",title:"WebPlatform Docs"},{url:"http://blog.fontdeck.com/post/9037028497/hyphens",title:"Blog post"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:'Chrome 29- and Android 4.0 Browser support "-webkit-hyphens: none", but not the "auto" property. Chrome 30+ doesn\'t support it either.',usage_perc_y:33.31,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"hyphen,shy"},"css-transitions":{title:"CSS3 Transitions",description:"Simple method of animating certain properties of an element",spec:"http://www.w3.org/TR/css3-transitions/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/transition",title:"WebPlatform Docs"},{url:"http://www.webdesignerdepot.com/2010/01/css-transitions-101/",title:"Article on usage"},{url:"http://www.opera.com/docs/specs/presto2.12/css/transitions/#anima",title:"Animation of property types support in Opera"},{url:"http://www.css3files.com/transition/",title:"Information page"},{url:"http://www.the-art-of-web.com/css/timing-function/",title:"Examples on timing functions"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y x",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"y x",10:"y x"},op_mob:{10:"y x",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:75.27,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"css transition"},"font-feature":{title:"Font feature settings",description:"Method of applying advanced typographic and language-specific font features to supported OpenType fonts.",spec:"http://w3.org/TR/css3-fonts/#font-rend-props",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/font-feature-settings",title:"WebPlatform Docs"},{url:"http://hacks.mozilla.org/2010/11/firefox-4-font-feature-support/",title:"Mozilla hacks article"},{url:"http://html5accessibility.com/",title:"Detailed tables on accessability support"},{url:"http://ie.microsoft.com/testdrive/Graphics/opentype/",title:"Demo pages (IE/Firefox only)"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"Partial support in older Firefox versions refers to using an older syntax. Partial support in older Chrome versions refers to lacking support in Mac OS X. ",usage_perc_y:62.13,usage_perc_a:6.41,ucprefix:!1,parent:"",keywords:"font-feature,font-feature-settings,kern,kerning,font-variant-alternates,ligatures,font-variant-ligatures"},"css-animation":{title:"CSS3 Animation",description:"Complex method of animating certain properties of an element",spec:"http://www.w3.org/TR/css3-animations/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/animations",title:"WebPlatform Docs"},{url:"http://www.css3files.com/animation/",title:"Information page"},{url:"http://robertnyman.com/2010/05/06/css3-animations/",title:"Blog post on usage"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y x",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in Android browser refers to buggy behavior in different scenarios.",usage_perc_y:73.62,usage_perc_a:1.44,ucprefix:!1,parent:"",keywords:"animations,css-animations,keyframe,keyframes"},"css-gradients":{title:"CSS Gradients",description:"Method of defining a linear or radial color gradient as a CSS image.",spec:"http://www.w3.org/TR/css3-images/",status:"cr",links:[{url:"http://www.colorzilla.com/gradient-editor/",title:"Cross-browser editor"},{url:"http://docs.webplatform.org/wiki/css/functions/linear-gradient",title:"WebPlatform Docs"},{url:"http://www.css3files.com/gradient/",title:"Information page"},{url:"http://css3pie.com/",title:"Tool to emulate support in IE"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"a x",5:"a x",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"a x",11.5:"a x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"a x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support in Opera 11.10 and 11.50 also refers to only having support for linear gradients. Support can be somewhat emulated in older IE versions using the non-standard "gradient" filter. Firefox 10+, Opera 11.6+, Chrome 26+ and IE10 also support the new "to (side)" syntax.',usage_perc_y:73.31,usage_perc_a:2.22,ucprefix:!1,parent:"",keywords:"linear,linear-gradient,gradiant"},"css-canvas":{title:"CSS Canvas Drawings",description:"Method of using HTML5 Canvas as a background image",spec:"http://webkit.org/blog/176/css-canvas-drawing/",status:"unoff",links:[{url:"http://webkit.org/blog/176/css-canvas-drawing/",title:"Webkit blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Proposal by Webkit, being considered for W3C standardization. A similar effect can be achieved in Firefox 4+ using the -moz-element() background property",usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"css-reflections":{title:"CSS Reflections",description:"Method of displaying a reflection of an element",spec:"http://webkit.org/blog/182/css-reflections/",status:"unoff",links:[{url:"http://webkit.org/blog/182/css-reflections/",title:"Webkit blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Similar effect can be achieved in Firefox 4+ using the -moz-element() background property",usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"box-reflect"},"css-masks":{title:"CSS Masks",description:"Method of displaying part of an element, using a selected image as a mask",spec:"http://www.w3.org/TR/css-masking/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/mask",title:"WebPlatform Docs"},{url:"http://www.html5rocks.com/en/tutorials/masking/adobe/",title:"HTML5 Rocks article"},{url:"http://thenittygritty.co/css-masking",title:"Detailed blog post"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"n",3.2:"n",4:"a x",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Previously a WebKit-only property, now a W3C specification. Partial support refers to not yet fully supporting the new spec (details currently unknown).",usage_perc_y:0,usage_perc_a:48.41,ucprefix:!1,parent:"",keywords:""},svg:{title:"SVG (basic support)",description:"Method of displaying basic Vector Graphics features using the embed or object elements",spec:"http://www.w3.org/Graphics/SVG/",status:"rec",links:[{url:"http://en.wikipedia.org/wiki/Scalable_Vector_Graphics",title:"Wikipedia"},{url:"http://code.google.com/p/svgweb/",title:"SVG Web: Flash-based polyfill"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg",title:"has.js test"},{url:"http://svg-edit.googlecode.com",title:"Web-based SVG editor"},{url:"http://www.alistapart.com/articles/using-svg-for-flexible-scalable-and-fun-backgrounds-part-i",title:"A List Apart article"},{url:"http://svg-wow.org/",title:"SVG showcase site"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:84.1,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},"svg-css":{title:"SVG in CSS backgrounds",description:"Method of using SVG images as CSS backgrounds",spec:"http://www.w3.org/TR/css3-background/#background-image",status:"cr",links:[{url:"http://designfestival.com/a-farewell-to-css3-gradients/",title:"Tutorial for advanced effects"}],categories:["SVG","CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Firefox and Opera Mini/Mobile refers to SVG images being blurry when scaled. Partial support in iOS Safari and older Safari versions refers to failing to support tiling or the background-position property.",usage_perc_y:75.45,usage_perc_a:8.2,ucprefix:!1,parent:"",keywords:"svg-in-css,svgincss,css-svg"},"svg-smil":{title:"SVG SMIL animation",description:"Method of using animation elements to animate SVG images",spec:"http://www.w3.org/TR/SVG/animate.html",status:"rec",links:[{url:"https://github.com/madsgraphics/SVGEventListener",title:"Polyfill for SMIL animate events on SVG"},{url:"https://developer.mozilla.org/en/SVG/SVG_animation_with_SMIL",title:"MDN article"},{url:"http://svg-wow.org/blog/category/animation/",title:"Examples on SVG WOW"},{url:"http://leunen.me/fakesmile/",title:"JS library to support SMIL in SVG"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#svg-smil",title:"has.js test"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Partial support in Safari refers to not working in HTML files.",usage_perc_y:54.76,usage_perc_a:7.99,ucprefix:!1,parent:"",keywords:""},"svg-fonts":{title:"SVG fonts",description:"Method of using fonts defined as SVG shapes",spec:"http://www.w3.org/TR/SVG/fonts.html",status:"rec",links:[{url:"http://opentype.info/blog/2010/04/13/the-ipad-and-svg-fonts-in-mobile-safari/",title:"Blog post on usage for iPad"},{url:"http://jeremie.patonnier.net/post/2011/02/07/Why-are-SVG-Fonts-so-different",title:"Blog post"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Supported in Opera Mini in SVG images only, not in HTML.",usage_perc_y:47.78,usage_perc_a:0,ucprefix:!1,parent:"fontface",keywords:""},"svg-filters":{title:"SVG filters",description:"Method of using photoshop-like effects on SVG objects including blurring and color manipulation.",spec:"http://www.w3.org/TR/SVG/filters.html",status:"rec",links:[{url:"http://electricbeach.org/?p=950",title:"Experiments with filter effects"},{url:"http://svg-wow.org/blog/category/filters/",title:"SVG filter demos"},{url:"http://docs.webplatform.org/wiki/svg/elements/filter",title:"WebPlatform Docs"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"a",6:"a",7:"a",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:72.99,usage_perc_a:.08,ucprefix:!1,parent:"",keywords:""},"svg-html":{title:"SVG effects for HTML",description:"Method of using SVG transforms, filters, etc on HTML elements using either CSS or the foreignObject element",spec:"http://www.w3.org/TR/SVG11/extend.html#ForeignObjectElement",status:"wd",links:[{url:"https://developer.mozilla.org/En/Applying_SVG_effects_to_HTML_content",title:"MDN Reference page"},{url:"https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html",title:"Filter Effects draft"},{url:"https://developer.mozilla.org/en/SVG/Tutorial/Other_content_in_SVG",title:"MDN Tutorial"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Partial support refers to lack of filter support or buggy result from effects. A <a href="https://dvcs.w3.org/hg/FXTF/raw-file/tip/filters/index.html">CSS Filter Effects</a> specification is in the works that would replace this method.',usage_perc_y:15.33,usage_perc_a:60.21,ucprefix:!1,parent:"",keywords:""},"svg-html5":{title:"Inline SVG in HTML5",description:"Method of using SVG tags directly in HTML documents. Requires HTML5 parser.",spec:"http://www.w3.org/TR/html5/embedded-content-0.html#svg-0",status:"cr",links:[{url:"http://hacks.mozilla.org/2010/05/firefox-4-the-html5-parser-inline-svg-speed-and-more/",title:"Mozilla Hacks blog post"},{url:"http://samples.msdn.microsoft.com/ietestcenter/html5/svghtml_harness.htm?url=SVG_HTML_Elements_001",title:"Test suite"}],categories:["SVG","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:78.45,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},canvas:{title:"Canvas (basic support)",description:"Method of generating fast, dynamic graphics using JavaScript",spec:"http://www.w3.org/TR/html5/embedded-content-0.html#the-canvas-element",status:"cr",links:[{url:"https://developer.mozilla.org/en/Canvas_tutorial",title:"Tutorial by Mozilla"},{url:"http://explorercanvas.googlecode.com/",title:"Implementation for Internet Explorer"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas",title:"has.js test"},{url:"http://www.diveinto.org/html5/canvas.html",title:"Another tutorial"},{url:"http://glimr.rubyforge.org/cake/canvas.html",title:"Animation kit "},{url:"http://www.canvasdemos.com/",title:"Showcase site"}],categories:["Canvas","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Opera Mini supports the canvas element, but is unable to play animations or run other more complex applications. Android 2.x supports canvas except the toDataURL() function. See http://code.google.com/p/android/issues/detail?id=7901 Some (slow) workarounds are described here: http://stackoverflow.com/q/10488033/841830",usage_perc_y:79.53,usage_perc_a:6.02,ucprefix:!1,parent:"",keywords:""},"canvas-text":{title:"Text API for Canvas",description:"Method of displaying text on Canvas elements",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text-0",status:"wd",links:[{url:"http://code.google.com/p/canvas-text/",title:"Support library"},{url:"http://docs.webplatform.org/wiki/apis/canvas/CanvasRenderingContext2D/fillText",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/graphics.js#canvas-text",title:"has.js test"},{url:"https://developer.mozilla.org/en/Drawing_text_using_a_canvas#Additional_examples",title:"Examples by Mozilla"}],categories:["Canvas","HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.82,usage_perc_a:0,ucprefix:!1,parent:"canvas",keywords:""},"namevalue-storage":{title:"Web Storage - name/value pairs",description:"Method of storing data locally like cookies, but for larger amounts of data (sessionStorage and localStorage, used to fall under HTML5).",spec:"http://www.w3.org/TR/webstorage/#storage",status:"rec",links:[{url:"http://html5demos.com/storage",title:"Simple demo"},{url:"http://docs.webplatform.org/wiki/apis/web-storage/Storage/localStorage",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/DOM/Storage",title:"Gecko reference"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-localstorage;native-sessionstorage",title:"has.js test"},{url:"http://code.google.com/p/sessionstorage/",title:"Support library"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"a",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"In private browsing mode Safari and iOS Safari don't support setting localStorage.",usage_perc_y:89.13,usage_perc_a:.1,ucprefix:!1,parent:"",keywords:"webstorage,local storage"},"sql-storage":{title:"Web SQL Database",description:"Method of storing data client-side, allows Sqlite database queries for access and manipulation",spec:"http://www.w3.org/TR/webdatabase/",status:"unoff",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-sql-db",title:"has.js test"},{url:"http://html5doctor.com/introducing-web-sql-databases/",title:"HTML5 Doctor article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"The Web SQL Database specification is no longer being maintained and support may be dropped in future versions.",usage_perc_y:49.18,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"db-storage,websql"},indexeddb:{title:"IndexedDB",description:"Method of storing data client-side, allows indexed database queries. Previously known as WebSimpleDB API.",spec:"http://www.w3.org/TR/IndexedDB/",status:"wd",links:[{url:"http://hacks.mozilla.org/2010/06/comparing-indexeddb-and-webdatabase/",title:"Mozilla Hacks article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-indexeddb",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/apis/indexedDB",title:"WebPlatform Docs"},{url:"https://github.com/axemclion/IndexedDBShim",title:"Polyfill for browsers supporting WebSQL"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"y x",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"a x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support in BB10 refers to an <a href="http://www.w3.org/TR/2011/WD-IndexedDB-20110419/">outdated specification</a> being implemented. Code targeting the <a href="http://www.w3.org/TR/IndexedDB/">current state of the specification</a> might not work.',usage_perc_y:59.46,usage_perc_a:1.68,ucprefix:!1,parent:"",keywords:"indexdb"},eventsource:{title:"Server-sent DOM events",description:"Method of continuously sending data from a server to the browser, rather than repeatedly requesting it (EventSource interface, used to fall under HTML5)",spec:"http://www.w3.org/TR/eventsource/",status:"cr",links:[{url:"http://www.html5rocks.com/tutorials/eventsource/basics/",title:"HTML5 Rocks tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-eventsource",title:"has.js test"},{url:"http://samshull.blogspot.com/2010/10/ajax-push-in-ios-safari-and-chrome-with.html",title:"Blog post with demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:58.8,usage_perc_a:.06,ucprefix:!1,parent:"",keywords:"serversent,s-sent-events"},"x-doc-messaging":{title:"Cross-document messaging",description:"Method of sending information from a page on one domain to a page on a different one (using postMessage)",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-crosswindowmessaging",title:"has.js test"},{url:"http://html5demos.com/postmessage2",title:"Simple demo"},{url:"https://developer.mozilla.org/en/DOM/window.postMessage",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/web-messaging/methods/postMessage_%28window%29",title:"WebPlatform Docs"},{url:"http://72lions.com/2011/05/cross-origin-communication-with-html5",title:"Article and demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"y"},firefox:{2:"n",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE8-9 refers to only working in frames/iframes (not other tabs/windows). Also in IE 9 and below an object cannot be sent using postMessage. Partial support in IE10 refers to <a href="http://stackoverflow.com/questions/16226924/is-cross-origin-postmessage-broken-in-ie10">limitations in certain conditions</a>',usage_perc_y:69.31,usage_perc_a:24.52,ucprefix:!1,parent:"",keywords:""},datauri:{title:"Data URIs",description:"Method of embedding images and other files in webpages as a string of text",spec:"http://www.ietf.org/rfc/rfc2397.txt",status:"other",links:[{url:"http://www.websiteoptimization.com/speed/tweak/inline-images/",title:"Data URL converter"},{url:"http://css-tricks.com/5970-data-uris/",title:"Information page"},{url:"http://en.wikipedia.org/wiki/data_URI_scheme",title:"Wikipedia"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:"Support in Internet Explorer 8 is limited to images and linked resources like CSS files, not HTML files. Max URI length in IE8 is 32KB. In IE9+ JavaScript files are supported too and the maximum size limit set to 4GB.",usage_perc_y:69.23,usage_perc_a:24.63,ucprefix:!1,parent:"",keywords:"data url,datauris,data uri,dataurl,dataurls"},mathml:{title:"MathML",description:"An XML language that allows mathematical formulas and notations to be written on web pages.",spec:"http://www.w3.org/TR/MathML/",status:"rec",links:[{url:"http://www.mozilla.org/projects/mathml/demo/",title:"MathML demos"},{url:"http://en.wikipedia.org/wiki/MathML",title:"Wikipedia"},{url:"http://www.mathjax.org",title:"Cross-browser support script"},{url:"https://developer.mozilla.org/en/MathML/Element",title:"MDN element reference"}],categories:["Other"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"y",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Opera's support is limited to a CSS profile of MathML. Support was added in Chrome 24, but removed afterwards due to instability.",usage_perc_y:23.15,usage_perc_a:.63,ucprefix:!1,parent:"",keywords:""},"css-featurequeries":{title:"CSS Feature Queries",description:"CSS Feature Queries allow authors to condition rules based on whether particular property declarations are supported in CSS using the @supports at rule.",spec:"http://www.w3.org/TR/css3-conditional/#at-supports",status:"cr",links:[{url:"http://dabblet.com/gist/3895764",title:"Test case"},{url:"http://mcc.id.au/blog/2012/08/supports",title:"@supports in Firefox"},{url:"https://developer.mozilla.org/en-US/docs/Web/CSS/@supports",title:"MDN Article"},{url:"http://docs.webplatform.org/wiki/css/atrules/@supports",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.52,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"supports,conditional"},xhtml:{title:"XHTML served as application/xhtml+xml",description:"A strict form of HTML, and allows embedding of other XML languages",spec:"http://www.w3.org/TR/xhtml1/",status:"rec",links:[{url:"http://en.wikipedia.org/wiki/XHTML",title:"Wikipedia"},{url:"http://docs.webplatform.org/wiki/concepts/internet_and_web/the_web_standards_model#What_is_XHTML.3F",title:"WebPlatform Docs"},{url:"http://www.xmlplease.com/xhtml/xhtml5polyglot/",title:"Information on XHTML5"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'The XHTML syntax is very close to HTML, and thus is almost always (<a href="https://developer.mozilla.org/en-US/docs/XHTML#MIME_type_versus_DOCTYPE">incorrectly</a>) served as text/html on the web.',usage_perc_y:85.55,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"xhtml+xml"},xhtmlsmil:{title:"XHTML+SMIL animation",description:"Method of using SMIL animation in web pages",spec:"http://www.w3.org/TR/XHTMLplusSMIL/",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/XHTML%2BSMIL",title:"Wikipedia"},{url:"http://leunen.me/fakesmile/",title:"JS library to support XHTML+SMIL"}],categories:["Other"],stats:{ie:{5.5:"n",6:"a",7:"a",8:"a",9:"n",10:"n",11:"n"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"p",6.1:"p",7:"p"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"p",12.1:"p",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"p"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"p"},ie_mob:{10:"n"}},notes:"Internet Explorer supports the W3C proposal HTML+TIME, which is largely the same as XHTML+SMIL",usage_perc_y:0,usage_perc_a:9.02,ucprefix:!1,parent:"xhtml",keywords:""},"wai-aria":{title:"WAI-ARIA Accessibility features",description:"Method of providing ways for people with disabilities to use dynamic web content and web applications.",spec:"http://www.w3.org/TR/wai-aria/",status:"cr",links:[{url:"http://www.alistapart.com/articles/the-accessibility-of-wai-aria/",title:"ALA Article"},{url:"http://en.wikipedia.org/wiki/WAI-ARIA",title:"Wikipedia"},{url:"http://zufelt.ca/blog/are-you-confused-html5-and-wai-aria-yet",title:"HTML5/WAI-ARIA information"},{url:"http://www.w3.org/WAI/intro/aria",title:"Information page"},{url:"http://www.paciellogroup.com/blog/2011/10/browser-assistive-technology-tests-redux/",title:"Links to various test results"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"a",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"a"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"n"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:40.05,usage_perc_a:48.6,ucprefix:!1,parent:"",keywords:"wai,aria"},geolocation:{title:"Geolocation",description:"Method of informing a website of the user's geographical location",spec:"http://www.w3.org/TR/geolocation-API/",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-geolocation",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/apis/geolocation",title:"WebPlatform Docs"},{url:"http://html5demos.com/geo",title:"Simple demo"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"p",10.5:"p",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.65,usage_perc_a:.02,ucprefix:!1,parent:"",keywords:""},flexbox:{title:"Flexible Box Layout Module",description:"Method of positioning elements in horizontal or vertical stacks.",spec:"http://www.w3.org/TR/css3-flexbox/",status:"cr",links:[{url:"http://css-tricks.com/snippets/css/a-guide-to-flexbox/",title:"A Complete Guide to Flexbox"},{url:"http://bennettfeely.com/flexplorer/",title:"Flexbox CSS generator"},{url:"http://www.adobe.com/devnet/html5/articles/working-with-flexbox-the-new-spec.html",title:"Article on using the latest spec"},{url:"http://philipwalton.github.io/solved-by-flexbox/",title:"Examples on how to solve common layout problems with flexbox"},{url:"http://dev.opera.com/articles/view/advanced-cross-browser-flexbox/",title:"Tutorial on cross-browser support"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x #2",11:"y"},firefox:{2:"a x #1",3:"a x #1",3.5:"a x #1",3.6:"a x #1",4:"a x #1",5:"a x #1",6:"a x #1",7:"a x #1",8:"a x #1",9:"a x #1",10:"a x #1",11:"a x #1",12:"a x #1",13:"a x #1",14:"a x #1",15:"a x #1",16:"a x #1",17:"a x #1",18:"a x #1",19:"a x #1",20:"a x #1",21:"a x #1",22:"a #3",23:"a #3",24:"a #3",25:"a #3",26:"a #3",27:"a #3"},chrome:{4:"a x #1",5:"a x #1",6:"a x #1",7:"a x #1",8:"a x #1",9:"a x #1",10:"a x #1",11:"a x #1",12:"a x #1",13:"a x #1",14:"a x #1",15:"a x #1",16:"a x #1",17:"a x #1",18:"a x #1",19:"a x #1",20:"a x #1",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a x #1",3.2:"a x #1",4:"a x #1",5:"a x #1",5.1:"a x #1",6:"a x #1",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y",18:"y"},ios_saf:{3.2:"a x #1","4.0-4.1":"a x #1","4.2-4.3":"a x #1","5.0-5.1":"a x #1","6.0-6.1":"a x #1","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a x #1",2.2:"a x #1",2.3:"a x #1",3:"a x #1",4:"a x #1",4.1:"a x #1","4.2-4.3":"a x #1",4.4:"y"},bb:{7:"a x #1",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"a x #1"},ie_mob:{10:"a x #2"}},notes:'Most partial support refers to supporting an <a href="http://www.w3.org/TR/2009/WD-css3-flexbox-20090723/">older version</a> of the specification or an <a href="http://www.w3.org/TR/2012/WD-css3-flexbox-20120322/">older syntax</a>. For Firefox 21+ it refers to lack of flex-wrap & flex-flow support.',usage_perc_y:37.88,usage_perc_a:37.66,ucprefix:!1,parent:"",keywords:"flex"},webgl:{title:"WebGL - 3D Canvas graphics",description:"Method of generating dynamic 3D graphics using JavaScript, accelerated through hardware",spec:"https://www.khronos.org/registry/webgl/specs/1.0/",status:"other",links:[{url:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation",title:"Instructions on enabling WebGL"},{url:"http://webkit.org/blog/603/webgl-now-available-in-webkit-nightlies/",title:"Webkit blog post"},{url:"http://www.khronos.org/webgl/wiki/Tutorial",title:"Tutorial"},{url:"http://hacks.mozilla.org/2009/12/webgl-draft-released-today/",title:"Firefox blog post"},{url:"http://iewebgl.com/",title:"Polyfill for IE"}],categories:["Canvas"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"a",12.1:"a",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"a",12.1:"a",0:"y"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:'Support listed as "partial" refers to the fact that not all users with these browsers have WebGL access. This is due to the additional requirement for users to have <a href="http://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists">up to date video drivers</a>. This problem was <a href="http://blog.chromium.org/2012/02/gpu-accelerating-2d-canvas-and-enabling.html">solved in Chrome</a> as of version 18.\r\n\r\nNote that WebGL is part of the <a href="http://www.khronos.org/webgl/">Khronos Group</a>, not the W3C. On Chrome for Android, WebGL is disabled by default, but can be enabled by enabling the "Enable WebGL" flag under chrome://flags',usage_perc_y:33.4,usage_perc_a:19.68,ucprefix:!1,parent:"canvas",keywords:"web gl"},fileapi:{title:"File API",description:"Method of manipulating file objects in web applications client-side, as well as programmatically selecting them and accessing their data.",spec:"http://www.w3.org/TR/FileAPI/",status:"wd",links:[{url:"https://developer.mozilla.org/en/Using_files_from_web_applications",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/file",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Partial support in older Safari refers to lacking FileReader support. ",usage_perc_y:67.73,usage_perc_a:5.38,ucprefix:!1,parent:"",keywords:"FileReader"},shadowdom:{title:"Shadow DOM",description:"Method of establishing and maintaining functional boundaries between DOM trees and how these trees interact with each other within a document, thus enabling better functional encapsulation within the DOM.",spec:"http://www.w3.org/TR/shadow-dom/",status:"wd",links:[{url:"http://www.html5rocks.com/tutorials/webcomponents/shadowdom/",title:"HTML5Rocks - Shadow DOM 101 article"},{url:"http://html5-demos.appspot.com/static/shadowdom-visualizer/index.html",title:"Shadow DOM Visualizer"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:33.29,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web components"},websockets:{title:"Web Sockets",description:"Bidirectional communication technology for web apps",spec:"http://www.w3.org/TR/websockets/",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/apis/websocket",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-websockets",title:"has.js test"},{url:"http://websocket.org/aboutwebsocket.html",title:"WebSockets information"},{url:"http://en.wikipedia.org/wiki/WebSocket",title:"Wikipedia"},{url:"http://updates.html5rocks.com/2011/08/What-s-different-in-the-new-WebSocket-protocol",title:"Details on newer protocol"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to the websockets implementation using an older version of the protocol and/or the implementation being disabled by default (due to security issues with the older protocol).",usage_perc_y:67.46,usage_perc_a:2.62,ucprefix:!0,parent:"",keywords:""},"script-async":{title:"async attribute for external scripts",description:"The boolean async attribute on script elements allows the external JavaScript file to run when it's available, without delaying page load first.",spec:"http://www.w3.org/TR/html5/scripting-1.html#attr-script-async",status:"cr",links:[{url:"https://developer.mozilla.org/en/HTML/Element/script#Attributes",title:"MDN article"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-async",title:"has.js test"},{url:"http://ie.microsoft.com/testdrive/Performance/AsyncScripts/Default.html",title:"Demo"}],categories:["HTML5","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Using script.async = false; to maintain execution order for dynamically-added scripts isn't supported in Safari 5.0",usage_perc_y:72.82,usage_perc_a:.31,ucprefix:!1,parent:"",keywords:""},cors:{title:"Cross-Origin Resource Sharing",description:"Method of performing XMLHttpRequests across domains",spec:"http://www.w3.org/TR/cors/",status:"cr",links:[{url:"http://saltybeagle.com/2009/09/cross-origin-resource-sharing-demo/",title:"Demo and script with cross-browser support"},{url:"http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/",title:"Mozilla Hacks blog post"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-cors-xhr",title:"has.js test"},{url:"http://msdn.microsoft.com/en-us/library/cc288060(VS.85).aspx",title:"Alternative implementation by IE8"},{url:"http://dev.opera.com/articles/view/dom-access-control-using-cross-origin-resource-sharing/",title:"DOM access using CORS"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Supported somewhat in IE8 and IE9 using the XDomainRequest object (but has <a href=" http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx">limitations</a>)',usage_perc_y:75.51,usage_perc_a:13.52,ucprefix:!1,parent:"",keywords:""},calc:{title:"calc() as CSS unit value",description:"Method of allowing calculated values for length units, i.e. width: calc(100% - 3em)",spec:"http://www.w3.org/TR/css3-values/#calc",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/functions/calc",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/-moz-calc",title:"MDN article"},{url:"http://hacks.mozilla.org/2010/06/css3-calc/",title:"Mozilla Hacks article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Support can be somewhat emulated in older versions of IE using the non-standard expression() syntax. ",usage_perc_y:71.77,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},ruby:{title:"Ruby annotation",description:"Method of adding pronunciation or other annotations using ruby elements (primarily used in East Asian typography)",spec:"http://www.w3.org/TR/html-markup/ruby.html",status:"wd",links:[{url:"https://addons.mozilla.org/firefox/addon/6812/",title:'Addon "HTML Ruby" for Firefox support'},{url:"http://html5doctor.com/ruby-rt-rp-element/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/html/elements/ruby",title:"WebPlatform Docs"},{url:"https://addons.mozilla.org/firefox/addon/1935/",title:'Add-on "XHTML Ruby Support" for Firefox'}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"p",3.2:"p",4:"p",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"p",12.1:"p",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"p",10:"a"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"a"},and_chr:{0:"a"},and_ff:{0:"p"},ie_mob:{10:"a"}},notes:"Browsers without native support can still simulate support using CSS. Partial support refers to only supporting basic ruby, may still be missing writing-mode, Complex ruby and CSS3 Ruby",usage_perc_y:0,usage_perc_a:72.03,ucprefix:!1,parent:"",keywords:""},"css-opacity":{title:"CSS3 Opacity",description:"Method of setting the transparency level of an element",spec:"http://www.w3.org/TR/css3-color/",status:"rec",links:[{url:"http://www.css3files.com/color/#opacity",title:"Information page"},{url:"http://docs.webplatform.org/wiki/css/properties/opacity",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Transparency for elements in IE8 and older can be achieved using the proprietary "filter" property and does not work well with PNG images using alpha transparency.',usage_perc_y:85.55,usage_perc_a:9.03,ucprefix:!1,parent:"",keywords:"transparent,transparency,alpha"},"form-validation":{title:"Form validation",description:"Method of setting required fields and field types without requiring JavaScript",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#client-side-form-validation",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/attributes/required",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:"Partial support in Safari refers to lack of notice when form with required fields is attempted to be submitted. Partial support in IE10 mobile refers to lack of warning when blocking submission.",usage_perc_y:61.75,usage_perc_a:4.07,ucprefix:!1,parent:"forms",keywords:""},history:{title:"Session history management",description:"Method of manipulating the user's browser's session history in JavaScript using history.pushState, history.replaceState and the popstate event",spec:"http://www.w3.org/TR/html5/browsers.html#history-1",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-history-state",title:"has.js test"},{url:"https://github.com/browserstate/history.js",title:"History.js polyfill "},{url:"http://docs.webplatform.org/wiki/dom/history",title:"WebPlatform Docs"},{url:"http://html5demos.com/history",title:"Demo page"},{url:"http://www.adequatelygood.com/2010/7/Saner-HTML5-History-Management",title:"Introduction to history management"},{url:"https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history",title:"MDN article"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"n",4:"n",4.1:"n","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Older iOS versions and Android 4.0.4 claim support, but implementation is too buggy to be useful. Partial support in other Safari browsers refers to other buggy behavior.",usage_perc_y:68.29,usage_perc_a:3.89,ucprefix:!1,parent:"",keywords:"onpushstate,onreplacestate"},json:{title:"JSON parsing",description:"Method of converting JavaScript objects to JSON strings and JSON back to objects using JSON.stringify() and JSON.parse()",spec:"http://es5.github.com/#x15.12",status:"other",links:[{url:"http://docs.webplatform.org/wiki/apis/json",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/json.js#json",title:"has.js test"},{url:"http://www.json.org/js.html",title:"JSON in JS (includes script w/support)"},{url:"https://developer.mozilla.org/En/Using_native_JSON",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Requires document to be in IE8+ <a href="http://msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx">standards mode</a> to work in IE8.',usage_perc_y:93.71,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},classlist:{title:"classList (DOMTokenList )",description:"Method of easily manipulating classes on elements, using the DOMTokenList object.",spec:"http://www.w3.org/TR/dom/#dom-element-classlist",status:"wd",links:[{url:"https://github.com/eligrey/classList.js",title:"Polyfill script"},{url:"http://hacks.mozilla.org/2010/01/classlist-in-firefox-3-6/",title:"Mozilla Hacks article"},{url:"http://docs.webplatform.org/wiki/dom/properties/classList",title:"WebPlatform Docs"},{url:"https://github.com/eligrey/classList.js/pull/12",title:"Polyfill script for classList on SVG elements on WebKit"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"p",6:"p",7:"p",8:"p",9:"p",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"p",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"p",11:"p",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.54,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"text-overflow":{title:"CSS3 Text-overflow",description:"Append ellipsis when text overflows its containing element",spec:"http://www.w3.org/TR/css3-ui/#text-overflow0",status:"wd",links:[{url:"http://www.css3files.com/text/",title:"Information page"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-text-overflow",title:"has.js test"},{url:"http://docs.webplatform.org/wiki/css/properties/text-overflow",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/CSS/Text-overflow",title:"MDN article"},{url:"https://github.com/rmorse/AutoEllipsis",title:"jQuery polyfill for Firefox"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y x","9.5-9.6":"y x","10.0-10.1":"y x",10.5:"y x",10.6:"y x",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y x"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y x",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.95,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"textoverflow,ellipsis"},webm:{title:"WebM/VP8 video format",description:"Multimedia format designed to provide a royalty-free, high-quality open video compression format for use with HTML5 video.",spec:"http://www.webmproject.org/",status:"other",links:[{url:"http://perian.org/",title:"Perian :Mac OSX Webm Codec install"},{url:"https://tools.google.com/dlpage/webmmf",title:"Codec for IE9 support"},{url:"http://webmproject.org",title:"Officical website"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/video.js#video-webm",title:"has.js test"},{url:"http://www.broken-links.com/2010/09/01/playing-webm-in-safari-with-plugins/",title:"Info on supporting WebM in Safari"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"p",4:"p",5:"p",5.1:"p",6:"p",6.1:"p",7:"p"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Will work in IE9+ and Safari/MacOSX provided the user has the WebM codecs installed.",usage_perc_y:55.72,usage_perc_a:0,ucprefix:!1,parent:"video",keywords:"matroska"},mpeg4:{title:"MPEG-4/H.264 video format",description:"Commonly used video compression format (not royalty-free)",spec:"http://ip.hhi.de/imagecom_G1/assets/pdfs/csvt_overview_0305.pdf",status:"other",links:[{url:"http://www.interoperabilitybridges.com/html5-extension-for-wmp-plugin",title:"Firefox extension allowing support in Win7"},{url:"http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC",title:"Wikipedia article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"a"},ie_mob:{10:"y"}},notes:'The Android 2.3 browser currently requires <a href="http://www.broken-links.com/2010/07/08/making-html5-video-work-on-android-phones/">specific handling</a> to play videos. Firefox <a href="http://blog.lizardwrangler.com/2012/03/18/video-user-experience-and-our-mission/">will include support</a> on some platforms in upcoming versions. Firefox supports H.264 on Windows 7 and later since version 21. Partial support for Firefox refers to the lack of support in OSX & Linux platforms, for Android Firefox it refers to the inability of hardware acceleration.',usage_perc_y:59.55,usage_perc_a:18.1,ucprefix:!1,parent:"video",keywords:"avc,mp4,mpv,mov,aac"},ogv:{title:"Ogg/Theora video format",description:"Free lossy video compression format.",spec:"http://theora.org/doc/",status:"other",links:[{url:"http://en.wikipedia.org/wiki/Theora",title:"Wikipedia article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"",usage_perc_y:49.8,usage_perc_a:0,ucprefix:!1,parent:"video",keywords:"xiph"},wordwrap:{title:"CSS3 Overflow-wrap",description:"Allows lines to be broken within words if an otherwise unbreakable string is too long to fit.",spec:"http://www.w3.org/TR/css3-text/#overflow-wrap",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/word-wrap",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/En/CSS/Word-wrap",title:"MDN article"},{url:"http://www.css3files.com/text/#wordwrap",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"a",3.6:"a",4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"a",6:"a",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"a",10.6:"a",11:"a",11.1:"a",11.5:"a",11.6:"a",12:"a",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"a",11:"a",11.1:"a",11.5:"a",12:"a",12.1:"a",0:"y"},and_chr:{0:"y"},and_ff:{0:"a"},ie_mob:{10:"a"}},notes:'Partial support refers to requiring the legacy name "word-wrap" (rather than overflow-wrap) to work.',usage_perc_y:36.93,usage_perc_a:57.51,ucprefix:!1,parent:"",keywords:"wordwrap,word-wrap"},progressmeter:{title:"Progress & Meter",description:"Method of indicating a progress state (progress element) or the current level of a gauge (meter element).\r\n",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-progress-element",status:"wd",links:[{url:"http://dev.opera.com/articles/view/new-form-features-in-HTML5/#newoutput",title:"Dev.Opera article"},{url:"http://peter.sh/examples/?/html/meter-progress.html",title:"Examples of progress and meter elements"},{url:"http://docs.webplatform.org/wiki/html/elements/progress",title:"WebPlatform Docs"},{url:"http://html5doctor.com/measure-up-with-the-meter-tag/",title:"HTML5 Doctor on meter element "}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in Firefox 6-15, IE10 & iOS7 Safari refers to supporting the progress element, but not the meter element. iOS7 Safari also does not support "indeterminate" progress elements.',usage_perc_y:52.21,usage_perc_a:14.58,ucprefix:!1,parent:"forms",keywords:""},"object-fit":{title:"CSS3 object-fit/object-position",description:'Method of specifying how an object (image or video) should fit inside its box. object-fit options include "contain" (fit according to aspect ratio), "fill" (stretches object to fill) and "cover" (overflows box but maintains ratio), where object-position allows the object to be repositioned like background-image does.',spec:"http://www.w3.org/TR/css3-images/",status:"cr",links:[{url:"http://dev.opera.com/articles/view/css3-object-fit-object-position/",title:"Dev.Opera article"},{url:"http://docs.webplatform.org/wiki/css/properties/object-fit",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y x",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y x",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Can be enabled in Chrome 31+ and Opera 18+ by enabling experimental Web Platform features under chrome://flags/ or opera://flags/.",usage_perc_y:.81,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"objectfit,objectposition"},xhr2:{title:"XMLHttpRequest 2",description:"Adds more functionality to AJAX requests like file uploads, transfer progress information and the ability to send form data.",spec:"http://www.w3.org/TR/XMLHttpRequest2/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/xhr/XMLHttpRequest",title:"WebPlatform Docs"},{url:"http://www.profilepicture.co.uk/tutorials/ajax-file-upload-xmlhttprequest-level-2/",title:"Article with file upload demo"},{url:"https://developer.mozilla.org/en/XMLHttpRequest/FormData",title:"MDN article on FormData"},{url:"https://github.com/3nr1c/jUri.js",title:"Polyfill for FormData object"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"u",6:"u",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.51,usage_perc_a:.35,ucprefix:!1,parent:"",keywords:"formdata"},minmaxwh:{title:"CSS min/max-width/height",description:"Method of setting a minimum or maximum width or height to an element. ",spec:"http://www.w3.org/TR/CSS21/visudet.html#min-max-widths",status:"rec",links:[{url:"http://docs.webplatform.org/wiki/css/properties/min-width",title:"WebPlatform Docs"},{url:"http://code.google.com/p/ie7-js/",title:"JS library with support"},{url:"http://www.impressivewebs.com/min-max-width-height-css/",title:"CSS Basics post"}],categories:["CSS2"],stats:{ie:{5.5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'IE7 does not support "inherit" as a value on any of these properties. IE8 has some bugs with max-width/height combined with overflow: auto/scroll.',usage_perc_y:94.36,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"min-width,min-height,max-width,max-height"},details:{title:"Details & Summary elements",description:"The &lt;details> element generates a simple no-JavaScript widget to show/hide element contents, optionally by clicking on its child &lt;summary> element.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-details-element",status:"wd",links:[{url:"http://html5doctor.com/summary-figcaption-element/",title:"HTML5 Doctor article"},{url:"http://mathiasbynens.be/notes/html5-details-jquery",title:"jQuery fallback script"},{url:"http://docs.webplatform.org/wiki/html/elements/details",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-details",title:"has.js test"},{url:"https://gist.github.com/370590",title:"Fallback script"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"p",3.5:"p",3.6:"p",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"y",6.1:"y",7:"y"},opera:{9:"p","9.5-9.6":"p","10.0-10.1":"p",10.5:"p",10.6:"p",11:"p",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"p"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"p",10:"y"},op_mob:{10:"p",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:44.5,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"text-stroke":{title:"CSS text-stroke",description:"Method of declaring the outline (stroke) width and color for text.",spec:"http://developer.apple.com/library/safari/documentation/appleapplications/reference/SafariCSSRef/Articles/StandardCSSProperties.html#//apple_ref/doc/uid/TP30001266-_webkit_text_stroke",status:"unoff",links:[{url:"http://www.westciv.com/tools/textStroke/",title:"Live editor"},{url:"http://css-tricks.com/7405-adding-stroke-to-web-text/",title:"Information & workarounds"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"a x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Does not yet appear in any W3C specification. Was briefly included in a spec as the "text-outline" property, but this was removed.',usage_perc_y:48.41,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"textstroke,stroke-color,stroke-width,fill-color"},"inline-block":{title:"CSS inline-block",description:"Method of displaying an element as a block while flowing it with text. ",spec:"http://www.w3.org/TR/CSS21/visuren.html#fixed-positioning",status:"rec",links:[{url:"http://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/",title:"Blog post w/info"},{url:"http://docs.webplatform.org/wiki/css/properties/display",title:"WebPlatform Docs"},{url:"http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/",title:"Info on cross browser support"}],categories:["CSS2"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"a x",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Only supported in IE6 and IE7 on elements with a display of "inline" by default. <a href="http://blog.mozilla.com/webdev/2009/02/20/cross-browser-inline-block/">Alternative properties</a> are available to provide complete cross-browser support.',usage_perc_y:93.84,usage_perc_a:.74,ucprefix:!1,parent:"",keywords:"inlineblock"},notifications:{title:"Web Notifications",description:"Method of alerting the user outside of a web page by displaying notifications (that do not require interaction by the user).",spec:"http://www.w3.org/TR/notifications/",status:"wd",links:[{url:"http://www.html5rocks.com/tutorials/notifications/quick/",title:"HTML5 Rocks tutorial"},{url:"http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification",title:"Chromium API"},{url:"https://addons.mozilla.org/en-us/firefox/addon/221523/",title:"Add-on "}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a x"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.27,usage_perc_a:2.66,ucprefix:!1,parent:"",keywords:""},stream:{title:"getUserMedia/Stream API",description:"Method of accessing external device data (such as a webcam video stream). Formerly this was envisioned as the &lt;device> element.",spec:"http://www.w3.org/TR/mediacapture-streams/",status:"wd",links:[{url:"http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview",title:"Technology preview from Opera"},{url:"http://docs.webplatform.org/wiki/dom/methods/getUserMedia",title:"WebPlatform Docs"}],categories:["HTML5","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"n",16:"n",17:"n",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y x"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"",usage_perc_y:48.44,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"camera,device,getUserMedia,media stream,Media Capture API"},"svg-img":{title:"SVG in HTML img element",description:"Method of displaying SVG images in HTML using &lt;img>",spec:"http://www.w3.org/TR/html5/embedded-content-1.html#the-img-element",status:"cr",links:[{url:"http://www.codedread.com/blog/",title:"Blog with SVGs an images"},{url:"http://blog.dholbert.org/2010/10/svg-as-image.html",title:"Blog post with examples"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"a",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:83.65,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:"svg-as-img,svg-in-img"},datalist:{title:"Datalist element",description:"Method of setting a list of options for a user to select in a text field, while leaving the ability to enter a custom value.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-button-element.html#the-datalist-element",status:"wd",links:[{url:"http://demo.agektmr.com/datalist/",title:"Eiji Kitamura's options demos & tests"},{url:"http://docs.webplatform.org/wiki/html/elements/datalist",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/HTML/Element/datalist",title:"MDN reference"},{url:"http://afarkas.github.com/webshim/demos/",title:"HTML5 Library including datalist support"},{url:"http://hacks.mozilla.org/2010/11/firefox-4-html5-forms/",title:"Mozilla Hacks article"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"p",7:"p",8:"p",9:"p",10:"a",11:"a"},firefox:{2:"p",3:"p",3.5:"p",3.6:"p",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"p",3.2:"p",4:"p",5:"p",5.1:"p",6:"n",6.1:"n",7:"n"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"p"},and_chr:{0:"p"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:'Partial support in IE10 refers to <a href="http://playground.onereason.eu/2013/04/ie10s-lousy-support-for-datalists/">significantly buggy behavior</a>.',usage_perc_y:48.86,usage_perc_a:10.9,ucprefix:!1,parent:"forms",keywords:"list attribute"},dataset:{title:"dataset & data-* attributes",description:"Method of applying and accessing custom data to elements.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#embedding-custom-non-visible-data-with-the-data-*-attributes",status:"wd",links:[{url:"http://www.orangesoda.net/jquery.dataset.html",title:"jQuery polyfill for dataset support"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/dom.js#dom-dataset",title:"has.js test"},{url:"http://html5demos.com/dataset",title:"Demo using dataset"},{url:"http://html5doctor.com/html5-custom-data-attributes/",title:"HTML5 Doctor article"},{url:"http://docs.webplatform.org/wiki/html/attributes/data-*",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"y"},firefox:{2:"a",3:"a",3.5:"a",3.6:"a",4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11:"a",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"a",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'All browsers can already use data-* attributes and access them using getAttribute. "Supported" refers to accessing the values using the dataset property. Current spec only refers to support on HTML elements, only some browsers also have support for SVG/MathML elements.',usage_perc_y:62.15,usage_perc_a:32.43,ucprefix:!1,parent:"",keywords:"DOMStringMap"},"css-grid":{title:"CSS Grid Layout",description:"Method of using a grid concept to lay out content, providing a mechanism for authors to divide available space for lay out into columns and rows using a set of predictable sizing behaviors",spec:"http://www.w3.org/TR/css3-grid-layout/",status:"wd",links:[{url:"https://bugzilla.mozilla.org/show_bug.cgi?id=616605",title:"Mozilla (Firefox) feature request"},{url:"http://blogs.msdn.com/b/ie/archive/2011/04/14/ie10-platform-preview-and-css-features-for-adaptive-layouts.aspx",title:"IE Blog post"},{url:"https://github.com/codler/Grid-Layout-Polyfill",title:"Grid Layout Polyfill"},{url:"https://bugs.webkit.org/show_bug.cgi?id=60731",title:"Webkit (Chrome, Safari, etc.) feature request"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"y x",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"p",6.1:"p",7:"p"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"p",4.4:"p"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"p"},and_chr:{0:"p"},and_ff:{0:"n"},ie_mob:{10:"y x"}},notes:"",usage_perc_y:11.11,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"grids,grid-row,grid-column"},menu:{title:"Toolbar/context menu",description:"Method of defining a toolbar menu, a context menu or a list of (interactive) options using the &lt;menu> element.",spec:"http://www.w3.org/TR/html5/interactive-elements.html#context-menus",status:"cr",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/events.js#event-contextmenu",title:"has.js test"},{url:"https://bug617528.bugzilla.mozilla.org/attachment.cgi?id=554309",title:"Demo"},{url:"http://addyosmani.github.com/jQuery-contextMenu/",title:"jQuery polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Partial support in Firefox refers to using the non-standard "menuitem" child elements, where the current spec uses "<a href="http://www.w3.org/TR/html5/interactive-elements.html#the-command-element">command</a>" child elements. It is also currently limited to context menus, not toolbar menus.',usage_perc_y:0,usage_perc_a:14.7,ucprefix:!1,parent:"",keywords:"contextmenu,menuitem,command"},rem:{title:"rem (root em) units",description:'Type of unit similar to "em", but relative only to the root element, not any parent element. Thus compounding does not occur as it does with "em" units.',spec:"http://www.w3.org/TR/css3-values/#font-relative-lengths",status:"cr",links:[{url:"http://snook.ca/archives/html_and_css/font-size-with-rem",title:"Article on usage"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"u",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:80.56,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},ttf:{title:"TTF/OTF - TrueType and OpenType font support",description:"Support for the TrueType (.ttf)and OpenType (.otf) outline font formats in @font-face. ",spec:"http://developer.apple.com/fonts/TTRefMan/index.html",status:"other",links:[{url:"http://stackoverflow.com/questions/17694143/what-is-the-status-of-ttf-support-in-internet-explorer",title:"What is the status of TTF support in Internet Explorer?"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"u"}},notes:'Partial support in IE9 refers to the fonts only working <a href="http://blogs.msdn.com/b/ie/archive/2010/07/15/the-css-corner-better-web-typography-for-better-design.aspx">when set to be "installable"</a>.',usage_perc_y:64.48,usage_perc_a:16.11,ucprefix:!1,parent:"fontface",keywords:""},touch:{title:"Touch events",description:"Method of registering when, where and how the interface is touched, for devices with a touch screen. These DOM events are similar to mousedown, mousemove, etc.",spec:"http://www.w3.org/TR/touch-events/",status:"rec",links:[{url:"http://schepers.cc/getintouch",title:"Information on the spec development"},{url:"http://www.quirksmode.org/mobile/tableTouch.html",title:"Detailed support tables"},{url:"http://www.quirksmode.org/m/tests/drag2.html",title:"Multi-touch demo"},{url:"http://msdn.microsoft.com/en-us/library/ie/hh673557(v=vs.85).aspx",title:"Internet Explorer's gesture and touch implementation."}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"p",11:"p"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"a",5:"a",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"Internet Explorer implements Pointer Events specification which supports more input devices than Touch Events one.",usage_perc_y:58.16,usage_perc_a:.12,ucprefix:!1,parent:"",keywords:"touchstart,touchend,touchmove,touchenter,touchleave,touchcancel"},matchesselector:{title:"matches() DOM method",description:"Method of testing whether or not a DOM element matches a given selector. Formerly known (and largely supported with prefix) as matchesSelector.",spec:"http://www.w3.org/TR/selectors-api2/",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/Element.mozMatchesSelector",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/dom/methods/matchesSelector",title:"WebPlatform Docs"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a x",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"a x",4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x",28:"a x",29:"a x",30:"a x",31:"a x",32:"a x"},safari:{3.1:"n",3.2:"n",4:"n",5:"a x",5.1:"a x",6:"a x",6.1:"a x",7:"a x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"a x",11.6:"a x",12:"a x",12.1:"a x",15:"a x",16:"a x",17:"a x",18:"a x"},ios_saf:{3.2:"n","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a x","6.0-6.1":"a x","7.0":"a x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"a x",2.3:"a x",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"a x",10:"a x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"a x",12.1:"a x",0:"a x"},and_chr:{0:"a x"},and_ff:{0:"a x"},ie_mob:{10:"a x"}},notes:'Partial support refers to supporting the older specification\'s "matchesSelector" name rather than just "matches".',usage_perc_y:0,usage_perc_a:80.6,ucprefix:!1,parent:"",keywords:" matchesSelector"},"pointer-events":{title:"CSS pointer-events (for HTML)",description:'This CSS property, when set to "none" allows elements to not receive hover/click events, instead the event will occur on anything behind it. ',spec:"http://wiki.csswg.org/spec/css4-ui#pointer-events",status:"unoff",links:[{url:"http://robertnyman.com/2010/03/22/css-pointer-events-to-allow-clicks-on-underlying-elements/",title:"Article & tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/css.js#css-pointerevents",title:"has.js test"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Already part of the SVG specification, and all SVG-supporting browsers appear to support the property on SVG elements.",usage_perc_y:63.82,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"pointerevents"},blobbuilder:{title:"Blob constructing",description:"Construct Blobs (binary large objects) either using the BlobBuilder API (deprecated) or the Blob constructor.",spec:"http://www.w3.org/TR/file-writer-api/#the-blobbuilder-interface",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/BlobBuilder",title:"MDN article on BlobBuilder"},{url:"https://developer.mozilla.org/en-US/docs/DOM/Blob",title:"MDN article on Blobs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"a x",7:"a x",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a x",4:"a x",4.1:"a x","4.2-4.3":"a x",4.4:"a x"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"a x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to only supporting the now deprecated BlobBuilder to create blobs.",usage_perc_y:64.97,usage_perc_a:6.3,ucprefix:!0,parent:"fileapi",keywords:""},filereader:{title:"FileReader API",description:"Method of reading the contents of a File or Blob object into memory",spec:"http://www.w3.org/TR/FileAPI/#dfn-filereader",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/file/FileReader",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/DOM/FileReader",title:"FileReader API"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:71.89,usage_perc_a:0,ucprefix:!1,parent:"fileapi",keywords:""},filesystem:{title:"Filesystem & FileWriter API",description:"Method of reading and writing files to a sandboxed file system.\r\n",spec:"http://www.w3.org/TR/file-system-api/",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/apis/filesystem",title:"WebPlatform Docs"},{url:"http://www.html5rocks.com/en/tutorials/file/filesystem/",title:"HTML5 Rocks tutorial"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"a x",9:"a x",10:"a x",11:"a x",12:"a x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:34.87,usage_perc_a:.28,ucprefix:!1,parent:"",keywords:"filewriter"},bloburls:{title:"Blob URLs",description:"Method of creating URL handles to the specified File or Blob object.",spec:"http://www.w3.org/TR/FileAPI/#url",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/window.URL.createObjectURL",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:70.6,usage_perc_a:0,ucprefix:!1,parent:"fileapi",keywords:"createobjecturl"},typedarrays:{title:"Typed Arrays",description:"JavaScript typed arrays provide a mechanism for accessing raw binary data much more efficiently.\r\n",spec:"http://www.khronos.org/registry/typedarray/specs/latest/",status:"other",links:[{url:"https://developer.mozilla.org/en/javascript_typed_arrays",title:"MDN article"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:73.11,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"float64array,dataview,uint8array"},deviceorientation:{title:"DeviceOrientation events",description:"API for detecting orientation and motion events from the device running the browser.",spec:"http://www.w3.org/TR/orientation-event/",status:"wd",links:[{url:"http://html5labs.interoperabilitybridges.com/prototypes/device-orientation-events/device-orientation-events/info",title:"DeviceOrientation implementation prototype for IE10"},{url:"http://www.html5rocks.com/en/tutorials/device/orientation/",title:"HTML5 Rocks tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/features.js#native-orientation",title:"has.js test"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"p",4:"p",5:"p",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"n",5:"n",6:"n",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"a"},ie_mob:{10:"n"}},notes:'Partial support refers to the lack of compassneedscalibration event. Partial support also refers to the lack of devicemotion event support for Chrome 30- and Opera. Opera Mobile 14 lost the ondevicemotion event support. Firefox 3.6, 4 and 5 support the non-standard <a href="https://developer.mozilla.org/en/DOM/MozOrientation">MozOrientation</a> event.',usage_perc_y:.14,usage_perc_a:57.76,ucprefix:!1,parent:"",keywords:""},"script-defer":{title:"defer attribute for external scripts",description:"The boolean defer attribute on script elements allows the external JavaScript file to run when the DOM is loaded, without delaying page load first.",spec:"http://www.w3.org/TR/html5/the-script-element.html#attr-script-defer",status:"cr",links:[{url:"https://developer.mozilla.org/en/HTML/Element/script#Attributes",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/html/attributes/defer",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/script.js#script-defer",title:"has.js test"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"a",6:"a",7:"a",8:"a",9:"a",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support refers to a buggy implementation in IE<10",usage_perc_y:73.17,usage_perc_a:14.25,ucprefix:!1,parent:"",keywords:""},"nav-timing":{title:"Navigation Timing API",description:"API for accessing timing information related to navigation and elements.",spec:"http://www.w3.org/TR/navigation-timing/",status:"cr",links:[{url:"https://developer.mozilla.org/en/API/navigationTiming",title:"MDN article"},{url:"http://www.html5rocks.com/en/tutorials/webperformance/basics/",title:"HTML5 Rocks tutorial"},{url:"http://docs.webplatform.org/wiki/apis/navigation_timing",title:"WebPlatform Docs"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:69.95,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"performance,performance.timing"},"audio-api":{title:"Web Audio API",description:"High-level JavaScript API for processing and synthesizing audio",spec:"http://www.w3.org/TR/webaudio/",status:"wd",links:[{url:"http://www.doboism.com/projects/webaudio-compatibility/",title:"Additional browser compatibility tests for specific features"},{url:"http://docs.webplatform.org/wiki/apis/webaudio",title:"WebPlatform Docs"},{url:"https://github.com/corbanbrook/audionode.js",title:"Polyfill to support Web Audio API in Firefox"},{url:"https://github.com/g200kg/WAAPISim",title:"Polyfill to enable Web Audio API through Firefox Audio Data api or flash"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Firefox versions < 25 support an alternative, deprecated audio API.",usage_perc_y:41.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web-audio"},"css-regions":{title:"CSS Regions",description:"Method of flowing content into multiple elements.",spec:"http://www.w3.org/TR/css3-regions/",status:"wd",links:[{url:"http://msdn.microsoft.com/en-us/ie/hh272902#_CSSConnected",title:"IE10 developer guide info"},{url:"http://html.adobe.com/webstandards/cssregions/",title:"Adobe demos and samples"},{url:"http://docs.webplatform.org/wiki/css/atrules/@region",title:"WebPlatform Docs"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"a x",16:"a x",17:"a x",18:"a x",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"a x"}},notes:'Currently supported in WebKit Nightly using <code>-webkit-flow-into: flow_name;</code> and <code>-webkit-from-flow: flow_name;</code>. Support in Chrome 19+ is disabled by default and can be enabled using a runtime flag (see <code>about:flags</code>) or a command line flag (see  <a href="http://peter.sh/experiments/chromium-command-line-switches/#enable-css-regions">this list</a>). For Chrome 19-22 the flag is named "Enable CSS Regions" / <code>--enable-css-regions</code>, while for Chrome 23+ the flag is named "Enable experimental WebKit features" / <code>--enable-experimental-webkit-features</code>. Support in IE10 is limited to using an iframe as a content source with the <code>-ms-flow-into: flow_name;</code> and <code>-ms-flow-from: flow_name;</code> syntax. Support for Safari 6.1&7 is <a href="http://www.broken-links.com/2013/07/10/web-platform-technologies-in-safari-6-1-and-7/">likely</a> but not official.',usage_perc_y:2.75,usage_perc_a:11.35,ucprefix:!1,parent:"",keywords:""},fullscreen:{title:"Full Screen API",description:"API for allowing content (like a video or canvas element) to take up the entire screen.",spec:"http://www.w3.org/TR/fullscreen/",status:"wd",links:[{url:"https://developer.mozilla.org/en/DOM/Using_full-screen_mode",title:"MDN article"},{url:"http://jlongster.com/2011/11/21/canvas.html",title:"Blog post"},{url:"http://hacks.mozilla.org/2012/01/using-the-fullscreen-api-in-web-browsers/",title:"Mozilla hacks article"},{url:"http://docs.webplatform.org/wiki/dom/methods/requestFullscreen",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"y x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x",12:"a x",13:"a x",14:"a x",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"a x",21:"a x",22:"a x",23:"a x",24:"a x",25:"a x",26:"a x",27:"a x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"a x",16:"a x",17:"a x",18:"a x",19:"a x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"a x"},ie_mob:{10:"n"}},notes:"Partial support refers to supporting an earlier draft of the spec.",usage_perc_y:37.35,usage_perc_a:16.21,ucprefix:!1,parent:"",keywords:"full-screen"},requestanimationframe:{title:"requestAnimationFrame",description:"API allowing a more efficient way of running script-based animation, compared to traditional methods using timeouts.",spec:"http://www.w3.org/TR/animation-timing/#requestAnimationFrame",status:"wd",links:[{url:"http://hacks.mozilla.org/2011/08/animating-with-javascript-from-setinterval-to-requestanimationframe/",title:"Mozilla Hacks article"},{url:"http://paulirish.com/2011/requestanimationframe-for-smart-animating/",title:"Blog post"},{url:"http://docs.webplatform.org/wiki/apis/timing/methods/requestAnimationFrame",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"y"}},notes:"",usage_perc_y:67.13,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"input-range":{title:"Range input type",description:"Form field type that allows the user to select a value using a slider widget.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#range-state-(type=range)",status:"wd",links:[{url:"https://github.com/fryn/html5slider",title:"Polyfill for Firefox"},{url:"http://docs.webplatform.org/wiki/html/elements/input/type/range",title:"WebPlatform Docs"},{url:"http://tutorialzine.com/2011/12/what-you-need-to-know-html5-range-input/",title:"Tutorial"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-range",title:"has.js test"},{url:"https://github.com/freqdec/fd-slider",title:"Cross-browser polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"u",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Currently all Android browsers with partial support hide the slider input field by default. However, the element <a href="http://tiffanybbrown.com/2012/02/07/input-typerange-and-androids-stock-browser/">can be styled</a> to be made visible and usable.',usage_perc_y:68.52,usage_perc_a:4.31,ucprefix:!1,parent:"forms",keywords:""},matchmedia:{title:"matchMedia",description:"API for finding out whether or not a media query applies to the document.",spec:"http://www.w3.org/TR/cssom-view/#dom-window-matchmedia",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/media_queries/apis/matchMedia",title:"WebPlatform Docs"},{url:"https://github.com/paulirish/matchMedia.js/",title:"matchMedia.js polyfill"},{url:"https://developer.mozilla.org/en/DOM/window.matchMedia",title:"MDN article"},{url:"https://developer.mozilla.org/en/CSS/Using_media_queries_from_code",title:"MDN tutorial"}],categories:["JS API","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:72.81,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"mediaquerylist"},"input-datetime":{title:"Date/time input types",description:"Form field widget to easily allow users to enter dates and/or times, generally by using a calendar widget.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#date-state-(type=date)",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/elements/input/type/date",title:"WebPlatform Docs"},{url:"http://net.tutsplus.com/tutorials/javascript-ajax/quick-tip-cross-browser-datepickers-within-minutes/",title:"Datepicker tutorial w/polyfill"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-datetime;input-type-datetime-local",title:"has.js test"},{url:"https://github.com/zoltan-dulac/html5Forms.js",title:"Polyfill for HTML5 forms"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Safari provides date-formatted text fields, but no real calendar widget. Partial support in Chrome refers to a missing calendar widget for the "datetime" type (and other types in older versions). Some modified versions of the Android 4.x browser do have support for date/time fields. ',usage_perc_y:6.13,usage_perc_a:33.1,ucprefix:!1,parent:"forms",keywords:"datepicker,timepicker"},"input-color":{title:"Color input type",description:"Form field allowing the user to select a color.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#color-state-(type=color)",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/html/elements/input/type/color",title:"WebPlatform Docs"},{url:"http://www.html5tutorial.info/html5-color.php",title:"Tutorial"},{url:"https://github.com/jonstipe/color-polyfill",title:"Polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"n",16:"n",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"",usage_perc_y:35.22,usage_perc_a:0,ucprefix:!1,parent:"forms",keywords:"colour"},"input-number":{title:"Number input type",description:"Form field type for numbers.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#number-state-(type=number)",status:"wd",links:[{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-type-number",title:"has.js test"},{url:"http://www.html5tutorial.info/html5-number.php",title:"Tutorial"},{url:"https://github.com/jonstipe/number-polyfill",title:"Polyfill"},{url:"http://docs.webplatform.org/wiki/html/elements/input/type/number",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"u",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"a"},and_chr:{0:"a"},and_ff:{0:"n"},ie_mob:{10:"a"}},notes:'iOS Safari, Android 4 and Chrome for Android show number input, but do not use "step", "min" or "max" attributes or show increment/decrement buttons. Internet Explorer 10 does not show increment/decrement buttons.',usage_perc_y:38.44,usage_perc_a:20.1,ucprefix:!1,parent:"forms",keywords:"spinner"},"iframe-sandbox":{title:"sandbox attribute for iframes",description:"Method of running external site pages with reduced privileges (e.g. no JavaScript) in iframes",spec:"http://www.w3.org/TR/html5/the-iframe-element.html#attr-iframe-sandbox",status:"cr",links:[{url:"http://msdn.microsoft.com/en-us/hh563496",title:"MSDN article"},{url:"http://blog.chromium.org/2010/05/security-in-depth-html5s-sandbox.html",title:"Chromium blog article"},{url:"http://docs.webplatform.org/wiki/html/attributes/sandbox",title:"WebPlatform Docs"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:59.45,usage_perc_a:13.57,ucprefix:!1,parent:"",keywords:""},"css-counters":{title:"CSS Counters",description:"Method of controlling number values in generated content, using the counter-reset and counter-increment properties.",spec:"http://www.w3.org/TR/CSS21/generate.html#counters",status:"wd",links:[{url:"http://onwebdev.blogspot.com/2012/02/css-counters-tutorial.html",title:"Tutorial and information"},{url:"http://docs.webplatform.org/wiki/css/properties/counter-reset",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS_Counters",title:"MDN article"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"y"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:93.86,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"css-resize":{title:"CSS resize property",description:"Method of allowing an element to be resized by the user, with options to limit to a given direction. ",spec:"http://www.w3.org/TR/css3-ui/#resize",status:"wd",links:[{url:"http://css-tricks.com/almanac/properties/r/resize/",title:"CSS Tricks info"},{url:"http://davidwalsh.name/textarea-resize",title:"On textarea resizing"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"a",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Opera 12.10+ currently only supports the resize property for textarea elements.",usage_perc_y:52.82,usage_perc_a:.48,ucprefix:!1,parent:"",keywords:"horizontal,vertical"},"input-placeholder":{title:"input placeholder attribute",description:"Method of setting placeholder text for text-like input fields, to suggest the expected inserted information.",spec:"http://dev.w3.org/html5/spec/Overview.html#attr-input-placeholder",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/html/attributes/placeholder",title:"WebPlatform Docs"},{url:"https://raw.github.com/phiggins42/has.js/master/detect/form.js#input-attr-placeholder",title:"has.js test"},{url:"http://www.zachleat.com/web/placeholder/",title:"Article on usage"},{url:"https://github.com/mathiasbynens/jquery-placeholder",title:"Polyfill"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"a",11.1:"a",11.5:"a",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Safari and Opera versions refers to lacking placeholder support on textarea elements. ",usage_perc_y:75.1,usage_perc_a:.15,ucprefix:!1,parent:"forms",keywords:""},spdy:{title:"SPDY networking protocol",description:"Networking protocol for low-latency transport of content over the web.",spec:"http://tools.ietf.org/html/draft-mbelshe-httpbis-spdy-00",status:"unoff",links:[{url:"http://en.wikipedia.org/wiki/SPDY",title:"Wikipedia"},{url:"http://dev.chromium.org/spdy/spdy-whitepaper",title:"SPDY whitepaper"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"a"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"u"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:53.69,usage_perc_a:.11,ucprefix:!1,parent:"",keywords:""},"css-repeating-gradients":{title:"CSS Repeating Gradients",description:"Method of defining a repeating linear or radial color gradient as a CSS image.",spec:"http://www.w3.org/TR/css3-images/#repeating-gradients",status:"cr",links:[{url:"http://docs.webplatform.org/wiki/css/repeating-linear-gradient",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/repeating-linear-gradient",title:"MDN article"},{url:"http://www.css3files.com/gradient/#repeatinglineargradient",title:"Information page"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"y x",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"a x",11.5:"a x",11.6:"y x",12:"y x",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"a x",11.5:"a x",12:"y x",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"y"}},notes:'Firefox 10+, Chrome 26+ and Opera 11.6+ also support the new "to (side)" syntax.',usage_perc_y:73.31,usage_perc_a:.03,ucprefix:!1,parent:"css-gradients",keywords:""},"css-filters":{title:"CSS Filter Effects",description:"Method of applying filter effects (like blur, grayscale, brightness, contrast and hue) to elements, previously only possible by using SVG.",spec:"http://www.w3.org/TR/filter-effects/",status:"wd",links:[{url:"http://dl.dropbox.com/u/3260327/angular/CSS3ImageManipulation.html",title:"Filter editor"},{url:"http://bennettfeely.com/filters/",title:"Filter Playground"},{url:"http://html5-demos.appspot.com/static/css/filters/index.html",title:"Demo file for WebKit browsers"},{url:"http://www.html5rocks.com/en/tutorials/filters/understanding-css/",title:"Mozilla hacks article"}],categories:["CSS3","CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"u",27:"u"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:'Note that this property is significantly different from and incompatible with Microsoft\'s <a href="http://msdn.microsoft.com/en-us/library/ie/ms530752%28v=vs.85%29.aspx">older "filter" property</a>.',usage_perc_y:40.55,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"sepia,hue-rotate,invert,saturate"},getcomputedstyle:{title:"getComputedStyle",description:"API to get the current computed CSS styles applied to an element. This may be the current value applied by an animation or as set by a stylesheet.",spec:"http://www.w3.org/TR/cssom/#dom-window-getcomputedstyle",status:"rec",links:[{url:"http://ie.microsoft.com/testdrive/HTML5/getComputedStyle/",title:"Demo"},{url:"http://snipplr.com/view/13523/",title:"Polyfill for IE"},{url:"https://developer.mozilla.org/en/DOM/window.getComputedStyle",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/css/cssom/methods/getComputedStyle",title:"WebPlatform Docs"}],categories:["JS API","CSS3","DOM"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"a",3.5:"a",3.6:"a",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"a",3.2:"a",4:"a",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"a"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"a",10:"y"},op_mob:{10:"a",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"Partial support in older Firefox versions refers to requiring the second parameter to be included. Partial support in all other browsers refers to not supporting getComputedStyle on pseudo-elements.",usage_perc_y:78.53,usage_perc_a:7,ucprefix:!1,parent:"",keywords:""},"word-break":{title:"CSS3 word-break",description:"Property to prevent or allow words to be broken over multiple lines between letters.",spec:"http://www.w3.org/TR/css3-text/#word-break",status:"wd",links:[{url:"http://docs.webplatform.org/wiki/css/properties/word-break",title:"WebPlatform Docs"},{url:"https://developer.mozilla.org/en/CSS/word-break",title:"MDN article"}],categories:["CSS3"],stats:{ie:{5.5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"a",5:"a",6:"a",7:"a",8:"a",9:"a",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"a",3.2:"a",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"a",16:"a",17:"a",18:"a"},ios_saf:{3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"a",2.2:"a",2.3:"a",3:"a",4:"a",4.1:"a","4.2-4.3":"a",4.4:"a"},bb:{7:"a",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:'Partial support refers to supporting the "break-all" value, but not the "keep-all" value.',usage_perc_y:39.39,usage_perc_a:48.42,ucprefix:!1,parent:"",keywords:"break-all,keep-all"},"viewport-units":{title:"Viewport units: vw, vh, vmin, vmax",description:"Length units representing 1% of the viewport size for viewport width (vw), height (vh), the smaller of the two (vmin), or the larger of the two (vmax).",spec:"http://www.w3.org/TR/css3-values/#viewport-relative-lengths",status:"cr",links:[{url:"http://css-tricks.com/viewport-sized-typography/",title:"Blog post"},{url:"https://github.com/saabi/vminpoly",title:"Polyfill"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"a",10:"a",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"a","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"a"}},notes:'Partial support in IE9 refers to supporting "vm" instead of "vmin". All other partial support refers to not supporting the "vmax" unit.',usage_perc_y:48.9,usage_perc_a:21.18,ucprefix:!1,parent:"",keywords:"vm,viewport-percentage"},contentsecuritypolicy:{title:"Content Security Policy",description:"Mitigate cross-site scripting attacks by whitelisting allowed sources of script, style, and other resources.",spec:"http://www.w3.org/TR/CSP/",status:"cr",links:[{url:"http://content-security-policy.com/",title:"CSP Examples & Quick Reference"},{url:"http://html5rocks.com/en/tutorials/security/content-security-policy/",title:"HTML5Rocks article"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"a x"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"a x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"a x"}},notes:"The HTTP header is 'X-Content-Security-Policy' for Firefox and IE 10&11, and 'X-WebKit-CSP' for Safari and Chrome. IE 10&11's support is limited to the 'sandbox' directive.",usage_perc_y:55.74,usage_perc_a:12.68,ucprefix:!1,parent:"",keywords:"csp,security,header"},pagevisibility:{title:"PageVisibility",description:"JavaScript API for determining whether a document is visible on the display",spec:"http://www.w3.org/TR/page-visibility/",status:"cr",links:[{url:"https://developer.mozilla.org/en-US/docs/DOM/Using_the_Page_Visibility_API",title:"MDN article"},{url:"http://docs.webplatform.org/wiki/apis/timing/properties/visibilityState",title:"WebPlatform Docs"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"y",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"y",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:63.89,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"visibilitystate"},stricttransportsecurity:{title:"Strict Transport Security",description:"Declare that a website is only accessible over a secure connection (HTTPS).",spec:"http://tools.ietf.org/html/rfc6797",status:"other",links:[{url:"http://dev.chromium.org/sts",title:"Strict Transport Security @ Chromium"},{url:"https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security",title:"Strict Transport Security @ Mozilla Developer Network"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"u"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"The HTTP header is 'Strict-Transport-Security'.",usage_perc_y:50.76,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"sts,hsts,security,header"},"style-scoped":{title:"Scoped CSS",description:"Allows CSS rules to be scoped to part of the document, based on the position of the style element.",spec:"http://www.w3.org/TR/html5/document-metadata.html#attr-style-scoped",status:"cr",links:[{url:"https://github.com/PM5544/scoped-polyfill",title:"Polyfill"},{url:"http://html5doctor.com/the-scoped-attribute/",title:"HTML5 Doctor article"},{url:"http://updates.html5rocks.com/2012/03/A-New-Experimental-Feature-style-scoped",title:"HTML5Rocks article"}],categories:["CSS","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"u",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Supported in Chrome 20+ by enabling the "experimental WebKit features" flag in chrome://flags.',usage_perc_y:13.05,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"scope"},"svg-fragment":{title:"SVG fragment identifiers",description:"Method of displaying only a part of an SVG image by defining a view ID or view box dimensions as the file's fragment identifier.",spec:"http://www.w3.org/TR/SVG/linking.html#SVGFragmentIdentifiers",status:"rec",links:[{url:"http://www.broken-links.com/2012/08/14/better-svg-sprites-with-fragment-identifiers/",title:"Blog post"}],categories:["SVG"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"u",32:"u"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"u",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:25.15,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"fragments,sprite"},outline:{title:"CSS outline",description:"The CSS outline property is a shorthand property for setting one or more of the individual outline properties outline-style, outline-width and outline-color in a single rule. In most cases the use of this shortcut is preferable and more convenient.",spec:"http://www.w3.org/TR/CSS2/ui.html#propdef-outline",status:"rec",links:[{url:"https://developer.mozilla.org/en-US/docs/CSS/outline",title:"Mozilla Developer Network: outline"},{url:"http://dev.w3.org/csswg/css3-ui/#outline",title:"CSS Basic User Interface Module Level 3"}],categories:["CSS2"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"y",9:"y",10:"y",11:"y"},firefox:{2:"y",3:"y",3.5:"y",3.6:"y",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y",2.2:"y",2.3:"y",3:"y",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"y"}},notes:"",usage_perc_y:89.27,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"-moz-outline,outline-width,outline-style,outline-color"},download:{title:"Download attribute",description:"When used on an anchor, this attribute signifies that the resource it points to should be downloaded by the browser rather than navigate to it.",spec:"http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#downloading-resources",status:"wd",links:[{url:"http://html5-demos.appspot.com/static/a.download.html",title:"Demo: creating a text file and downloading it."},{url:"http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download",title:"HTML5Rocks post"}],categories:["HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"y"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:48.02,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"download,a.download,a[download],download attribute"},pointer:{title:"Pointer events",description:'This specification integrates various inputs from mice, touchscreens, and pens, making separate implementations no longer necessary and authoring for cross-device pointers easier. Not to be mistaken with the unrelated "pointer-events" CSS property.',spec:"http://www.w3.org/TR/pointerevents/",status:"cr",links:[{url:"http://blogs.msdn.com/b/eternalcoding/archive/2013/01/16/hand-js-a-polyfill-for-supporting-pointer-events-on-every-browser.aspx",title:"Hand.js, the polyfill for browsers only supporting Touch Events"},{url:"http://blogs.msdn.com/b/ie/archive/2011/09/20/touch-input-for-ie10-and-metro-style-apps.aspx",title:"Implementation of Pointer Events in IE10"},{url:"http://blogs.msdn.com/b/davrous/archive/2013/02/20/handling-touch-in-your-html5-apps-thanks-to-the-pointer-events-of-ie10-and-windows-8.aspx",title:"Article & tutorial"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"a x",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p",28:"p",29:"p",30:"p",31:"p",32:"p"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"p",16:"p",17:"p",18:"p"},ios_saf:{3.2:"p","4.0-4.1":"p","4.2-4.3":"p","5.0-5.1":"p","6.0-6.1":"p","7.0":"p"},op_mini:{"5.0-7.0":"n"},android:{2.1:"p",2.2:"p",2.3:"p",3:"p",4:"p",4.1:"p","4.2-4.3":"p",4.4:"p"},bb:{7:"p",10:"p"},op_mob:{10:"n",11:"p",11.1:"p",11.5:"p",12:"p",12.1:"p",0:"p"},and_chr:{0:"p"},and_ff:{0:"p"},ie_mob:{10:"a x"}},notes:"Partial support in IE10 refers the lack of pointerenter and pointerleave events.",usage_perc_y:.11,usage_perc_a:10.99,ucprefix:!1,parent:"",keywords:"pointerdown,pointermove,pointerup,pointercancel,pointerover,pointerout,pointerenter,pointerleave"},"user-select-none":{title:"CSS user-select: none",description:"Method of preventing text/element selection using CSS. ",spec:"https://developer.mozilla.org/en-US/docs/CSS/user-select",status:"unoff",links:[{url:"http://msdn.microsoft.com/en-us/library/ie/hh781492(v=vs.85).aspx",title:"MSDN Documentation"},{url:"https://developer.mozilla.org/en-US/docs/CSS/user-select",title:"MDN article"},{url:"http://css-tricks.com/almanac/properties/u/user-select/",title:"CSS Tricks article"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"u",5:"u",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"y x",3.2:"y x",4:"y x",5:"y x",5.1:"y x",6:"y x",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"y x",2.2:"y x",2.3:"y x",3:"y x",4:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"y x"}},notes:'Currently the user-select property does not appear in any W3C specification. Support information here is only for "none" value, not others.',usage_perc_y:74.91,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},webp:{title:"WebP image format",description:"Image format that supports lossy and lossless compression, as well as animation and alpha transparency.",spec:"https://developers.google.com/speed/webp/",status:"other",links:[{url:"http://libwebpjs.appspot.com/",title:"Decoder in JS"},{url:"https://developers.google.com/speed/webp/",title:"Official website"},{url:"http://antimatter15.github.io/weppy/demo.html",title:"Polyfill for browsers with WebM support"},{url:"http://webpjs.appspot.com/",title:"Polyfill for browsers with or without WebM support (i.e. IE6-IE9, Safari/iOS version 6.1 and below; Firefox versions 24 and bel"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"p",5:"p",6:"p",7:"p",8:"p",9:"p",10:"p",11:"p",12:"p",13:"p",14:"p",15:"p",16:"p",17:"p",18:"p",19:"p",20:"p",21:"p",22:"p",23:"p",24:"p",25:"p",26:"p",27:"p"},chrome:{4:"n",5:"n",6:"p",7:"p",8:"p",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"p",11:"p",11.1:"p",11.5:"p",11.6:"p",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"y",4.1:"y","4.2-4.3":"y",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"a",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"n"}},notes:"Animated webp images are supported in Chrome 32+ and Opera 19+.",usage_perc_y:39.4,usage_perc_a:.01,ucprefix:!1,parent:"",keywords:""},"intrinsic-width":{title:"Intrinsic & Extrinsic Sizing",description:"Allows for the heights and widths to be specified in intrinsic values using the fill-available, max-content, min-content, and fit-content properties.",spec:"http://www.w3.org/TR/css3-sizing/",status:"wd",links:[{url:"http://demosthenes.info/blog/662/Design-From-the-Inside-Out-With-CSS-MinContent",title:"Min-Content tutorial"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y x",7:"y x"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y x",16:"y x",17:"y x",18:"y x"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y x"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y x"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:'Prefixes are on the values, not the property names (e.g. -webkit-min-content) Firefox currently supports the "-moz-available" property rather than "-moz-fill-available".',usage_perc_y:51.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"fill-available,max-content,min-content,fit-content,contain-floats"},template:{title:"HTML templates",description:"Method of declaring a portion of reusable markup that is parsed but not rendered until cloned.",spec:"http://www.w3.org/TR/html-templates/",status:"wd",links:[{url:"http://www.html5rocks.com/en/tutorials/webcomponents/template/",title:"HTML5Rocks - HTML's New template Tag"},{url:"http://polymer-project.org",title:"Polymer project (polyfill & web compontents framework)"}],categories:["DOM","HTML5"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:45.76,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"web components, template"},opus:{title:"Opus",description:"Royalty-free open audio codec by IETF, which incorporated SILK from Skype and CELT from Xiph.org, to serve higher sound quality and lower latency at the same bitrate.",spec:"http://tools.ietf.org/html/rfc6716",status:"other",links:[{url:"https://hacks.mozilla.org/2012/07/firefox-beta-15-supports-the-new-opus-audio-format/",title:"Introduction of Opus by Mozilla"},{url:"http://www.ietf.org/mail-archive/web/rtcweb/current/msg04953.html",title:"Google's statement about the use of VP8 and Opus codec for WebRTC standard"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"u"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"Chrome does not support Opus by default but users can enable it via the 'enable-opus-playback' flag. When it comes to Opera, it is said that the Linux version may be able to play it when the GStreamer module is up to date and the served mime-type is 'audio/ogg'.",usage_perc_y:14.04,usage_perc_a:0,ucprefix:!1,parent:"audio",keywords:""},jpegxr:{title:"JPEG XR image format",description:"The latest JPEG image format of Joint Photographic Experts Group which boasts better compression and supports lossless compression, alpha channel, and 48-bit deep color over normal jpg format.",spec:"http://www.itu.int/rec/T-REC-T.832",status:"other",links:[{url:"http://msdn.microsoft.com/en-us/library/windows/desktop/hh707223(v=vs.85).aspx",title:"Microsoft JPEG XR Codec Overview"}],categories:["Other"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"n",31:"n",32:"n"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"n",7:"n"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"n"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:16.32,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""},"channel-messaging":{title:"Channel messaging",description:"Method for having two-way communication between browsing contexts (using MessageChannel)",spec:"http://www.w3.org/TR/webmessaging/#channel-messaging",status:"cr",links:[{url:"http://dev.opera.com/articles/view/window-postmessage-messagechannel/#channel",title:"An Introduction to HTML5 web messaging"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"y",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"u","10.0-10.1":"u",10.5:"u",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"y","6.0-6.1":"y","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"u",11:"y",11.1:"y",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:55.07,usage_perc_a:0,ucprefix:!1,parent:"x-doc-messaging",keywords:""},"css3-tabsize":{title:"CSS3 tab-size",description:"Method of customizing the width of a tab character. Only effective using 'white-space: pre'.",spec:"http://www.w3.org/TR/css3-text/#tab-size1",status:"wd",links:[{url:"https://developer.mozilla.org/en-US/docs/Web/CSS/tab-size",title:"MDN article"}],categories:["CSS3"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"y x",11:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12:"y x",12.1:"y x",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y x",11.1:"y x",11.5:"y x",12:"y x",12.1:"y x",0:"y"},and_chr:{0:"y"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"",usage_perc_y:53.05,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"tab-size,tab-width"},mutationobserver:{title:"Mutation Observer",description:"Method for observing and reacting to changes to the DOM. Replaces MutationEvents, which is deprecated.",spec:"http://www.w3.org/TR/dom/",status:"wd",links:[{url:"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver",title:"MutationObserver from MDN"},{url:"https://github.com/Polymer/MutationObservers",title:"Polyfill"}],categories:["DOM","JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"p",10:"p",11:"y"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"y x",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"y x","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"p",4.1:"p","4.2-4.3":"p",4.4:"y"},bb:{7:"n",10:"y x"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"p"}},notes:"When the content of a node with a single CharacterData child node is changed by innerHTML attribute and the node have a single different one as a result, WebKit browsers consider it as a characterData mutation of the child CharacterData node, while other browsers think it as a childList mutation of the parent node.",usage_perc_y:54.8,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"MutationObserver"},"css-selection":{title:"::selection CSS pseudo-element",description:"The ::selection CSS pseudo-element applies rules to the portion of a document that has been highlighted (e.g., selected with the mouse or another pointing device) by the user.",spec:"https://developer.mozilla.org/en-US/docs/Web/CSS/::selection",status:"unoff",links:[{url:"http://docs.webplatform.org/wiki/css/selectors/pseudo-elements/::selection",title:"WebPlatform Docs"},{url:"http://quirksmode.org/css/selectors/selection.html",title:"::selection test"}],categories:["CSS"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y"},firefox:{2:"y x",3:"y x",3.5:"y x",3.6:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y"},safari:{3.1:"y",3.2:"y",4:"y",5:"y",5.1:"y",6:"y",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11:"y",11.1:"y",11.5:"y",11.6:"y",12:"y",12.1:"y",15:"y",16:"y",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"u",11:"u",11.1:"u",11.5:"y",12:"y",12.1:"y",0:"y"},and_chr:{0:"y"},and_ff:{0:"n"},ie_mob:{10:"y"}},notes:"",usage_perc_y:71.68,usage_perc_a:0,ucprefix:!1,parent:"",keywords:"::selection,selection"},"canvas-blending":{title:"Canvas blend modes",description:"Method of defining the effect resulting from overlaying two layers on a Canvas element. ",spec:"http://www.w3.org/TR/compositing-1/#blending",status:"wd",links:[{url:"http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/",title:"Blog post"}],categories:["Canvas"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"n",29:"n",30:"y",31:"y",32:"y"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"y",7:"y"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"y",18:"y"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"y"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"y"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"n"},and_chr:{0:"y"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:"",usage_perc_y:42.33,usage_perc_a:0,ucprefix:!1,parent:"canvas",keywords:""},clipboard:{title:"Clipboard API",description:"API to provide copy, cut and paste functionality using the OS clipboard.",spec:"http://www.w3.org/TR/clipboard-apis/",status:"wd",links:[{url:"http://www.deluxeblogtips.com/2010/06/javascript-copy-to-clipboard.html",title:"Blog post on cross-browser usage"},{url:"https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent",title:"MDN page on ClipboardEvent"}],categories:["JS API"],stats:{ie:{5.5:"a #1",6:"a #1",7:"a #1",8:"a #1",9:"a #1",10:"a #1",11:"a #1"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a"},safari:{3.1:"u",3.2:"u",4:"a",5:"a",5.1:"a",6:"a",6.1:"a",7:"a"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"a",17:"a",18:"a"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"a","6.0-6.1":"a","7.0":"a"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"a"},bb:{7:"n",10:"a"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"a"},and_chr:{0:"a"},and_ff:{0:"y"},ie_mob:{10:"n"}},notes:'Partial support in IE refers using <a href="http://msdn.microsoft.com/en-us/library/ie/ms535220%28v=vs.85%29.aspx">a non-standard method</a> of interacting with the clipboard. For other browsers it refers to not supporting the ClipboardEvent constructor.',usage_perc_y:12.83,usage_perc_a:67.91,ucprefix:!1,parent:"",keywords:"cut,copy,paste,clipboarddata"},rtcpeerconnection:{title:"WebRTC Peer-to-peer connections",description:"Method of allowing two users to communicate directly, browser to browser using the RTCPeerConnection API.",spec:"http://www.w3.org/TR/webrtc/#peer-to-peer-connections",status:"wd",links:[{url:"http://www.webrtc.org/",title:"WebRTC Project site"}],categories:["JS API"],stats:{ie:{5.5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n"},firefox:{2:"n",3:"n",3.5:"n",3.6:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x"},safari:{3.1:"n",3.2:"n",4:"n",5:"n",5.1:"n",6:"n",6.1:"u",7:"u"},opera:{9:"n","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11:"n",11.1:"n",11.5:"n",11.6:"n",12:"n",12.1:"n",15:"n",16:"n",17:"n",18:"n"},ios_saf:{3.2:"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0":"n"},op_mini:{"5.0-7.0":"n"},android:{2.1:"n",2.2:"n",2.3:"n",3:"n",4:"n",4.1:"n","4.2-4.3":"n",4.4:"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",11.1:"n",11.5:"n",12:"n",12.1:"n",0:"y x"},and_chr:{0:"y x"},and_ff:{0:"y x"},ie_mob:{10:"n"}},notes:"BlackBerry 10 recognizes RTCPeerConnection but real support is unconfirmed.",usage_perc_y:46.24,usage_perc_a:0,ucprefix:!1,parent:"",keywords:""}}}},{}],36:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){this.options=s.extend({offset:0},t),this.source=e,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function r(e,t,n){this.parent=e,this._name=t.value,this._value=n?n.value:"",this._positions={name:t.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var o=e("../assets/range"),s=e("../utils/common"),a=e("../vendor/klass");return i.extend=a.extend,i.prototype={type:"container",initialize:function(){},_pos:function(e,t){return e+(t?this.options.offset:0)},_updateSource:function(e,t,n){var i=o.create(t,void 0===n?0:n-t),r=e.length-i.length(),a=function(e){Object.keys(e).forEach(function(t){e[t]>=i.end&&(e[t]+=r)})};a(this._positions);var l=function(e){e.forEach(function(e){a(e._positions),"container"==e.type&&l(e.list())})};l(this.list()),this.source=s.replaceSubstring(this.source,e,i)},add:function(e,t,n){var i=new r(e,t);return this._children.push(i),i},get:function(e){return"number"==typeof e?this.list()[e]:"string"==typeof e?s.find(this.list(),function(t){return t.name()===e}):e},getAll:function(e){Array.isArray(e)||(e=[e]);var t=[],n=[];return e.forEach(function(e){"string"==typeof e?t.push(e):"number"==typeof e&&n.push(e)}),this.list().filter(function(e,i){return~n.indexOf(i)||~t.indexOf(e.name())})},list:function(){return this._children},remove:function(e){var t=this.get(e);if(t){this._updateSource("",t.fullRange());var n=this._children.indexOf(t);~n&&this._children.splice(n,1)}},indexOf:function(e){return this.list().indexOf(this.get(e))},value:function(e,t,n){var i=this.get(e);return i?i.value(t):void 0!==t?this.add(e,t,n):void 0},values:function(e){return this.getAll(e).map(function(e){return e.value()})},name:function(e){return void 0!==e&&this._name!==(e=String(e))&&(this._updateSource(e,this._positions.name,this._positions.name+this._name.length),this._name=e),this._name},nameRange:function(e){return o.create(this._positions.name+(e?this.options.offset:0),this.name())},range:function(e){return o.create(e?this.options.offset:0,this.valueOf())},itemFromPosition:function(e,t){return s.find(this.list(),function(n){return n.range(t).inside(e)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},r.extend=a.extend,r.prototype={type:"element",initialize:function(){},_pos:function(e,t){return e+(t?this.parent.options.offset:0)},value:function(e){return void 0!==e&&this._value!==(e=String(e))&&(this.parent._updateSource(e,this.valueRange()),this._value=e),this._value},name:function(e){return void 0!==e&&this._name!==(e=String(e))&&(this.parent._updateSource(e,this.nameRange()),this._name=e),this._name},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.value,e)},range:function(e){return o.create(this.namePosition(e),this.valueOf())},fullRange:function(e){return this.range(e)},nameRange:function(e){return o.create(this.namePosition(e),this.name())},valueRange:function(e){return o.create(this.valuePosition(e),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:i,EditElement:r,createToken:function(e,t,n){var i={start:e||0,value:t||"",type:n};return i.end=i.start+i.value.length,i}}})},{"../assets/range":30,"../utils/common":73,"../vendor/klass":78}],37:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){n=n||v|b,t=e.substring(t);var i;return n&v&&(i=t.match(m))&&(e.start+=i[0].length),n&b&&(i=t.match(g))&&(e.end-=i[0].length),e.end<e.start&&(e.end=e.start),e}function r(e,t){var n,r,o,s=e.current();if(!s)return null;for(var a={white:1,line:1,comment:1};(s=e.current())&&s.type in a;)e.next();if(!e.hasNext())return null;s=e.current(),n=h(s.start,s.value);for(var l="@"==s.value.charAt(0);s=e.next();)if(n.end=s.end,":"==s.type||"white"==s.type){if(n.end=s.start,e.next(),":"==s.type||l)break}else if(";"==s.type||"line"==s.type){n.end=s.start,r=h(s.start,0),e.next();break}if(s=e.current(),!r&&s){"line"==s.type&&(c=s),r=h(s.start,s.value);for(var c;s=e.next();)if(r.end=s.end,"line"==s.type)c=s;else{if("}"==s.type||";"==s.type){r.end=s.start,";"==s.type&&(o=h(s.start,s.value)),e.next();break}if(":"==s.type&&c){r.end=c.start,e._i=e.tokens.indexOf(c);break}}}return r||(r=h(n.end,0)),{name:i(n,t),value:i(r,t,v|(o?b:0)),end:o||h(r.end,0)}}function o(e){var t,n=f.create(e),i=[],r=/[\s\u00a0,;]/,o=function(){n.next(),i.push(h(n.start,n.current())),n.start=n.pos};for(n.eatSpace(),n.start=n.pos;t=n.next();)if('"'==t||"'"==t){if(n.next(),!n.skipTo(t))break;o()}else if("("==t){if(n.backUp(1),!n.skipToPair("(",")"))break;n.backUp(1),o()}else r.test(t)&&(i.push(h(n.start,n.current().length-1)),n.eatWhile(r),n.start=n.pos);return o(),l.unique(i.filter(function(e){return!!e.length()}))}function s(e,t,n){a(t,n).forEach(function(t){e._children.push(new w(e,c.createToken(t.name.start,t.nameText),c.createToken(t.value.start,t.valueText),c.createToken(t.end.start,t.endText)))})}function a(e,t){t=t||0;var n=[];if(!(e=e.replace(g,"")))return n;for(var i,o=u.parse(e),s=d.create(o);i=r(s,e);)n.push({nameText:i.name.substring(e),name:i.name.shift(t),valueText:i.value.substring(e),value:i.value.shift(t),endText:i.end.substring(e),end:i.end.shift(t)});return n}var l=e("../utils/common"),c=e("./base"),u=e("../parser/css"),p=e("../utils/cssSections"),h=e("../assets/range"),f=e("../assets/stringStream"),d=e("../assets/tokenIterator"),y={styleBefore:"\n\t",styleSeparator:": ",offset:0},m=/^\s+/,g=/\s+$/,v=1,b=2,x=c.EditContainer.extend({initialize:function(e,t){l.extend(this.options,y,t),Array.isArray(e)&&(e=u.toSource(e));var n=p.findAllRules(e),i=n.shift(),r=[];n.forEach(function(e){!l.find(r,function(t){return t.contains(e)})&&r.push(e)});var o=h.create2(i.start,i._selectorEnd);this._name=o.substring(e),this._positions.name=o.start,this._positions.contentStart=i._contentStart+1;var a=i._contentStart+1,c=(i.end,this);r.forEach(function(t){s(c,e.substring(a,t.start),a);l.extend({},c.options,{offset:t.start+c.options.offset});a=t.end}),s(this,e.substring(a,i.end-1),a),this._saveStyle()},_saveStyle:function(){var e=this._positions.contentStart,t=this.source;this.list().forEach(function(n){if("container"!==n.type){n.styleBefore=t.substring(e,n.namePosition());var i=l.splitByLines(n.styleBefore);i.length>1&&(n.styleBefore="\n"+i[i.length-1]),n.styleSeparator=t.substring(n.nameRange().end,n.valuePosition());var r=n.styleBefore.split("*/");n.styleBefore=r[r.length-1],n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),e=n.range().end}})},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.contentStart,e)},valueRange:function(e){return h.create2(this.valuePosition(e),this._pos(this.valueOf().length,e)-1)},add:function(e,t,n){var i=this.list(),r=this._positions.contentStart,o=l.pick(this.options,"styleBefore","styleSeparator");void 0===n&&(n=i.length);var s=i[n];s?r=s.fullRange().start:(s=i[n-1])&&(s.end(";"),r=s.range().end),s&&(o=l.pick(s,"styleBefore","styleSeparator"));var a=c.createToken(r+o.styleBefore.length,e),u=c.createToken(a.end+o.styleSeparator.length,t),p=new w(this,a,u,c.createToken(u.end,";"));return l.extend(p,o),this._updateSource(p.styleBefore+p.toString(),r),this._children.splice(n,0,p),p}}),w=c.EditElement.extend({initialize:function(e,t,n,i){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,this._end=i.value,this._positions.end=i.start},valueParts:function(e){var t=o(this.value());if(e){var n=this.valuePosition(!0);t.forEach(function(e){e.shift(n)})}return t},value:function(e){var t=void 0!==e,n=this.parent.list();if(t&&this.isIncomplete()){var i=this,r=l.find(n,function(e){return e!==i&&!e.isIncomplete()});this.styleSeparator=r?r.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,h(this.valueRange().start,0))}var o=this.constructor.__super__.value.apply(this,arguments);if(t){n.indexOf(this)===n.length-1||this.end()||this.end(";")}return o},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(e){return void 0!==e&&this._end!==e&&(this.parent._updateSource(e,this._positions.end,this._positions.end+this._end.length),this._end=e),this._end},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(e,t){return new x(e,t)},parseFromPosition:function(e,t,n){var i=p.locateRule(e,t,n);return i&&i.inside(t)?this.parse(i.substring(e),{offset:i.start}):null},propertyFromPosition:function(e,t){var n=null,i="string"==typeof e?this.parseFromPosition(e,t,!0):e;return i&&((n=i.itemFromPosition(t,!0))||(n=l.find(i.list(),function(e){return e.range(!0).end==t}))),n},baseName:function(e){return e.replace(/^\s*\-\w+\-/,"")},findParts:o,extractPropertiesFromSource:a}})},{"../assets/range":30,"../assets/stringStream":32,"../assets/tokenIterator":34,"../parser/css":56,"../utils/common":73,"../utils/cssSections":74,"./base":36}],38:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("./base"),r=e("../parser/xml"),o=e("../assets/range"),s=e("../utils/common"),a={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},l=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,c=i.EditContainer.extend({initialize:function(e,t){s.defaults(this.options,a),this._positions.name=1;var n=null;r.parse(e).forEach(function(t){switch(t.value=o.create(t).substring(e),t.type){case"tag":/^<[^\/]+/.test(t.value)&&(this._name=t.value.substring(1));break;case"attribute":n&&this._children.push(new u(this,n)),n=t;break;case"string":this._children.push(new u(this,n,t)),n=null}},this),n&&this._children.push(new u(this,n)),this._saveStyle()},_saveStyle:function(){var e=this.nameRange().end,t=this.source;this.list().forEach(function(n){n.styleBefore=t.substring(e,n.namePosition()),-1!==n.valuePosition()&&(n.styleSeparator=t.substring(n.namePosition()+n.name().length,n.valuePosition()-n.styleQuote.length)),e=n.range().end})},add:function(e,t,n){var r=this.list(),o=this.nameRange().end,a=s.pick(this.options,"styleBefore","styleSeparator","styleQuote");void 0===n&&(n=r.length);var l=r[n];l?o=l.fullRange().start:(l=r[n-1])&&(o=l.range().end),l&&(a=s.pick(l,"styleBefore","styleSeparator","styleQuote")),t=a.styleQuote+t+a.styleQuote;var c=new u(this,i.createToken(o+a.styleBefore.length,e),i.createToken(o+a.styleBefore.length+e.length+a.styleSeparator.length,t));return s.extend(c,a),this._updateSource(c.styleBefore+c.toString(),o),this._children.splice(n,0,c),c},addClass:function(e){var t=this.get("class");if(e=s.trim(e),!t)return this.add("class",e);var n=t.value();~(" "+n.replace(/\n/g," ")+" ").indexOf(" "+e+" ")||t.value(n+" "+e)},removeClass:function(e){var t=this.get("class");if(e=s.trim(e),t){var n=new RegExp("(^|\\s+)"+s.escapeForRegexp(e)),i=t.value().replace(n,"");s.trim(i)?t.value(i):this.remove("class")}}}),u=i.EditElement.extend({initialize:function(e,t,n){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator;var i="",r=e.options.styleQuote;n&&('"'==(r=(i=n.value).charAt(0))||"'"==r?i=i.substring(1):r="",r&&i.charAt(i.length-1)==r&&(i=i.substring(0,i.length-1))),this.styleQuote=r,this._value=i,this._positions.value=n?n.start+r.length:-1},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(e,t){return new c(e,t)},parseFromPosition:function(e,t,n){var i=this.extractTag(e,t,n);return i&&i.inside(t)?this.parse(i.substring(e),{offset:i.start}):null},extractTag:function(e,t,n){var i,r=e.length,s=Math.min(2e3,r),a=null,c=function(t){var n;if("<"==e.charAt(t)&&(n=e.substr(t,s).match(l)))return o.create(t,n[0])};for(i=t;i>=0&&!(a=c(i));i--);if(a&&(a.inside(t)||n))return a;if(!a&&n)return null;for(i=t;i<r;i++)if(a=c(i))return a}}})},{"../assets/range":30,"../parser/xml":62,"../utils/common":73,"./base":36}],39:[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(e){module.exports=e(require,exports,module)};define(function(require,exports,module){function getFileName(e){var t=/([\w\.\-]+)$/i.exec(e);return t?t[1]:""}function normalizeProfile(e){return"object"==typeof e&&("indent"in e&&(e.indent=!!e.indent),"self_closing_tag"in e&&"number"==typeof e.self_closing_tag&&(e.self_closing_tag=!!e.self_closing_tag)),e}var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;return{expandAbbreviation:function(e,t,n,i){return parser.expand(e,{syntax:t,profile:n,contextNode:i})},run:function(e){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(e){var t=file.getExt(e);return"json"===t||"js"===t});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(e){preferences.load(utils.parseJSON(e))},loadSnippets:function(e){e=utils.parseJSON(e);var t=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(t,e),"user")},loadSystemSnippets:function(e){resources.setVocabulary(utils.parseJSON(e),"system")},loadCIU:function(e){ciu.load(utils.parseJSON(e))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(e){(e=utils.parseJSON(e)).snippets&&this.loadSnippets(e.snippets),e.preferences&&this.loadPreferences(e.preferences),e.profiles&&this.loadProfiles(e.profiles),e.caniuse&&this.loadCIU(e.caniuse);var t=e.syntaxProfiles||e.syntaxprofiles;t&&this.loadSyntaxProfiles(t)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(e){e=utils.parseJSON(e);var t={};Object.keys(e).forEach(function(n){var i=e[n];n in t||(t[n]={}),t[n].profile=normalizeProfile(i)}),this.loadSnippets(t)},loadProfiles:function(e){e=utils.parseJSON(e),Object.keys(e).forEach(function(t){profile.create(t,normalizeProfile(e[t]))})},require:require,actions:actions,file:file,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":12,"./assets/caniuse":23,"./assets/htmlMatcher":26,"./assets/logger":27,"./assets/preferences":28,"./assets/profile":29,"./assets/resources":31,"./assets/tabStops":33,"./parser/abbreviation":55,"./plugin/file":63,"./utils/action":70,"./utils/common":73,"./utils/editor":75}],40:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(){return{element:l.get("bem.elementSeparator"),modifier:l.get("bem.modifierSeparator")}}function r(e){if(c.isSnippet(e))return e;e.__bem={block:"",element:"",modifier:""};var t=function(e){e=(" "+(e||"")+" ").replace(/\s+/g," ");var t=l.get("bem.shortElementPrefix");if(t){var n=new RegExp("\\s("+u.escapeForRegexp(t)+"+)","g");e=e.replace(n,function(e,t){return" "+u.repeatString(i().element,t.length)})}return u.trim(e)}(e.attribute("class")).split(" "),n=/^[a-z]\-/i;return e.__bem.block=u.find(t,function(e){return n.test(e)}),e.__bem.block||(n=/^[a-z]/i,e.__bem.block=u.find(t,function(e){return n.test(e)})||""),t=t.map(function(t){return function(e,t){e=o(e=o(e,t,"element"),t,"modifier");var n="",r="",s="",a=i();if(~e.indexOf(a.element)){var l=e.split(a.element);n=l.shift();var c=l.pop().split(a.modifier);l.push(c.shift()),r=l.join(a.element),s=c.join(a.modifier)}else if(~e.indexOf(a.modifier)){var u=e.split(a.modifier);n=u.shift(),s=u.join(a.modifier)}if(n||r||s){n||(n=t.__bem.block);var p=n,h=[];return r?(p+=a.element+r,h.push(p)):h.push(p),s&&h.push(p+a.modifier+s),t.__bem.block=n,t.__bem.element=r,t.__bem.modifier=s,h}return e}(t,e)}),(t=u.unique(u.flatten(t)).join(" "))&&e.attribute("class",t),e}function o(e,t,n){var r=i(),o=new RegExp("^("+r[n]+")+","g");if(o.test(e)){for(var s=0,a=e.replace(o,function(e){return s=e.length/r[n].length,""}),l=t;l.parent&&s--;)l=l.parent;if(l&&l.__bem||(l=t),l&&l.__bem){var c=l.__bem.block;return"modifier"==n&&l.__bem.element&&(c+=r.element+l.__bem.element),c+r[n]+a}}return e}function s(e,t){return e.name&&r(e),e.children.forEach(function(e){s(e,t),!c.isSnippet(e)&&e.start&&(p=!0)}),e}var a=e("./html"),l=e("../assets/preferences"),c=e("../utils/abbreviation"),u=e("../utils/common");l.define("bem.elementSeparator","__","Class names element separator."),l.define("bem.modifierSeparator","_","Class names modifier separator."),l.define("bem.shortElementPrefix","-","Symbol for describing short block-element notation. Class names prefixed with this symbol will be treated as element name for parents block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var p=!1;return function(e,t){return p=!1,e=s(e,t),p&&(e=a(e,t)),e}})},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"./html":46}],41:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){return e.children.forEach(function(e){a.isBlock(e)&&function(e,t,n){var i=r.get("filter.commentTrigger");if("*"!=i&&!o.find(i.split(","),function(t){return!!e.attribute(o.trim(t))}))return;var s={node:e,name:e.name(),padding:e.parent?e.parent.padding:"",attr:function(t,n,i){var r=e.attribute(t);return r?(n||"")+r+(i||""):""}},a=t?t(s):"",l=n?n(s):"";e.start=e.start.replace(/</,a+"<"),e.end=e.end.replace(/>/,">"+l)}(e,t,n),i(e,t,n)}),e}var r=e("../assets/preferences"),o=e("../utils/common"),s=e("../utils/template"),a=e("../utils/abbreviation");e("./main");return r.define("filter.commentAfter",'\n\x3c!-- /<%= attr("id", "#") %><%= attr("class", ".") %> --\x3e',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code>  a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code>  current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code>  name of current tag</li><li><code>padding</code>  current string padding, can be used for formatting</li></ul>"),r.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),r.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),function(e){return i(e,s(r.get("filter.commentBefore")),s(r.get("filter.commentAfter")))}})},{"../assets/preferences":28,"../utils/abbreviation":69,"../utils/common":73,"../utils/template":77,"./main":49}],42:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){return function e(t,n,i){return i=i||0,t.children.forEach(function(t){(function(e){return e.parent&&!e.parent.parent&&!e.index()})(t)||!1===n.tag_nl||(t.start="\n"+t.start),e(t,n,i+1)}),t}})},{}],43:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return e.replace(/([<>&])/g,function(e,t){return r[t]})}var r={"<":"&lt;",">":"&gt;","&":"&amp;"};return function e(t){return t.children.forEach(function(t){t.start=i(t.start),t.end=i(t.end),t.content=i(t.content),e(t)}),t}})},{}],44:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return e.parent&&!e.parent.parent&&!e.index()}function r(e,t){return!(!0!==t.tag_nl&&!l.isBlock(e))||!(!e.parent||!t.inline_break)&&o(e.parent,t)}function o(e,t){var n=0;return!!a.find(e.children,function(e){if(e.isTextNode()||!l.isInline(e)?n=0:l.isInline(e)&&n++,n>=t.inline_break)return!0})}function s(e,t){e.start=e.end=u;var n=l.isUnary(e),s="\n",a=function(e){return~(c.getArray("format.noIndentTags")||[]).indexOf(e.name())?"":"\t"}(e);if(!1!==t.tag_nl){var p=!0===t.tag_nl&&(t.tag_nl_leaf||e.children.length);if(!p){p=~(c.getArray("format.forceIndentationForTags")||[]).indexOf(e.name())}e.isTextNode()||(r(e,t)?(i(e)||l.isSnippet(e.parent)&&!e.index()||(e.start=s+e.start),(l.hasBlockChildren(e)||function(e,t){return e.children.length&&r(e.children[0],t)}(e,t)||p&&!n)&&(e.end=s+e.end),(l.hasTagsInContent(e)||p&&!e.children.length&&!n)&&(e.start+=s+a)):l.isInline(e)&&function(e){return e.parent&&l.hasBlockChildren(e.parent)}(e)&&!i(e)?e.start=s+e.start:l.isInline(e)&&function(e,t){return!!e.children.some(function(e){return!l.isSnippet(e)&&!l.isInline(e)})||o(e,t)}(e,t)&&(e.end=s+e.end),e.padding=a)}return e}var a=e("../utils/common"),l=e("../utils/abbreviation"),c=e("../assets/preferences");e("../assets/resources");c.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),c.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var u="%s";return function e(t,n,o){return o=o||0,t.children.forEach(function(t){l.isSnippet(t)?function(e,t){e.start=e.end="",!i(e)&&!1!==t.tag_nl&&r(e,t)&&(!function(e){return!e.parent}(e.parent)&&l.isInline(e.parent)||(e.start="\n"+e.start))}(t,n):s(t,n),e(t,n,o+1)}),t}})},{"../assets/preferences":28,"../assets/resources":31,"../utils/abbreviation":69,"../utils/common":73}],45:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){var n=t.attributeQuote();return"{"+e.map(function(e){var r=n+e.value+n;return Array.isArray(e.value)?r=i(e.value,t):e.isBoolean&&(r="true"),":"+e.name+" => "+r}).join(", ")+"}"}function r(e,t){var n="",r=[],s=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var i=t.attributeName(e.name);switch(i.toLowerCase()){case"id":n+="#"+(e.value||s);break;case"class":n+="."+function(e){return o.trim(e).replace(/\s+/g,".")}(e.value||s);break;default:r.push({name:i,value:e.value||s,isBoolean:t.isBoolean(e.name,e.value)})}}),r.length&&(n+=i(function(e){var t=[],n=null,i=/^data-/i;return e.forEach(function(e){i.test(e.name)?(n||(n=[],t.push({name:"data",value:n})),n.push(o.extend({},e,{name:e.name.replace(i,"")}))):t.push(e)}),t}(r),t)),n}var o=e("../utils/common"),s=e("../utils/abbreviation"),a=e("./format");return function e(t,n,i){return(i=i||0)||(t=a(t,"_format",n)),t.children.forEach(function(t){s.isSnippet(t)||function(e,t){if(!e.parent)return e;var n=r(e,t),i=t.cursor(),a=s.isUnary(e),l=t.self_closing_tag&&a?"/":"",c="",u="%"+t.tagName(e.name());"%div"==u.toLowerCase()&&n&&-1==n.indexOf("{")&&(u=""),e.end="",c=u+n+l,e.content&&!/^\s/.test(e.content)&&(e.content=" "+e.content),e.start=o.replaceSubstring(e.start,c,e.start.indexOf("%s"),"%s"),e.children.length||a||(e.start+=i)}(t,n),e(t,n,i+1)}),t}})},{"../utils/abbreviation":69,"../utils/common":73,"./format":44}],46:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/abbreviation"),r=e("../utils/common"),o=e("../assets/tabStops"),s=e("./format");return function e(t,n,a){return(a=a||0)||(t=s(t,n,a)),t.children.forEach(function(t){i.isSnippet(t)||function(e,t){if(!e.parent)return e;var n=function(e,t){var n=t.attributeQuote(),i=t.cursor();return e.attributeList().map(function(e){var r=t.isBoolean(e.name,e.value),o=t.attributeName(e.name),s=r?o:e.value;return r&&t.allowCompactBoolean()?" "+o:" "+o+"="+n+(s||i)+n}).join("")}(e,t),s=t.cursor(),a=i.isUnary(e),l="",c="";if(!e.isTextNode()){var u=t.tagName(e.name());a?(l="<"+u+n+t.selfClosing()+">",e.end=""):(l="<"+u+n+">",c="</"+u+">")}e.start=r.replaceSubstring(e.start,l,e.start.indexOf("%s"),"%s"),e.end=r.replaceSubstring(e.end,c,e.end.indexOf("%s"),"%s"),e.children.length||a||~e.content.indexOf(s)||o.extract(e.content).tabstops.length||(e.start+=s)}(t,n),e(t,n,a+1)}),t}})},{"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],47:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){var n="",i=[],r=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var s=t.attributeName(e.name);switch(s.toLowerCase()){case"id":n+="#"+(e.value||r);break;case"class":n+="."+function(e){return o.trim(e).replace(/\s+/g,".")}(e.value||r);break;default:i.push({name:s,value:e.value||r,isBoolean:t.isBoolean(e.name,e.value)})}}),i.length&&(n+=function(e,t){var n=t.attributeQuote();return"("+e.map(function(e){return e.isBoolean?e.name:e.name+"="+n+e.value+n}).join(", ")+")"}(i,t)),n}function r(e,t){if(!e.parent)return e;var n=i(e,t),r=t.cursor(),a=s.isUnary(e),c=t.tagName(e.name());"div"==c.toLowerCase()&&n&&"("!=n.charAt(0)&&(c=""),e.end="";var f=c+n;!function(e){if(e.content){var t=l.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});u.test(t)&&!p.test(t)?e.content="\n| "+o.padString(t,"| "):h.test(t)||(e.content=" "+t)}}(e);return e.start=o.replaceSubstring(e.start,f,e.start.indexOf("%s"),"%s"),e.children.length||a||(e.start+=r),e}var o=e("../utils/common"),s=e("../utils/abbreviation"),a=e("./format"),l=e("../assets/tabStops"),c=e("../assets/profile"),u=/[\n\r]/,p=/^\s*\|/,h=/^\s/;return function e(t,n,i){return(i=i||0)||(t=a(t,c.get("xml"))),t.children.forEach(function(t){s.isSnippet(t)||r(t,n),e(t,n,i+1)}),t}})},{"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],48:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i={class:"className",for:"htmlFor"};return function e(t){return t.children.forEach(function(t){t._attributes.forEach(function(e){e.name in i&&(e.name=i[e.name])}),e(t)}),t}})},{}],49:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return e?"string"==typeof e?e.split(/[\|,]/g):e:[]}var r=e("../utils/common"),o=e("../assets/profile"),s=e("../assets/resources"),a={html:e("./html"),haml:e("./haml"),jade:e("./jade"),jsx:e("./jsx"),slim:e("./slim"),xsl:e("./xsl"),css:e("./css"),bem:e("./bem"),c:e("./comment"),e:e("./escape"),s:e("./singleLine"),t:e("./trim")};return{add:function(e,t){a[e]=t},apply:function(e,t,n){return n=o.get(n),i(t).forEach(function(t){var i=r.trim(t.toLowerCase());i&&i in a&&(e=a[i](e,n))}),e},composeList:function(e,t,n){var r=i((t=o.get(t)).filters||s.findItem(e,"filters")||"html");return t.extraFilters&&(r=r.concat(i(t.extraFilters))),n&&(r=r.concat(i(n))),r&&r.length||(r=i("html")),r},extract:function(e){var t="";return e=e.replace(/\|([\w\|\-]+)$/,function(e,n){return t=n,""}),[e,i(t)]}}})},{"../assets/profile":29,"../assets/resources":31,"../utils/common":73,"./bem":40,"./comment":41,"./css":42,"./escape":43,"./haml":45,"./html":46,"./jade":47,"./jsx":48,"./singleLine":50,"./slim":51,"./trim":52,"./xsl":53}],50:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/abbreviation"),r=/^\s+/,o=/[\n\r]/g;return function e(t){return t.children.forEach(function(t){i.isSnippet(t)||(t.start=t.start.replace(r,""),t.end=t.end.replace(r,"")),t.start=t.start.replace(o,""),t.end=t.end.replace(o,""),t.content=t.content.replace(o,""),e(t)}),t}})},{"../utils/abbreviation":69}],51:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){var n=t.attributeQuote(),i=function(){var e=" ",t="";switch(u.get("slim.attributesWrapper")){case"round":e="(",t=")";break;case"square":e="[",t="]";break;case"curly":e="{",t="}"}return{start:e,end:t}}();return i.start+e.map(function(e){var t=n+e.value+n;if(e.isBoolean){if(i.end)return e.name;t="true"}return e.name+"="+t}).join(" ")+i.end}function r(e,t){var n="",r=[],o=(t.attributeQuote(),t.cursor());return e.attributeList().forEach(function(e){var i=t.attributeName(e.name);switch(i.toLowerCase()){case"id":n+="#"+(e.value||o);break;case"class":n+="."+function(e){return s.trim(e).replace(/\s+/g,".")}(e.value||o);break;default:r.push({name:i,value:e.value||o,isBoolean:t.isBoolean(e.name,e.value)})}}),r.length&&(n+=i(r,t)),n}function o(e,t){if(!e.parent)return e;var n=r(e,t),i=t.cursor(),o=a.isUnary(e),l=t.self_closing_tag&&o?"/":"",u=t.tagName(e.name());"div"==u.toLowerCase()&&n&&-1=="([{".indexOf(n.charAt(0))&&(u=""),e.end="";var p=u+n+l;!function(e){if(e.content){var t=c.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});h.test(t)&&!f.test(t)?e.content="\n| "+s.padString(t,"  "):d.test(t)||(e.content=" "+t)}}(e);return e.start=s.replaceSubstring(e.start,p,e.start.indexOf("%s"),"%s"),e.children.length||o||(e.start+=i),e}var s=e("../utils/common"),a=e("../utils/abbreviation"),l=e("./format"),c=e("../assets/tabStops"),u=e("../assets/preferences"),p=e("../assets/profile"),h=/[\n\r]/,f=/^\s*\|/,d=/^\s/;return u.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code>  no wrapping;</li><li><code>round</code>  wrap attributes with round braces;</li><li><code>square</code>  wrap attributes with round braces;</li><li><code>curly</code>  wrap attributes with curly braces.</li></ul>"),function e(t,n,i){return(i=i||0)||(t=l(t,p.get("xml"))),t.children.forEach(function(t){a.isSnippet(t)||o(t,n),e(t,n,i+1)}),t}})},{"../assets/preferences":28,"../assets/profile":29,"../assets/tabStops":33,"../utils/abbreviation":69,"../utils/common":73,"./format":44}],52:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){return e.children.forEach(function(e){e.content&&(e.content=e.content.replace(t,"")),i(e,t)}),e}var r=e("../assets/preferences");return r.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),function(e){return i(e,new RegExp(r.get("filter.trimRegexp")))}})},{"../assets/preferences":28}],53:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/abbreviation"),r={"xsl:variable":1,"xsl:with-param":1};return function e(t){return t.children.forEach(function(t){!i.isSnippet(t)&&(t.name()||"").toLowerCase()in r&&t.children.length&&function(e){e.start=e.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}(t),e(t)}),t}})},{"../utils/abbreviation":69}],54:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){return Math.round(Math.random()*(t-e)+e)}function r(e,t){for(var n=e.length,r=Math.min(n,t),o=[];o.length<r;){var s=i(0,n-1);~o.indexOf(s)||o.push(s)}return o.map(function(t){return e[t]})}function o(e,t){return e.length&&(e[0]=e[0].charAt(0).toUpperCase()+e[0].substring(1)),e.join(" ")+(t||function(e){return"string"==typeof e?e.charAt(i(0,e.length-1)):e[i(0,e.length-1)]}("?!..."))}function s(e){var t=e.length;if(!(t<2)){var n=0;n=t>3&&t<=6?i(0,1):t>6&&t<=12?i(0,2):i(1,4);for(var r,o,s=0;s<n;s++)","!==(o=e[r=i(0,e.length-2)]).charAt(o.length-1)&&(e[r]+=",")}}var a=e("../assets/preferences"),l={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},sp:{common:["mujer","uno","dolor","ms","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pao","suntuoso","molde","namibia","planeador","mirar","dems","oficinista","excepcin","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","curum","dignsimo","facilismo","letra","nihilista","expedicin","alma","alveolar","aparte","len","animal","como","paria","belleza","modo","natividad","justo","ataque","squito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asuncin","incidente","marejada","placenta","amanecer","fuga","previsor","presentacin","lejos","necesariamente","sospechoso","adiposidad","quindo","pcima","voluble","dbito","sinti","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mnima","mayores","repugnante","dulce","obcecado","montaa","enigma","total","deletreo","dcima","cbala","fotografa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnfico","distincin","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abada","analfabeto","remo","fugacidad","oficio","en","almcigo","vos","pan","represin","nmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrn","explcito","paloma","sndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apndice","arquitecto","columna","yugo","computador","mula","a","propsito","fantasa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},ru:{common:["-","","",""," ",""," ","","",""],words:[""," ","","",""," ","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","lorem","ipsum","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}};return a.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>\t\tand <code>ru</code> are supported, but users can add their own syntaxes\t\tsee <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),a.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. Lorem ipsum dolor sit amet) from generated text."),{addLang:function(e,t){"string"==typeof t?t={words:t.split(" ").filter(function(e){return!!e})}:Array.isArray(t)&&(t={words:t}),l[e]=t},preprocessor:function(e){var t,n=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,c=!a.get("lorem.omitCommonPart");e.findAll(function(e){if(e._name&&(t=e._name.match(n))){var u=t[2]||30,p=t[1]||a.get("lorem.defaultLang")||"en";e._name="",e.data("forceNameResolving",e.isRepeating()||e.attributeList().length),e.data("pasteOverwrites",!0),e.data("paste",function(e){return function(e,t,n){var a=l[e];if(!a)return"";var c,u=[],p=0;for(t=parseInt(t,10),n&&a.common&&((c=a.common.slice(0,t)).length>5&&(c[4]+=","),p+=c.length,u.push(o(c,".")));p<t;)p+=(c=r(a.words,Math.min(i(2,30),t-p))).length,s(c),u.push(o(c));return u.join(" ")}(p,u,!e&&c)})}})}}})},{"../assets/preferences":28}],55:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function r(e){return e.substring(1,e.length-1)}function o(e){e=y.trim(e);for(var t,n=new i,s=n.addChild(),a=g.create(e),l=1e3,c=function(e){s.addChild(e)},u=function(){a.start=a.pos,a.eatWhile(function(e){if("["==e||"{"==e){if(a.skipToPair(e,E[e]))return a.backUp(1),!0;throw new Error('Invalid abbreviation: mo matching "'+E[e]+'" found for character at '+a.pos)}if("+"==e){a.next();var t=a.eol()||~"+>^*".indexOf(a.peek());return a.backUp(1),t}return"("!=e&&p(e)})};!a.eol()&&--l>0;)switch(a.peek()){case"(":if(a.start=a.pos,!a.skipToPair("(",")"))throw new Error('Invalid abbreviation: mo matching ")" found for character at '+a.pos);var h=o(r(a.current()));(t=a.match(/^\*(\d+)?/,!0))&&s._setRepeat(t[1]),h.children.forEach(c);break;case">":s=s.addChild(),a.next();break;case"+":s=s.parent.addChild(),a.next();break;case"^":var f=s.parent||s;s=(f.parent||f).addChild(),a.next();break;default:u(),s.setAbbreviation(a.current()),a.start=a.pos}if(l<1)throw new Error("Endless loop detected");return n}function s(e){var t=e.charAt(0);if('"'==t||"'"==t){(e=e.substr(1)).charAt(e.length-1)===t&&(e=e.substr(0,e.length-1))}return e}function a(e){var t=/^[\w\-:\$@]+\.?$/;return function(e){e=y.trim(e);for(var t,n=[],i=g(e);t=i.next();)if(" "==t){for(n.push(y.trim(i.current()));" "==i.peek();)i.next();i.start=i.pos}else if(('"'==t||"'"==t)&&!i.skipString(t))throw new Error("Invalid attribute set");return n.push(y.trim(i.current())),n}(e).map(function(e){if(t.test(e)){var n="";return"."==e.charAt(e.length-1)&&(n=e=e.substr(0,e.length-1)),{name:e,value:n}}if(~e.indexOf("=")){var i=e.split("=");return{name:i.shift(),value:s(i.join("="))}}return{name:T,value:s(e)}})}function l(e){var t={};return(e=e.map(function(e){return y.clone(e)})).filter(function(e){if(!(e.name in t))return t[e.name]=e;var n=t[e.name];return"class"==e.name.toLowerCase()?n.value+=(n.value.length?" ":"")+e.value:(n.value=e.value,n.isImplied=!!e.isImplied),!1})}function c(e){for(var t,n,i,r=e.children.length-1;r>=0;r--)if((n=e.children[r]).isRepeating())for(i=t=n.repeatCount,n.repeatCount=1,n.updateProperty("counter",1),n.updateProperty("maxCount",i);--t>0;)n.parent.addChild(n.clone(),r+1).updateProperty("counter",t+1).updateProperty("maxCount",i);return e.children.forEach(c),e}function u(e){for(var t=e.children.length-1;t>=0;t--){var n=e.children[t];n.isGroup()?n.replace(u(n).children):n.isEmpty()&&n.remove()}return e.children.forEach(u),e}function p(e){var t=e.charCodeAt(0);return t>64&&t<91||t>96&&t<123||t>47&&t<58||-1!="#.*:$-_!@|%".indexOf(e)}var h=e("../assets/tabStops"),f=e("../assets/profile"),d=e("../filter/main"),y=e("../utils/common"),m=e("../utils/abbreviation"),g=e("../assets/stringStream"),v=e("../generator/lorem"),b=e("./processor/pastedContent"),x=e("./processor/tagName"),w=e("./processor/resourceMatcher"),_=e("./processor/attributes"),k=e("./processor/href"),S=/^[\w\-\$\:@\!%]+\+?$/i,C=/[\w\-:\$@]/,T="%default",E={"[":"]","(":")","{":"}"},M=Array.prototype.splice,A=[],O=[],L=[];return i.prototype={addChild:function(e,t){return e=e||new i,e.parent=this,void 0===t?this.children.push(e):this.children.splice(t,0,e),e},clone:function(){var e=new i;return["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"].forEach(function(t){e[t]=this[t]},this),e._attributes=this._attributes.map(function(e){return y.extend({},e)}),e._data=y.extend({},this._data),e.children=this.children.map(function(t){return t=t.clone(),t.parent=e,t}),e},remove:function(){if(this.parent){var e=this.parent.children.indexOf(this);~e&&this.parent.children.splice(e,1)}return this},replace:function(){var e=this.parent,t=e.children.indexOf(this),n=y.flatten(arguments);M.apply(e.children,[t,1].concat(n)),n.forEach(function(t){t.parent=e})},updateProperty:function(e,t){return this[e]=t,this.children.forEach(function(n){n.updateProperty(e,t)}),this},find:function(e){return this.findAll(e,{amount:1})[0]},findAll:function(e,t){if(t=y.extend({amount:0,found:0},t||{}),"function"!=typeof e){var n=e.toLowerCase();e=function(e){return e.name().toLowerCase()==n}}var i=[];return this.children.forEach(function(n){e(n)&&(i.push(n),t.found++,t.amount&&t.found>=t.amount)||(i=i.concat(n.findAll(e)))}),i.filter(function(e){return!!e})},data:function(e,t){return 2==arguments.length&&(this._data[e]=t),this._data[e]},name:function(){return this._name},attributeList:function(){return l(this._attributes.slice(0))},attribute:function(e,t){if(2==arguments.length){if(null===t){var n=this;return void this._attributes.filter(function(t){return t.name===e}).forEach(function(e){var t=n._attributes.indexOf(e);~t&&n._attributes.splice(t,1)})}var i=this._attributes.map(function(e){return e.name}).indexOf(e.toLowerCase());~i?this._attributes[i].value=t:this._attributes.push({name:e,value:t})}return(y.find(this.attributeList(),function(t){return t.name==e})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(e){e?this.repeatCount=parseInt(e,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(e){var t=this;e=(e=e||"").replace(/\*(\d+)?$/,function(e,n){return t._setRepeat(n),""}),this.abbreviation=e;var n=function(e){if(!~e.indexOf("{"))return null;for(var t=g.create(e);!t.eol();)switch(t.peek()){case"[":case"(":t.skipToPair(t.peek(),E[t.peek()]);break;case"{":return t.start=t.pos,t.skipToPair("{","}"),{element:e.substring(0,t.start),text:r(t.current())};default:t.next()}}(e);n&&(e=n.element,this.content=this._text=n.text);var i=function(e){for(var t=[],n={"#":"id",".":"class"},i=null,o=g.create(e);!o.eol();)switch(o.peek()){case"#":case".":null===i&&(i=o.pos);var s=n[o.peek()];o.next(),o.start=o.pos,o.eatWhile(C),t.push({name:s,value:o.current()});break;case"[":if(null===i&&(i=o.pos),o.start=o.pos,!o.skipToPair("[","]"))throw new Error("Invalid attribute set definition");t=t.concat(a(r(o.current())));break;default:o.next()}return t.length?{element:e.substring(0,i),attributes:l(t)}:null}(e);if(i&&(e=i.element,this._attributes=i.attributes),this._name=e,this._name&&!S.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var e=this.start,t=this.end,n=this.content,i=this;L.forEach(function(r){e=r(e,i,"start"),n=r(n,i,"content"),t=r(t,i,"end")});var r=this.children.map(function(e){return e.valueOf()}).join("");return n=m.insertChildContent(n,r,{keepVariable:!1}),e+y.padString(n,this.padding)+t},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!y.find(this.children,function(e){return e.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var e=this;e.children.length;)e=e.children[e.children.length-1];return e}},L.push(function(e,t){return y.replaceCounter(e,t.counter,t.maxCount)}),L.push(h.abbrOutputProcessor.bind(h)),[v,w,_,b,x,k].forEach(function(e){e.preprocessor&&A.push(e.preprocessor.bind(e)),e.postprocessor&&O.push(e.postprocessor.bind(e))}),{DEFAULT_ATTR_NAME:T,parse:function(e,t){t=t||{};var n=o(e),i=this;if(t.contextNode){n._name=t.contextNode.name;var r={};n._attributes.forEach(function(e){r[e.name]=e}),t.contextNode.attributes.forEach(function(e){e.name in r?r[e.name].value=e.value:(e=y.clone(e),n._attributes.push(e),r[e.name]=e)})}return A.forEach(function(e){e(n,t,i)}),"counter"in t&&n.updateProperty("counter",t.counter),n=u(c(n)),O.forEach(function(e){e(n,t,i)}),n},expand:function(e,t){if(!e)return"";if("string"==typeof t)throw new Error("Deprecated use of `expand` method: `options` must be object");(t=t||{}).syntax||(t.syntax=y.defaultSyntax());var n=f.get(t.profile,t.syntax);h.resetTabstopIndex();var i=d.extract(e),r=this.parse(i[0],t),o=d.composeList(t.syntax,n,i[1]);return d.apply(r,o,n),r.valueOf()},AbbreviationNode:i,addPreprocessor:function(e){~A.indexOf(e)||A.push(e)},removeFilter:function(e){var t=A.indexOf(e);~t&&A.splice(t,1)},addPostprocessor:function(e){~O.indexOf(e)||O.push(e)},removePostprocessor:function(e){var t=O.indexOf(e);~t&&O.splice(t,1)},addOutputProcessor:function(e){~L.indexOf(e)||L.push(e)},removeOutputProcessor:function(e){var t=L.indexOf(e);~t&&L.splice(t,1)},isAllowedChar:function(e){return e=String(e),p(e)||~">+^[](){}".indexOf(e)}}})},{"../assets/profile":29,"../assets/stringStream":32,"../assets/tabStops":33,"../filter/main":49,"../generator/lorem":54,"../utils/abbreviation":69,"../utils/common":73,"./processor/attributes":57,"./processor/href":58,"./processor/pastedContent":59,"./processor/resourceMatcher":60,"./processor/tagName":61}],56:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){return(t=t||e.charCodeAt(0))>=97&&t<=122||t>=65&&t<=90||t>=1024&&t<=1279||"&"===e||"_"===e||"<"===e||">"===e||"="===e||"-"===e}function r(e,t){return(t=t||e.charCodeAt(0))>=48&&t<=57}function o(e,t){u.tokens.push({value:e,type:t||e,start:null,end:null})}function s(e){var t=function(e){var t=function(e){for(var t=e.chnum,n=e.source.replace(/\r\n?/g,"\n"),i=e.source.substring(0,t+1).replace(/\r\n?/g,"\n").split("\n"),r=(i[i.length-1]||"").length,o=n.split("\n")[i.length-1]||"",s=Math.max(0,r-100),a=o.substr(s,200)+"\n",l=0;l<r-s-1;l++)a+="-";return a+="^",{line:i.length,ch:r,text:o,hint:a}}(p);u.tokens;u.tokens=null;var n="CSS parsing error at line "+t.line+", char "+t.ch+": "+e;return n+="\n"+t.hint,{name:"ParseError",message:n,hint:t.hint,line:t.line,ch:t.ch}}(e),n=new Error(t.message,"",t.line);throw n.line=t.line,n.ch=t.ch,n.name=t.name,n.hint=t.hint,n}function a(){var e,t=p,n=t.ch,i=n,r=n;for(n=t.nextChar();n!==i;)"\n"===n?"\\"===(e=t.nextChar())?r+=n+e:s("Unterminated string"):r+="\\"===n?n+t.nextChar():n,n=t.nextChar();return r+=n}function l(e){for(var t=p.ch,n=e?e+t:t,s=(t=p.nextChar()).charCodeAt(0);i(t,s)||r(t,s);)n+=t,s=(t=p.nextChar()).charCodeAt(0);o(n,"identifier")}function c(){var e=p.ch;return" "===e||"\t"===e?function(){for(var e=p.ch,t="";" "===e||"\t"===e;)t+=e,e=p.nextChar();o(t,"white")}():"/"===e?function(){var e,t=p,n=t.ch,i=n;if("/"===(e=t.nextChar()))for(;n&&"\n"!==e&&"\r"!==e;)i+=e,n=e,e=t.nextChar();else{if("*"!==e)return o(i,i);for(;n&&("*"!==n||"/"!==e);)i+=e,n=e,e=t.nextChar()}i+=e,t.nextChar(),o(i,"comment")}():'"'===e||"'"===e?function(){var e=a();p.nextChar(),o(e,"string")}():"("===e?function(){var e=p,t=e.ch,n=1,i=t,r=!1;for(t=e.nextChar();t&&!r;)"("===t?n++:")"===t?--n||(r=!0):'"'===t||"'"===t?t=a():""===t&&s("Unterminated brace"),i+=t,t=e.nextChar();o(i,"brace")}():"-"===e||"."===e||r(e)?function(){var e,t=p,n=t.ch,i=n,s="."===i;if(n=t.nextChar(),e=!r(n),s&&e)return o(i,".");if("-"===i&&e)return l("-");for(;""!==n&&(r(n)||!s&&"."===n);)"."===n&&(s=!0),i+=n,n=t.nextChar();o(i,"number")}():i(e)?l():h(e)?function(){var e=p,t=e.ch,n=e.nextChar();if("="===n&&h(t,!0))return t+=n,o(t,"match"),void e.nextChar();o(t,t)}():"\r"===e?("\n"===p.peek()&&(e+=p.nextChar()),o(e,"line"),void p.nextChar()):"\n"===e?(o(e,"line"),void p.nextChar()):void s("Unrecognized character '"+e+"'")}var u={tokens:null},p={init:function(e){this.source=e,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}},h=function(){for(var e="{}[]()+*=.,;:>~|\\%$#@^!".split(""),t="*^|$~".split(""),n={},i={},r=0;r<e.length;r+=1)n[e[r]]=!0;for(r=0;r<t.length;r+=1)i[t[r]]=!0;return function(e,t){return t?e in i:e in n}}();return{lex:function(e){if(p.init(e),u.tokens=[],e)for(;""!==p.ch;)c();else u.tokens.push(this.white());var t=u.tokens;return u.tokens=null,t},parse:function(e){for(var t,n=this.lex(e),i=0,r=0,o=n.length;r<o;r++)(t=n[r]).start=i,t.end=i+=t.value.length;return n},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}}})},{}],57:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){e.children.forEach(function(e){var n=e.attributeList(),l=e.attribute(t.DEFAULT_ATTR_NAME);if(void 0!==l){if(e.attribute(t.DEFAULT_ATTR_NAME,null),n.length){var c=r.find(n,o)||r.find(n,s)||r.find(n,a);if(c){var u=e.attribute(c.name),p=r.replaceUnescapedSymbol(u,"|",l);u==p&&(p=l),e.attribute(c.name,p)}}}else n.forEach(function(t){t.isImplied&&e.attribute(t.name,null)});i(e,t)})}var r=e("../../utils/common"),o=function(e){return e.isDefault},s=function(e){return e.isImplied},a=function(e){return!e.value};return{preprocessor:function(e,t,n){i(e,n)}}})},{"../../utils/common":73}],58:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../../assets/preferences"),r=e("../../utils/common"),o=e("./pastedContent");return i.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping\t\ttext with <code>&lt;a&gt;</code> tag. With this option enabled,\t\tif wrapped text matches URL or e-mail pattern it will be automatically\t\tinserted into <code>href</code> attribute."),i.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts\t\tas-is into <code>href</code> attribute, only whitespace will be trimmed."),i.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,\t\twrapped content will be prefixed with <code>mailto:</code> in <code>href</code>\t\tattribute"),{postprocessor:function(e,t){if(i.get("href.autodetect")){var n=new RegExp(i.get("href.urlPattern"),"i"),s=new RegExp(i.get("href.emailPattern"),"i"),a=/^([a-z]+:)?\/\//i;e.findAll(function(e){if("a"==e.name().toLowerCase()&&!e.attribute("href")){var i=r.trim(o.pastedContent(e)||t.pastedContent);i&&(n.test(i)?(a.test(i)||(i="http://"+i),e.attribute("href",i)):s.test(i)&&e.attribute("href","mailto:"+i))}})}}}})},{"../../assets/preferences":28,"../../utils/common":73,"./pastedContent":59}],59:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){for(var t=[],n=c.create(e);!n.eol();){if("\\"==n.peek())n.next();else if(n.start=n.pos,n.match(p,!0)){t.push(u.create(n.start,p));continue}n.next()}return t}function r(e,t){return i(e).reverse().forEach(function(n){e=a.replaceSubstring(e,t,n)}),e}function o(e){return!!i(e.content).length||!!a.find(e.attributeList(),function(e){return!!i(e.value).length})}function s(e,t,n){var i=e.findAll(function(e){return o(e)});if(o(e)&&i.unshift(e),i.length)i.forEach(function(e){e.content=r(e.content,t),e._attributes.forEach(function(e){e.value=r(e.value,t)})});else{var s=e.deepestChild()||e;s.content=n?t:l.insertChildContent(s.content,t)}}var a=e("../../utils/common"),l=e("../../utils/abbreviation"),c=e("../../assets/stringStream"),u=e("../../assets/range"),p="$#";return{pastedContent:function(e){var t=e.data("paste");return Array.isArray(t)?t[e.counter-1]:"function"==typeof t?t(e.counter-1,e.content):t||void 0},preprocessor:function(e,t){if(t.pastedContent){var n=a.splitByLines(t.pastedContent,!0).map(a.trim);e.findAll(function(e){if(e.hasImplicitRepeat)return e.data("paste",n),e.repeatCount=n.length})}},postprocessor:function(e,t){var n=this;!e.findAll(function(e){var t=n.pastedContent(e);return t&&s(e,t,!!e.data("pasteOverwrites")),!!t}).length&&t.pastedContent&&s(e,t.pastedContent)}}})},{"../../assets/range":30,"../../assets/stringStream":32,"../../utils/abbreviation":69,"../../utils/common":73}],60:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t,n){e.children.slice(0).forEach(function(e){var s=r.getMatchedResource(e,t);"string"==typeof s&&(s=o.create("snippet",s)),e.data("resource",s);var l=o.type(s);if("snippet"==l){var c=s.data,u=e._text||e.content;u&&(c=a.insertChildContent(c,u)),e.content=c}else if("element"==l)e._name=s.name,Array.isArray(s.attributes)&&(e._attributes=[].concat(s.attributes,e._attributes));else if("reference"==l){var p=n.parse(s.data,{syntax:t});if(e.repeatCount>1){var h=p.findAll(function(e){return e.hasImplicitRepeat});h.length||(h=p.children),h.forEach(function(t){t.repeatCount=e.repeatCount,t.hasImplicitRepeat=!1})}var f=p.deepestChild();f&&(e.children.forEach(function(e){f.addChild(e)}),f.content=e.content),p.children.forEach(function(t){e.attributeList().forEach(function(e){t.attribute(e.name,e.value)})}),e.replace(p.children)}i(e,t,n)})}var r=e("../../assets/resources"),o=e("../../assets/elements"),s=e("../../utils/common"),a=e("../../utils/abbreviation");return{preprocessor:function(e,t,n){i(e,t.syntax||s.defaultSyntax(),n)}}})},{"../../assets/elements":24,"../../assets/resources":31,"../../utils/abbreviation":69,"../../utils/common":73}],61:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return e.children.forEach(function(e){(e.hasImplicitName()||e.data("forceNameResolving"))&&(e._name=r.resolve(e.parent.name()),e.data("nameResolved",!0)),i(e)}),e}var r=e("../../resolver/tagName");return{postprocessor:i}})},{"../../resolver/tagName":67}],62:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta";w=e.eat("/")?"closeTag":"openTag",e.eatSpace(),x="";for(var a;a=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=a;return t.tokenize=r,"tag"}if("&"==i){return(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error"}return e.eatWhile(/[^&<]/),"text"}function r(e,t){var n=e.next();return">"==n||"/"==n&&e.eat(">")?(t.tokenize=i,w=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(w="equals",null):/[\'\"]/.test(n)?(t.tokenize=function(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"}}(n),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function o(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function s(e){return function(t,n){for(var r;null!==(r=t.next());){if("<"==r)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function l(){return a.apply(null,arguments),!0}function c(){_.context&&(_.context=_.context.prev)}function u(e){if("openTag"==e)return _.tagName=x,l(h,function(e){return function(t){return"selfcloseTag"==t||"endTag"==t&&b.autoSelfClosers.hasOwnProperty(_.tagName.toLowerCase())?(p(_.tagName.toLowerCase()),l()):"endTag"==t?(p(_.tagName.toLowerCase()),function(e,t){var n=b.doNotIndent.hasOwnProperty(e)||_.context&&_.context.noIndent;_.context={prev:_.context,tagName:e,indent:_.indented,startOfLine:t,noIndent:n}}(_.tagName,e),l()):l()}}(_.startOfLine));if("closeTag"==e){var t=!1;return _.context?_.context.tagName!=x&&(b.implicitlyClosed.hasOwnProperty(_.context.tagName.toLowerCase())&&c(),t=!_.context||_.context.tagName!=x):t=!0,t&&(g="error"),l(function(e){return function(t){return e&&(g="error"),"endTag"==t?(c(),l()):(g="error",l(arguments.callee))}}(t))}return l()}function p(e){for(var t;;){if(!_.context)return;if(t=_.context.tagName.toLowerCase(),!b.contextGrabbers.hasOwnProperty(t)||!b.contextGrabbers[t].hasOwnProperty(e))return;c()}}function h(e){return"word"==e?(g="attribute",l(f,h)):"endTag"==e||"selfcloseTag"==e?a():(g="error",l(h))}function f(e){return"equals"==e?l(d,h):(b.allowMissing||(g="error"),"endTag"==e||"selfcloseTag"==e?a():l())}function d(e){return"string"==e?l(y):"word"==e&&b.allowUnquoted?(g="string",l()):(g="error","endTag"==e||"selfCloseTag"==e?a():l())}function y(e){return"string"==e?l(y):a()}function m(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=0),e.eatSpace())return null;g=w=x=null;var n=t.tokenize(e,t);if(t.type=w,(n||w)&&"comment"!=n)for(_=t;;){if((t.cc.pop()||u)(w||n))break}return t.startOfLine=!1,g||n}var g,v=e("../assets/stringStream"),b={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},x=null,w=null,_=null;return{parse:function(e,t){t=t||0;for(var n={tokenize:i,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},r=v.create(e),o=[];!r.eol();)o.push({type:m(r,n),start:r.start+t,end:r.pos+t}),r.start=r.pos;return o}}})},{"../assets/stringStream":32}],63:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function r(e){return/^https?:\/\//.test(e)}var o=e("../utils/common");return function(e){if(void 0===i||!i.amd)try{fs=e("fs"),path=e("path")}catch(e){}}(e),n.exports=function(e){e&&o.extend(n.exports,e)},o.extend(n.exports,{_parseParams:function(e){var t={path:e[0],size:0};return e=o.toArray(e,1),t.callback=e[e.length-1],(e=e.slice(0,e.length-1)).length&&(t.size=e[0]),t},_read:function(t,n){if(r(t.path))var i=e(/^https:/.test(t.path)?"https":"http").get(t.path,function(e){var r=[],o=0,s=!1;e.on("data",function(e){o+=e.length,r.push(e),t.size&&o>=t.size&&(s=!0,n(null,Buffer.concat(r)),i.abort())}).on("end",function(){s||(s=!0,n(null,Buffer.concat(r)))})}).on("error",n);else if(t.size){var o=fs.openSync(t.path,"r"),s=new Buffer(t.size);fs.read(o,s,0,t.size,null,function(e,t){n(e,s)})}else n(null,fs.readFileSync(t.path))},read:function(e,t,n){var i=this._parseParams(arguments);this._read(i,function(e,t){i.callback(e,e?"":function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(String.fromCharCode(e[n]));return t.join("")}(t))})},readText:function(e,t,n){var i=this._parseParams(arguments);this._read(i,function(e,t){i.callback(e,e?"":t.toString())})},locateFile:function(e,t){if(r(t))return t;var n,i=e;for(t=t.replace(/^\/+/,"");i&&i!==path.dirname(i);)if(i=path.dirname(i),n=path.join(i,t),fs.existsSync(n))return n;return""},createPath:function(e,t,n){var i=fs.statSync(e);return i&&!i.isDirectory()&&(e=path.dirname(e)),n(path.resolve(e,t))},save:function(e,t){fs.writeFileSync(e,t,"ascii")},getExt:function(e){var t=(e||"").match(/\.([\w\-]+)$/);return t?t[1].toLowerCase():""}})})},{"../utils/common":73}],64:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){var t=e&&e.charCodeAt(0);return e&&"."==e||t>47&&t<58}function r(e){return e=g.trim(e),!/\/\*|\n|\r/.test(e)&&(!!/^[a-z0-9\-]+\s*\:/i.test(e)&&2==e.replace(/\$\{.+?\}/g,"").split(":").length)}function o(e){"-"!=e.charAt(0)||/^\-[\.\d]/.test(e)||(e=e.replace(/^\-+/,""));var t=e.charAt(0);return"#"==t?function(e){var t=e.replace(/^#+/,"")||"0";if("t"==t.toLowerCase())return"transparent";var n="";t=t.replace(/\.(\d+)$/,function(e){return n="0"+e,""});var i=g.repeatString,r=null;switch(t.length){case 1:r=i(t,6);break;case 2:r=i(t,3);break;case 3:r=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2);break;case 4:r=t+t.substr(0,2);break;case 5:r=t+t.charAt(0);break;default:r=t.substr(0,6)}if(n)return function(e,t){var n=parseInt(e.substr(0,2),16),i=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16);return"rgba("+[n,i,r,t].join(", ")+")"}(r,n);if(f.get("css.color.short")){var o=r.split("");o[0]==o[1]&&o[2]==o[3]&&o[4]==o[5]&&(r=o[0]+o[2]+o[4])}switch(f.get("css.color.case")){case"upper":r=r.toUpperCase();break;case"lower":r=r.toLowerCase()}return"#"+r}(e):"$"==t?g.escapeText(e):s(e)}function s(e){var t=f.getDict("css.keywordAliases");return e in t?t[e]:e}function a(e){return~f.getArray("css.keywords").indexOf(s(e))}function l(e,t){var n=w[t];return n||(n=g.find(w,function(e){return e.prefix==t})),n&&n.supports(e)}function c(e){var t=m.resolvePrefixes(e);return t||(t=[],Object.keys(w).forEach(function(n){l(e,n)&&t.push(w[n].prefix)}),t.length||(t=null)),t}function u(e,t){"string"==typeof t&&(t={prefix:t}),w[e]=g.extend({},x,t)}function p(e,t){if(t){"styl"==t&&(t="stylus");var n=f.get(t+"."+e);if(void 0!==n)return n}return f.get("css."+e)}function h(e,t,n){return"string"!=typeof e&&(e=e.data),r(e)?(t&&(~e.indexOf(";")?e=e.split(";").join(" !important;"):e+=" !important"),function(e,t){var n=e.indexOf(":");return(e=e.substring(0,n).replace(/\s+$/,"")+p("valueSeparator",t)+g.trim(e.substring(n+1))).replace(/\s*;\s*$/,p("propertyEnd",t))}(e,n)):e}var f=e("../assets/preferences"),d=e("../assets/resources"),y=e("../assets/stringStream"),m=e("../assets/caniuse"),g=e("../utils/common"),v=e("../utils/template"),b=e("../editTree/css"),x={prefix:"emmet",obsolete:!1,transformName:function(e){return"-"+this.prefix+"-"+e},properties:function(){return function(e){var t=f.getArray(e),n=f.getArray(e+"Addon");return n&&n.forEach(function(e){"-"==e.charAt(0)?t=g.without(t,e.substr(1)):("+"==e.charAt(0)&&(e=e.substr(1)),t.push(e))}),t}("css."+this.prefix+"Properties")||[]},supports:function(e){return~this.properties().indexOf(e)}},w={};f.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),f.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),f.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),f.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),f.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),f.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),f.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you dont need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),f.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),f.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),f.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),f.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var _=v("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),k=v("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),S={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};return Object.keys(S).forEach(function(e){f.define("css."+e+"Properties",S[e],_({vendor:e})),f.define("css."+e+"PropertiesAddon","",k({vendor:e}))}),f.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values must not contain units."),f.define("css.intUnit","px","Default unit for integer values"),f.define("css.floatUnit","em","Default unit for float values"),f.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),f.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),f.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),f.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),f.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),f.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),f.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),f.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),u("w",{prefix:"webkit"}),u("m",{prefix:"moz"}),u("s",{prefix:"ms"}),u("o",{prefix:"o"}),n=n||{},n.exports={addPrefix:u,supportsPrefix:l,resolve:function(e,t){var n=f.getArray("css.syntaxes");return n&&~n.indexOf(t)&&e.isElement()?this.expandToSnippet(e.abbreviation,t):null},prefixed:function(e,t){return l(e,t)?"-"+t+"-"+e:e},listPrefixes:function(){return w.map(function(e){return e.prefix})},getPrefix:function(e){return w[e]},removePrefix:function(e){e in w&&delete w[e]},extractPrefixes:function(e){if("-"!=e.charAt(0))return{property:e,prefixes:null};for(var t,n=1,i=e.length,r=[];n<i;){if("-"==(t=e.charAt(n))){n++;break}if(!(t in w)){r.length=0,n=1;break}r.push(t),n++}return n==i-1&&(n=1,r.length=1),{property:e.substring(n),prefixes:r.length?r:"all"}},findValuesInAbbreviation:function(e,t){t=t||"css";for(var n,r=0,o=e.length,s="";r<o;){if(n=e.charAt(r),i(n)||"#"==n||"$"==n||"-"==n&&i(e.charAt(r+1))){s=e.substring(r);break}r++}for(var l=e.substring(0,e.length-s.length),c=[];~l.indexOf("-")&&!d.findSnippet(t,l);){var u=l.split("-"),p=u.pop();if(!a(p))break;c.unshift(p),l=u.join("-")}return c.join("-")+s},parseValues:function(e){for(var t=y.create(e),n=[],r=null;r=t.next();)"$"==r?(t.match(/^[^\$]+/,!0),n.push(t.current())):"#"==r?(t.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),n.push(t.current())):"-"==r?((a(g.last(n))||t.start&&i(e.charAt(t.start-1)))&&(t.start=t.pos),t.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),n.push(t.current())):(t.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),n.push(t.current())),t.start=t.pos;return n.filter(function(e){return!!e}).map(o)},extractValues:function(e){var t=this.findValuesInAbbreviation(e);return t?{property:e.substring(0,e.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:e,values:null}},normalizeValue:function(e,t){t=(t||"").toLowerCase();var n=f.getArray("css.unitlessProperties");return e.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(e,i,r){return r||"0"!=i&&!~n.indexOf(t)?r?i+function(e){var t=f.getDict("css.unitAliases");return e in t?t[e]:e}(r):i.replace(/\.$/,"")+f.get(~i.indexOf(".")?"css.floatUnit":"css.intUnit"):i})},expand:function(e,t,n){n=n||"css";var i=f.get(n+".autoInsertVendorPrefixes"),o=/^(.+)\!$/.test(e);o&&(e=RegExp.$1);var s=d.findSnippet(n,e);if(s&&!i)return h(s,o,n);var a=this.extractPrefixes(e),l=this.extractValues(a.property),u=g.extend(a,l);if(s?u.values=null:s=d.findSnippet(n,u.property),!s&&f.get("css.fuzzySearch")&&(s=d.fuzzyFindSnippet(n,u.property,parseFloat(f.get("css.fuzzySearchMinScore")))),s)"string"!=typeof s&&(s=s.data);else{if(!u.property)return null;s=u.property+":${1};"}if(!r(s))return s;var p=this.splitSnippet(s),y=[];!t&&u.values&&(t=u.values.map(function(e){return this.normalizeValue(e,p.name)},this).join(" ")+";"),p.value=t||p.value;var m,v=[];if((("all"==u.prefixes||!u.prefixes&&i?function(e,t){var n=[],i=c(e);if(i){var r={};Object.keys(w).forEach(function(e){r[w[e].prefix]=e}),n=i.map(function(e){return r[e]})}return n.length||t||Object.keys(w).forEach(function(e){w[e].obsolete||n.push(e)}),n}(p.name,i&&"all"!=u.prefixes):u.prefixes)||[]).forEach(function(e){e in w&&(m=w[e].transformName(p.name),v.push(m),y.push(h(m+":"+p.value,o,n)))}),y.push(h(p.name+":"+p.value,o,n)),v.push(p.name),y=function(e,t,n){var i=[],r={},o=b.findParts(e.value);return o.reverse(),o.forEach(function(t){var n=t.substring(e.value);(c(n)||[]).forEach(function(o){r[o]||(r[o]=e.value,i.push(o)),r[o]=g.replaceSubstring(r[o],"-"+o+"-"+n,t)})}),i.map(function(i){return h(e.name+":"+r[i],t,n)})}(p,o,n).concat(y),f.get("css.alignVendor")){var x=g.getStringsPads(v);y=y.map(function(e,t){return x[t]+e})}return y},expandToSnippet:function(e,t){var n=this.expand(e,null,t);return null===n?null:Array.isArray(n)?n.join("\n"):"string"!=typeof n?n.data:n+""},splitSnippet:function(e){if(-1==(e=g.trim(e)).indexOf(":"))return{name:e,value:"${1};"};var t=e.split(":");return{name:g.trim(t.shift()),value:g.trim(t.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:p,transformSnippet:h,vendorPrefixes:c},n.exports})},{"../assets/caniuse":23,"../assets/preferences":28,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/template":77}],65:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){var t=u.vendorPrefixes(e);return t||(t=a.getArray("css.gradient.prefixes")),t||[]}function r(e,t){var n=[],r=t.name(),s=a.get("css.gradient.omitDefaultDirection");a.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&n.push({name:"background-color",value:"${1:"+e[0].gradient.colorStops[0].color+"}"});var l=t.value();return i("linear-gradient").forEach(function(t){var i=u.prefixed(r,t);if("webkit"==t&&a.get("css.gradient.oldWebkit"))try{n.push({name:i,value:o(e,l,{prefix:t,oldWebkit:!0,omitDefaultDirection:s})})}catch(e){}n.push({name:i,value:o(e,l,{prefix:t,omitDefaultDirection:s})})}),n.sort(function(e,t){return t.name.length-e.name.length})}function o(e,t,n){return n=n||{},(e=c.clone(e)).reverse().forEach(function(e,i){var r=!i&&n.placeholder?n.placeholder:"",o=n.oldWebkit?e.gradient.stringifyOldWebkit(n):e.gradient.stringify(n);t=c.replaceSubstring(t,o+r,e.matchedPart)}),t}function s(e){"string"!=typeof e&&(e=e.name());var t=(u.vendorPrefixes(e)||[]).map(function(t){return"-"+t+"-"+e});return t.push(e),t}var a=e("../assets/preferences"),l=e("../assets/resources"),c=e("../utils/common"),u=(e("../assets/stringStream"),e("./css")),p=e("../assets/range"),h=e("../editTree/css"),f=e("../utils/editor"),d=e("./gradient/linear"),y=["css","less","sass","scss","stylus","styl"];return a.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),a.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),a.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),a.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),a.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),n=n||{},n.exports={findGradients:function(e){var t=e.value(),n=[];return e.valueParts().forEach(function(e){var i=e.substring(t);if(d.isLinearGradient(i)){var r=d.parse(i);r&&n.push({gradient:r,matchedPart:e})}}),n.length?n:null},gradientsFromCSSProperty:function(e,t){var n=h.propertyFromPosition(e,t);if(n){var i=this.findGradients(n);if(i)return{property:n,gradients:i}}return null},expandAbbreviationHandler:function(e,t,n){var i=f.outputInfo(e,t,n);if(!~y.indexOf(i.syntax))return!1;var p=e.getCaretPos(),h=i.content,d=this.gradientsFromCSSProperty(h,p);if(d){if(!function(e,t,n){if("css"==(n=n||"css")||"less"==n||"scss"==n)return!0;for(var i=e.property.valueRange(!0).start,r=e.gradients,o=r.length-1;o>=0;o--)if(r[o].matchedPart.start+i>=t)return!1;return!0}(d,p,i.syntax))return!1;var m=d.property,g=m.parent,v=g.options.offset||0,b=v+g.toString().length;if(/[\n\r]/.test(m.value())){var x=m.valueRange(!0).start+c.last(d.gradients).matchedPart.end;h=c.replaceSubstring(h,";",x);var w=this.gradientsFromCSSProperty(h,p);w&&(g=(m=(d=w).property).parent)}m.end(";");var _=function(e,t){var n=l.findSnippet(t,e);if(!n&&a.get("css.fuzzySearch")){var i=parseFloat(a.get("css.fuzzySearchMinScore"));n=l.fuzzyFindSnippet(t,e,i)}if(n)return"string"!=typeof n&&(n=n.data),u.splitSnippet(n).name}(m.name(),t);return _&&m.name(_),function(e,t){var n=e.parent,i=a.get("css.alignVendor"),l=a.get("css.gradient.omitDefaultDirection"),u=e.styleSeparator,p=e.styleBefore;if(n.getAll(s(e)).forEach(function(t){t!=e&&/gradient/i.test(t.value())&&(t.styleSeparator.length<u.length&&(u=t.styleSeparator),t.styleBefore.length<p.length&&(p=t.styleBefore),n.remove(t))}),i){if(p!=e.styleBefore){var h=e.fullRange();n._updateSource(p,h.start,h.start+e.styleBefore.length),e.styleBefore=p}u!=e.styleSeparator&&(n._updateSource(u,e.nameRange().end,e.valueRange().start),e.styleSeparator=u)}var f=e.value(),d=r(t,e);if(i){var y=[],m=[];d.forEach(function(e){y.push(e.name),m.push(e.value)}),m.push(e.value()),y.push(e.name());var g=c.getStringsPads(m.map(function(e){return e.substring(0,e.indexOf("("))})),v=c.getStringsPads(y);e.name(v[v.length-1]+e.name()),d.forEach(function(e,t){e.name=v[t]+e.name,e.value=g[t]+e.value}),e.value(g[g.length-1]+e.value())}d.forEach(function(t){n.add(t.name,t.value,n.indexOf(e))}),e.value(o(t,f,{placeholder:"${2}",omitDefaultDirection:l}))}(m,d.gradients),e.replaceContent(g.toString(),v,b,!0),!0}return this.expandGradientOutsideValue(e,t)},expandGradientOutsideValue:function(e,t){var n=a.get("css.gradient.defaultProperty"),i=a.get("css.gradient.omitDefaultDirection");if(!n)return!1;var s=String(e.getContent()),l=p.create(e.getCurrentLineRange()),h="a{"+n+": "+l.substring(s).replace(/^\s+/,function(e){return l.start+=e.length,""}).replace(/\s+$/,function(e){return l.end-=e.length,""})+";}",f=this.gradientsFromCSSProperty(h,h.length-2);if(f){var d=r(f.gradients,f.property);d.push({name:f.property.name(),value:o(f.gradients,f.property.value(),{placeholder:"${2}",omitDefaultDirection:i})});var y=u.getSyntaxPreference("valueSeparator",t),m=u.getSyntaxPreference("propertyEnd",t);if(a.get("css.alignVendor")){var g=c.getStringsPads(d.map(function(e){return e.value.substring(0,e.value.indexOf("("))}));d.forEach(function(e,t){e.value=g[t]+e.value})}return d=d.map(function(e){return e.name+y+e.value+m}),e.replaceContent(d.join("\n"),l.start,l.end),!0}return!1},reflectValueHandler:function(e){var t=a.get("css.gradient.omitDefaultDirection"),n=this.findGradients(e);if(!n)return!1;var i=this,r=e.value();return e.parent.getAll(s(e)).forEach(function(s){if(s!==e){var a=i.findGradients(s);if(a){var l=s.value(),c=a[0].matchedPart.substring(l),u="";/^\s*\-([a-z]+)\-/.test(c)&&(u=RegExp.$1),s.value(o(n,r,{prefix:u,omitDefaultDirection:t}))}}}),!0}}})},{"../assets/preferences":28,"../assets/range":30,"../assets/resources":31,"../assets/stringStream":32,"../editTree/css":37,"../utils/common":73,"../utils/editor":75,"./css":64,"./gradient/linear":66}],66:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){this.colorStops=[],this.direction=180;for(var t,n,i=a.create(l.trim(e));t=i.next();)","==i.peek()?(n=i.current(),this.colorStops.length||!h.test(n)&&!f.test(n)?this.addColorStop(n):this.direction=o(n),i.next(),i.eatSpace(),i.start=i.pos):"("==t&&i.skipTo(")");this.addColorStop(i.current())}function r(e){return l.trim(e).replace(/\s+/g," ")}function o(e){if("number"==typeof e)return e;if(e=r(e).toLowerCase(),h.test(e))return+RegExp.$1;var t=/^to\s/.test(e)?"to ":"",n=~e.indexOf("left")&&"left",i=~e.indexOf("right")&&"right",o=~e.indexOf("top")&&"top",s=~e.indexOf("bottom")&&"bottom",a=r(t+(o||s||"")+" "+(n||i||""));return c[a]||0}function s(e,t){for(var n=/^to\s/,i=Object.keys(c).filter(function(e){var i=n.test(e);return t?!i:i}),r=0;r<i.length;r++)if(c[i[r]]==e)return i[r];return t&&(e=(e+270)%360),e+"deg"}var a=e("../../assets/stringStream"),l=e("../../utils/common"),c={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},u=["top","to bottom","0deg"],p=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,h=/(\d+)deg/i,f=/top|bottom|left|right/i;return i.prototype={type:"linear-gradient",addColorStop:function(e,t){(e=r(e||""))&&(e=this.parseColorStop(e),void 0===t?this.colorStops.push(e):this.colorStops.splice(t,0,e))},parseColorStop:function(e){var t=null;if(e=(e=r(e)).replace(/^(\w+\(.+?\))\s*/,function(e,n){return t=n,""}),!t){var n=e.split(" ");t=n[0],e=n[1]||""}var i={color:t};return e&&e.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(e,t,n){i.position=t,~t.indexOf(".")?n="":n||(n="%"),n&&(i.unit=n)}),i},stringify:function(e){var t="linear-gradient";(e=e||{}).prefix&&(t="-"+e.prefix+"-"+t);var n=this.colorStops.map(function(e){var t=e.position?" "+e.position+(e.unit||""):"";return e.color+t}),i=s(this.direction,!!e.prefix);return e.omitDefaultDirection&&~u.indexOf(i)||n.unshift(i),t+"("+n.join(", ")+")"},stringifyOldWebkit:function(){var e=this.colorStops.map(function(e){return l.clone(e)});return e.forEach(function(e){if("position"in e){if(!~e.position.indexOf(".")&&"%"!=e.unit)throw"Can't convert color stop '"+(e.position+(e.unit||""))+"'";e.position=parseFloat(e.position)/("%"==e.unit?100:1)}}),this._fillImpliedPositions(e),e=e.map(function(t,n){return t.position||n?1==t.position&&n==e.length-1?"to("+t.color+")":"color-stop("+t.position.toFixed(2).replace(/\.?0+$/,"")+", "+t.color+")":"from("+t.color+")"}),"-webkit-gradient(linear, "+function(e){if(e=s(e,!0),h.test(e))throw"The direction is an angle that cant be converted.";var t=function(t){return~e.indexOf(t)?"100%":"0"};return t("left")+" "+t("top")+", "+t("right")+" "+t("bottom")}((this.direction+180)%360)+", "+e.join(", ")+")"},_fillImpliedPositions:function(e){var t=0;e.forEach(function(n,i){if(!i)return n.position=n.position||0;if(i!=e.length-1||"position"in n||(n.position=1),"position"in n){var r=e[t].position||0,o=(n.position-r)/(i-t);e.slice(t,i).forEach(function(e,t){e.position=r+o*t}),t=i}})},valueOf:function(){return this.stringify()}},{parse:function(e){if(!this.isLinearGradient(e))throw"Invalid linear gradient definition:\n"+e;return e=e.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""),new i(e)},isLinearGradient:function(e){return p.test(e)},resolveDirection:o,stringifyDirection:s}})},{"../../assets/stringStream":32,"../../utils/common":73}],67:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},o={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(e){return(e=(e||"").toLowerCase())in o?this.getMapping(e):this.isInlineLevel(e)?"span":"div"},getMapping:function(e){return o[e.toLowerCase()]},isInlineLevel:function(e){return this.isTypeOf(e,"inlineLevel")},isBlockLevel:function(e){return this.isTypeOf(e,"blockLevel")},isEmptyElement:function(e){return this.isTypeOf(e,"empty")},isTypeOf:function(e,t){return~r[t].indexOf(e)},addMapping:function(e,t){o[e]=t},removeMapping:function(e){e in o&&delete o[e]},addElementToCollection:function(e,t){r[t]||(r[t]=[]);var n=this.getCollection(t);~n.indexOf(e)||n.push(e)},removeElementFromCollection:function(e,t){t in r&&(r[t]=i.without(this.getCollection(t),e))},getCollection:function(e){return r[e]}}})},{"../utils/common":73}],68:[function(e,t,n){t.exports={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"},css:{filters:"css",profile:"css",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n\t|\n}","@media":"@media ${1:screen} {\n\t|\n}","@f":"@font-face {\n\tfont-family:|;\n\tsrc:url(|);\n}","@f+":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n\t${2:from} { ${3} }${6}\n\t${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:f":"display:flex;","d:if":"display:inline-flex;","d:i":"display:inline;","d:ib":"display:inline-block;","d:ib+":"display: inline-block;\n*display: inline;\n*zoom: 1;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;","olw:tn":"outline-width:thin;","olw:m":"outline-width:medium;","olw:tc":"outline-width:thick;",ols:"outline-style:|;","ols:n":"outline-style:none;","ols:dt":"outline-style:dotted;","ols:ds":"outline-style:dashed;","ols:s":"outline-style:solid;","ols:db":"outline-style:double;","ols:g":"outline-style:groove;","ols:r":"outline-style:ridge;","ols:i":"outline-style:inset;","ols:o":"outline-style:outset;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bfv:"backface-visibility:|;","bfv:h":"backface-visibility:hidden;","bfv:v":"backface-visibility:visible;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:#${1:000};","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:scz":"transform: scaleZ(${1:z});","trf:sc3":"transform: scale3d(${1:x}, ${2:y}, ${3:z});","trf:r":"transform: rotate(${1:angle});","trf:rx":"transform: rotateX(${1:angle});","trf:ry":"transform: rotateY(${1:angle});","trf:rz":"transform: rotateZ(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});","trf:tz":"transform: translateZ(${1:z});","trf:t3":"transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",wm:"writing-mode:${1:lr-tb};","wm:lrt":"writing-mode:lr-tb;","wm:lrb":"writing-mode:lr-bt;","wm:rlt":"writing-mode:rl-tb;","wm:rlb":"writing-mode:rl-bt;","wm:tbr":"writing-mode:tb-rl;","wm:tbl":"writing-mode:tb-lr;","wm:btl":"writing-mode:bt-lr;","wm:btr":"writing-mode:bt-rl;",lts:"letter-spacing:|;","lts-n":"letter-spacing:normal;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',"ff:t":'font-family: "Times New Roman", Times, Baskerville, Georgia, serif;',"ff:v":"font-family: Verdana, Geneva, sans-serif;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op+":"opacity: $1;\nfilter: alpha(opacity=$2);","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",fxd:"flex-direction:|;","fxd:r":"flex-direction:row;","fxd:rr":"flex-direction:row-reverse;","fxd:c":"flex-direction:column;","fxd:cr":"flex-direction:column-reverse;",fxw:"flex-wrap: |;","fxw:n":"flex-wrap:nowrap;","fxw:w":"flex-wrap:wrap;","fxw:wr":"flex-wrap:wrap-reverse;",fxf:"flex-flow:|;",jc:"justify-content:|;","jc:fs":"justify-content:flex-start;","jc:fe":"justify-content:flex-end;","jc:c":"justify-content:center;","jc:sb":"justify-content:space-between;","jc:sa":"justify-content:space-around;",ai:"align-items:|;","ai:fs":"align-items:flex-start;","ai:fe":"align-items:flex-end;","ai:c":"align-items:center;","ai:b":"align-items:baseline;","ai:s":"align-items:stretch;",ac:"align-content:|;","ac:fs":"align-content:flex-start;","ac:fe":"align-content:flex-end;","ac:c":"align-content:center;","ac:sb":"align-content:space-between;","ac:sa":"align-content:space-around;","ac:s":"align-content:stretch;",ord:"order:|;",fxg:"flex-grow:|;",fxsh:"flex-shrink:|;",fxb:"flex-basis:|;",fx:"flex:|;",as:"align-self:|;","as:a":"align-self:auto;","as:fs":"align-self:flex-start;","as:fe":"align-self:flex-end;","as:c":"align-self:center;","as:b":"align-self:baseline;","as:s":"align-self:stretch;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!DOCTYPE html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"\x3c!-- |${child} --\x3e","cc:ie6":"\x3c!--[if lte IE 6]>\n\t${child}|\n<![endif]--\x3e","cc:ie":"\x3c!--[if IE]>\n\t${child}|\n<![endif]--\x3e","cc:noie":"\x3c!--[if !IE]>\x3c!--\x3e\n\t${child}|\n\x3c!--<![endif]--\x3e"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',"acr|acronym":'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',"link:im|link:import":'<link rel="import" href="${1:component}.html" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:'<script !src="">',"script:src":'<script src="">',img:'<img src="" alt="" />',"img:s|img:srcset":'<img srcset="" src="" alt="" />',"img:z|img:sizes":'<img sizes="" srcset="" src="" alt="" />',picture:"<picture>","src|source":"<source/>","src:sc|source:src":'<source src="" type=""/>',"src:s|source:srcset":'<source srcset=""/>',"src:m|source:media":'<source media="(${1:min-width: })" srcset=""/>',"src:t|source:type":'<source srcset="|" type="${1:image/}"/>',"src:z|source:sizes":'<source sizes="" srcset=""/>',"src:mt|source:media:type":'<source media="(${1:min-width: })" srcset="" type="${2:image/}"/>',"src:mz|source:media:sizes":'<source media="(${1:min-width: })" sizes="" srcset=""/>',"src:zt|source:sizes:type":'<source sizes="" srcset="" type="${1:image/}"/>',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":'<input type="submit" value="" />',"input:i|input:image":'<input type="image" src="" alt="" />',"input:b|input:button":'<input type="button" value="" />',isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',"select:d|select:disabled":"select[disabled.]","opt|option":'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',marquee:'<marquee behavior="" direction="">',"menu:c|menu:context":"menu[type=context]>","menu:t|menu:toolbar":"menu[type=toolbar]>",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=${charset}]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option","pic+":"picture>source:srcset+img"}},xml:{extends:"html",profile:"xml",filters:"html"},xsl:{extends:"html",profile:"xml",filters:"html, xsl",abbreviations:{"tm|tmatch":'<xsl:template match="" mode="">',"tn|tname":'<xsl:template name="">',call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","wh|xsl:when":'<xsl:when test="">',ot:"<xsl:otherwise>",if:'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',var:'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',"for|each":'<xsl:for-each select="">',tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml",extends:"html",profile:"xml"},jade:{filters:"jade",extends:"html",profile:"xml"},jsx:{filters:"jsx, html",extends:"html",profile:"xml"},slim:{filters:"slim",extends:"html",profile:"xml"},scss:{extends:"css"},sass:{extends:"css"},less:{extends:"css"},stylus:{extends:"css"},styl:{extends:"stylus"}}},{}],69:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../assets/elements"),r=e("../assets/tabStops"),o=e("../utils/common"),s=e("../resolver/tagName");return{isUnary:function(e){if(e.children.length||e._text||this.isSnippet(e))return!1;var t=e.data("resource");return t&&t.is_empty},isInline:function(e){return e.isTextNode()||!e.name()||s.isInlineLevel(e.name())},isBlock:function(e){return this.isSnippet(e)||!this.isInline(e)},isSnippet:function(e){return i.is(e.data("resource"),"snippet")},hasTagsInContent:function(e){return o.matchesTag(e.content)},hasBlockChildren:function(e){return this.hasTagsInContent(e)&&this.isBlock(e)||e.children.some(function(e){return this.isBlock(e)},this)},insertChildContent:function(e,t,n){n=o.extend({keepVariable:!0,appendIfNoChild:!0},n||{});var i=!1;return e=r.replaceVariables(e,function(r,s,a){var l=r;return"child"==s&&(l=o.padString(t,o.getLinePaddingFromPosition(e,a.start)),i=!0,n.keepVariable&&(l+=r)),l}),!i&&n.appendIfNoChild&&(e+=t),e}}})},{"../assets/elements":24,"../assets/tabStops":33,"../resolver/tagName":67,"../utils/common":73}],70:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("./common"),r=e("./cssSections"),o=e("../parser/abbreviation"),s=e("../assets/htmlMatcher"),a=e("../editTree/xml"),l=e("../assets/range"),c=e("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(e){for(var t=e.length,n=-1,r=0,s=0,a=0;;){if(--t<0){n=0;break}var l=e.charAt(t);if("]"==l)s++;else if("["==l){if(!s){n=t+1;break}s--}else if("}"==l)a++;else if("{"==l){if(!a){n=t+1;break}a--}else if(")"==l)r++;else if("("==l){if(!r){n=t+1;break}r--}else{if(s||a)continue;if(!o.isAllowedChar(l)||">"==l&&i.endsWithTag(e.substring(0,t+1))){n=t+1;break}}}return-1==n||a||s||r?"":e.substring(n).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(e){var t=0,n=function(){return e.charCodeAt(t++)};if("PNG\r\n\n"===e.substr(0,8))return t=e.indexOf("IHDR")+4,{width:n()<<24|n()<<16|n()<<8|n(),height:n()<<24|n()<<16|n()<<8|n()};if("GIF8"===e.substr(0,4))return t=6,{width:n()|n()<<8,height:n()|n()<<8};if(""===e.substr(0,2)){t=2;for(var i=e.length;t<i;){if(255!=n())return;var r=n();if(218==r)break;var o=n()<<8|n();if(!(!(r>=192&&r<=207)||4&r||8&r))return t+=1,{height:n()<<8|n(),width:n()<<8|n()};t+=o-2}}},captureContext:function(e,t){if(e.getSyntax()in{html:1,xml:1,xsl:1}){var n=e.getContent();void 0===t&&(t=e.getCaretPos());var i=s.find(n,t);if(i&&"tag"==i.type){var r=i.open,o={name:r.name,attributes:[],match:i},l=a.parse(r.range.substring(n));return l&&(o.attributes=l.getAll().map(function(e){return{name:e.name(),value:e.value()}})),o}}return null},findExpressionBounds:function(e,t){for(var n=String(e.getContent()),i=n.length,r=e.getCaretPos()-1,o=r+1;r>=0&&t(n.charAt(r),r,n);)r--;for(;o<i&&t(n.charAt(o),o,n);)o++;if(o>r)return l([++r,o])},compoundUpdate:function(e,t){if(t){var n=e.getSelectionRange();return e.replaceContent(t.data,t.start,t.end,!0),e.createSelection(t.caret,t.caret+n.end-n.start),!0}return!1},detectSyntax:function(e,t){var n=t||"html";return c.hasSyntax(n)||(n="html"),"html"==n&&(this.isStyle(e)||this.isInlineCSS(e))&&(n="css"),"styl"==n&&(n="stylus"),n},detectProfile:function(e){var t=e.getSyntax(),n=c.findItem(t,"profile");if(n)return n;switch(t){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(e))return"line";break;case"html":return(n=c.getVariable("profile"))||(n=this.isXHTML(e)?"xhtml":"html"),n}return"xhtml"},isXHTML:function(e){return-1!=e.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(e){return!!r.styleTagRange(e.getContent(),e.getCaretPos())},isSupportedCSS:function(e){return"css"==e||"less"==e||"scss"==e},isInlineCSS:function(e){return!!r.styleAttrRange(e.getContent(),e.getCaretPos())}}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/resources":31,"../editTree/xml":38,"../parser/abbreviation":55,"./common":73,"./cssSections":74}],71:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e){for(var t,n,r,o,s,a,l,c,u,p=[],h=0,f=e.length,d=i;h<f;)o=(t=255&e.charCodeAt(h++))>>2,s=(3&t)<<4|(n=255&(c=e.charCodeAt(h++)))>>4,a=(15&n)<<2|(r=255&(u=e.charCodeAt(h++)))>>6,l=63&r,isNaN(c)?a=l=64:isNaN(u)&&(l=64),p.push(d.charAt(o)+d.charAt(s)+d.charAt(a)+d.charAt(l));return p.join("")},decode:function(e){var t,n,r,o,s,a,l=0,c=0,u=[],p=i,h=e.length;if(!e)return e;e+="";do{t=(a=p.indexOf(e.charAt(l++))<<18|p.indexOf(e.charAt(l++))<<12|(o=p.indexOf(e.charAt(l++)))<<6|(s=p.indexOf(e.charAt(l++))))>>16&255,n=a>>8&255,r=255&a,u[c++]=64==o?String.fromCharCode(t):64==s?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(l<h);return u.join("")}}})},{}],72:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("./common"),r=(e("../assets/range"),e("../assets/stringStream")),o=/\/\*|\/\//;return{strip:function(e){if(!o.test(e))return e;for(var t,n,s=r(e),a=[];t=s.next();)if("/"===t){if("*"===(n=s.peek()))s.start=s.pos-1,s.skipTo("*/")?s.pos+=2:s.skipToEnd(),a.push([s.start,s.pos]);else if("/"===n){for(s.start=s.pos-1;(n=s.next())&&"\n"!==n&&"\r"!=n;);a.push([s.start,s.pos])}}else s.skipQuoted();return i.replaceWith(e,a," ")}}})},{"../assets/range":30,"../assets/stringStream":32,"./common":73}],73:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../assets/range"),r="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e&&e>47&&e<58},trim:String.prototype.trim?function(e){return e?e.trim():""}:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},splitByLines:function(e,t){var n=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,"\n").split("\n");return t&&(n=n.filter(function(e){return e.length&&!!this.trim(e)},this)),n},repeatString:function(e,t){for(var n="";t--;)n+=e;return n},getStringsPads:function(e){var t=e.map(function(e){return"string"==typeof e?e.length:+e}),n=t.reduce(function(e,t){return void 0===e?t:Math.max(e,t)});return t.map(function(e){var t=n-e;return t?this.repeatString(" ",t):""},this)},padString:function(e,t){var n=[],i=this.splitByLines(e);n.push(i[0]);for(var r=1;r<i.length;r++)n.push("\n"+t+i[r]);return n.join("")},zeroPadString:function(e,t){for(var n="",i=e.length;t>i++;)n+="0";return n+e},unindentString:function(e,t){for(var n,i=this.splitByLines(e),r=t.length,o=0,s=i.length;o<s;o++)(n=i[o]).substr(0,r)===t&&(i[o]=n.substr(r));return i.join("\n")},replaceUnescapedSymbol:function(e,t,n){for(var i=0,r=e.length,o=t.length,s=0;i<r;)if("\\"==e.charAt(i))i+=o+1;else if(e.substr(i,o)==t){var a=o;s++;var l=n;if("function"==typeof n){var c=n(e,t,i,s);c?(a=c[0].length,l=c[1]):l=!1}if(!1===l){i++;continue}r=(e=e.substring(0,i)+l+e.substring(i+a)).length,i+=l.length}else i++;return e},replaceCounter:function(e,t,n){e=String(e),t=String(t),/^\-?\d+$/.test(t)&&(t=+t);var i=this;return this.replaceUnescapedSymbol(e,"$",function(e,r,o,s){if("{"==e.charAt(o+1)||i.isNumeric(e.charAt(o+1)))return!1;for(var a=o+1;"$"==e.charAt(a)&&"{"!=e.charAt(a+1);)a++;var l,c=a-o,u=0,p=!1;return(l=e.substr(a).match(/^@(\-?)(\d*)/))&&(a+=l[0].length,l[1]&&(p=!0),u=parseInt(l[2]||1,10)-1),p&&n&&"number"==typeof t&&(t=n-t+1),t+=u,[e.substring(o,a),i.zeroPadString(t+"",c)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof r?r.apply(this,arguments):r},setCaretPlaceholder:function(e){r=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,t){var n=this.findNewlineBounds(e,t);return this.getLinePadding(n.substring(e))},escapeForRegexp:function(e){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return e.replace(t,"\\$&")},prettifyNumber:function(e,t){return e.toFixed(void 0===t?2:t).replace(/\.?0+$/,"")},replaceSubstring:function(e,t,n,i){return"object"==typeof n&&"end"in n&&(i=n.end,n=n.start),"string"==typeof i&&(i=n+i.length),void 0===i&&(i=n),n<0||n>e.length?e:e.substring(0,n)+t+e.substring(i)},replaceWith:function(e,t,n,i){if(t.length){var r=0,o=[];t.forEach(function(t){var s=i?n:this.repeatString(n,t[1]-t[0]);o.push(e.substring(r,t[0]),s),r=t[1]},this),e=o.join("")+e.substring(r)}return e},narrowToNonSpace:function(e,t,n){for(var r=i.create(t,n),o=/[\s\n\r\u00a0]/;r.start<r.end&&o.test(e.charAt(r.start));)r.start++;for(;r.end>r.start;)if(r.end--,!o.test(e.charAt(r.end))){r.end++;break}return r},findNewlineBounds:function(e,t){for(var n,r=e.length,o=0,s=r-1,a=t-1;a>0;a--)if("\n"==(n=e.charAt(a))||"\r"==n){o=a+1;break}for(var l=t;l<r;l++)if("\n"==(n=e.charAt(l))||"\r"==n){s=l;break}return i.create(o,s-o)},deepMerge:function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length;for("object"!=typeof s&&"function"!=typeof s&&(s={});a<l;a++)if(null!==(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(i&&("object"==typeof i||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&"object"==typeof n?n:{},s[t]=this.deepMerge(o,i)):void 0!==i&&(s[t]=i));return s},parseJSON:function(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(e){return{}}},unique:function(e,t){var n=[];return e.filter(function(e){var i=t?t(e):e;if(n.indexOf(i)<0)return n.push(i),!0})},pick:function(e){var t={},n=this.toArray(arguments,1);return Object.keys(e).forEach(function(i){~n.indexOf(i)&&(t[i]=e[i])}),t},find:function(e,t,n){var i;return n&&(t=t.bind(n)),Array.isArray(e)?e.some(function(e,n){if(t(e,n))return i=e}):Object.keys(e).some(function(n,r){if(t(e[n],r))return i=e[n]}),i},toArray:function(e,t){return Array.isArray(e)&&!t?e:Array.prototype.slice.call(e,t||0)},extend:function(e){for(var t,n=1,i=arguments.length;n<i;n++)(t=arguments[n])&&Object.keys(t).forEach(function(n){e[n]=t[n]});return e},defaults:function(e){for(var t,n=1,i=arguments.length;n<i;n++)(t=arguments[n])&&Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])});return e},flatten:function(e,t){t=t||[];var n=this;return n.toArray(e).forEach(function(e){Array.isArray(e)?n.flatten(e,t):t.push(e)}),t},clone:function(e){return Array.isArray(e)?e.slice(0):this.extend({},e)},without:function(e){return this.toArray(arguments,1).forEach(function(t){for(var n;~(n=e.indexOf(t));)e.splice(n,1)}),e},last:function(e){return e[e.length-1]}}})},{"../assets/range":30}],74:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){return'"'==e||"'"==e}function r(e,t){this.id="s"+(p=(p+1)%h),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=t,this._name=null,this._content=null,this._data={},!e&&t&&(e=a(0,t)),this.range=e,this.children=[]}var o=e("./common"),s=e("./comments"),a=e("../assets/range"),l=e("../assets/stringStream"),c=(e("../parser/css"),e("../assets/htmlMatcher")),u=e("../editTree/xml"),p=1,h=1e6,f=/^(\s*).+?(\s*)$/,d=/\s/g;return r.prototype={addChild:function(e){e instanceof r||(e=new r(e));var t=o.last(this.children);return t&&(t.nextSibling=e,e.previousSibling=t),e.parent=this,this.children.push(e),e},root:function(){var e=this;do{if(!e.parent)return e}while(e=e.parent);return e},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var e=this.nameRange();e&&(this._name=e.substring(this.source()))}return this._name},nameRange:function(){if(this.range&&"_selectorEnd"in this.range)return a.create2(this.range.start,this.range._selectorEnd)},matchDeep:function(e){if(!this.range.inside(e))return null;for(var t,n=0,i=this.children.length;n<i;n++)if(t=this.children[n].matchDeep(e))return t;return this.parent?this:null},allRanges:function(){var e=[];return this.parent&&e.push(this.range),this.children.forEach(function(t){e=e.concat(t.allRanges())}),e},data:function(e,t){return void 0!==t&&(this._data[e]=t),this._data[e]},stringify:function(e){e=e||"";var t="";return this.children.forEach(function(n){t+=e+n.name().replace(/\n/g,"\\n")+"\n",t+=n.stringify(e+"--")}),t},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var e=a.create2(this.range._contentStart+1,this.range.end-1),t=this.source(),n=e.start,i="";return this.children.forEach(function(e){i+=t.substring(n,e.range.start),n=e.range.end}),i+=t.substring(n,e.end),this._content=o.trim(i)}},{findAllRules:function(e){e=this.sanitize(e);for(var t,n,r=l(e),s=[],c=this,u=function(t){var n=c.extractSelector(e,t.start),i=a.create2(n.start,t.end);i._selectorEnd=n.end,i._contentStart=t.start,s.push(i)};n=r.next();)if(i(n)){if(!r.skipString(n))break}else"{"==n&&((t=this.matchBracesRanges(e,r.pos-1)).forEach(u),t.length)&&(r.pos=o.last(t).end);return s.sort(function(e,t){return e.start-t.start})},matchBracesRanges:function(e,t,n){n&&(e=this.sanitize(e));var i=l(e);i.start=i.pos=t;for(var r,o=[],s=[];r=i.next();)if("{"==r)o.push(i.pos-1);else if("}"==r){if(!o.length)throw"Invalid source structure (check for curly braces)";if(s.push(a.create2(o.pop(),i.pos)),!o.length)return s}else i.skipQuoted();return s},extractSelector:function(e,t,n){n&&(e=this.sanitize(e));for(var i,r=function(){var n=e.charAt(t);if('"'==n||"'"==n){for(;--t>=0&&(e.charAt(t)!=n||"\\"==e.charAt(t-1)););return!0}return!1},o=t;--t>=0;)if(!r())if(")"!=(i=e.charAt(t))){if("{"==i||"}"==i||";"==i){t++;break}}else for(;--t>=0&&(r()||"("!=e.charAt(t)););t<0&&(t=0);var s=e.substring(t,o).replace(d," ").match(f);return s&&(t+=s[1].length,o-=s[2].length),a.create2(t,o)},matchEnclosingRule:function(e,t){"string"==typeof e&&(e=this.findAllRules(e));var n=e.filter(function(e){return e.inside(t)});return o.last(n)},locateRule:function(e,t,n){var i=0,r=this.styleTagRange(e,t);r&&(i=r.start,t-=r.start,e=r.substring(e));var o=this.findAllRules(e),s=this.matchEnclosingRule(o,t);if(s)return s.shift(i);for(var a=0,l=o.length;a<l;a++)if(o[a].start>t)return o[n?a-1:a].shift(i)},sanitize:function(e){e=s.strip(e);for(var t,n=l(e),r=[];t=n.next();)if(i(t))n.skipString(t);else if(("#"===t||"@"===t)&&"{"===n.peek()){if(n.start=n.pos-1,!n.skipTo("}"))throw"Invalid string interpolation at "+n.start;n.pos+=1,r.push([n.start,n.pos])}return o.replaceWith(e,r,"a")},sectionTree:function(e){var t=new r(null,e),n=this.findAllRules(e),i=t;return n.forEach(function(e){i=function(e,n){for(;n&&n.range;){if(n.range.contains(e))return n.addChild(e);n=n.parent}return t.addChild(e)}(e,i)}),t},nestedSectionsInRule:function(e){var t=e.valueRange(!0).start,n=this.findAllRules(e.valueRange().substring(e.source));return n.forEach(function(e){e.start+=t,e.end+=t,e._selectorEnd+=t,e._contentStart+=t}),n},styleTagRange:function(e,t){var n=c.tag(e,t);return n&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(t,"lte","gte")&&n.innerRange},styleAttrRange:function(e,t){var n=u.parseFromPosition(e,t,!0);if(n){var i=n.itemFromPosition(t,!0);return i&&"style"==i.name().toLowerCase()&&i.valueRange(!0).cmp(t,"lte","gte")&&i.valueRange(!0)}},CSSSection:r}})},{"../assets/htmlMatcher":26,"../assets/range":30,"../assets/stringStream":32,"../editTree/xml":38,"../parser/css":56,"./comments":72,"./common":73}],75:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("./common"),r=e("../assets/resources");return{isInsideTag:function(e,t){for(var n=t;n>-1&&"<"!=e.charAt(n);)n--;if(-1!=n){var i=/^<\/?\w[\w\:\-]*.*?>/.exec(e.substring(n));if(i&&t>n&&t<n+i[0].length)return!0}return!1},outputInfo:function(e,t,n){return n=n||e.getProfileName(),{syntax:String(t||e.getSyntax()),profile:n||null,content:String(e.getContent())}},unindent:function(e,t){return i.unindentString(t,this.getCurrentLinePadding(e))},getCurrentLinePadding:function(e){return i.getLinePadding(e.getCurrentLine())},normalize:function(e,t){t=i.extend({newline:r.getNewline(),indentation:r.getVariable("indentation")},t);var n=function(e){return i.repeatString(t.indentation,e.length)},o=i.splitByLines(e);return"\t"!==t.indentation&&(o=o.map(function(e){return e.replace(/^\s+/,function(e){return e.replace(/\t/g,n)})})),o.join(t.newline)}}})},{"../assets/resources":31,"./common":73}],76:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){function t(){}return t.prototype=e,new t}function r(e,t,n,i){this.type_=e,this.index_=t||0,this.prio_=n||0,this.number_=void 0!==i&&null!==i?i:0,this.toString=function(){switch(this.type_){case b:return this.number_;case x:case w:case _:return this.index_;case k:return"CALL";default:return"Invalid Token"}}}function o(e,t,n,i){this.tokens=e,this.ops1=t,this.ops2=n,this.functions=i}function s(e){return"string"==typeof e?(S.lastIndex=0,S.test(e)?"'"+e.replace(S,function(e){var t=C[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+e+"'"):e}function a(e,t){return Number(e)+Number(t)}function l(e,t){return e-t}function c(e,t){return e*t}function u(e,t){return e/t}function p(e,t){return e%t}function h(e,t){return""+e+t}function f(e){return-e}function d(e){return Math.random()*(e||1)}function y(e){for(var t=e=Math.floor(e);e>1;)t*=--e;return t}function m(e,t){return Math.sqrt(e*e+t*t)}function g(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:((e=e.slice()).push(t),e)}function v(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":f,exp:Math.exp},this.ops2={"+":a,"-":l,"*":c,"/":u,"%":p,"^":Math.pow,",":g,"||":h},this.functions={random:d,fac:y,min:Math.min,max:Math.max,pyt:m,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}var b=0,x=1,w=2,_=3,k=4,S=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,C={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};o.prototype={simplify:function(e){e=e||{};var t,n,s,a,l=[],c=[],u=this.tokens.length,p=0;for(p=0;p<u;p++){var h=(a=this.tokens[p]).type_;if(h===b)l.push(a);else if(h===_&&a.index_ in e)a=new r(b,0,0,e[a.index_]),l.push(a);else if(h===w&&l.length>1)n=l.pop(),t=l.pop(),s=this.ops2[a.index_],a=new r(b,0,0,s(t.number_,n.number_)),l.push(a);else if(h===x&&l.length>0)t=l.pop(),s=this.ops1[a.index_],a=new r(b,0,0,s(t.number_)),l.push(a);else{for(;l.length>0;)c.push(l.shift());c.push(a)}}for(;l.length>0;)c.push(l.shift());return new o(c,i(this.ops1),i(this.ops2),i(this.functions))},substitute:function(e,t){t instanceof o||(t=(new v).parse(String(t)));var n,s=[],a=this.tokens.length,l=0;for(l=0;l<a;l++){if((n=this.tokens[l]).type_===_&&n.index_===e)for(var c=0;c<t.tokens.length;c++){var u=t.tokens[c],p=new r(u.type_,u.index_,u.prio_,u.number_);s.push(p)}else s.push(n)}return new o(s,i(this.ops1),i(this.ops2),i(this.functions))},evaluate:function(e){e=e||{};var t,n,i,r,o=[],s=this.tokens.length,a=0;for(a=0;a<s;a++){var l=(r=this.tokens[a]).type_;if(l===b)o.push(r.number_);else if(l===w)n=o.pop(),t=o.pop(),i=this.ops2[r.index_],o.push(i(t,n));else if(l===_)if(r.index_ in e)o.push(e[r.index_]);else{if(!(r.index_ in this.functions))throw new Error("undefined variable: "+r.index_);o.push(this.functions[r.index_])}else if(l===x)t=o.pop(),i=this.ops1[r.index_],o.push(i(t));else{if(l!==k)throw new Error("invalid Expression");if(t=o.pop(),!(i=o.pop()).apply||!i.call)throw new Error(i+" is not a function");"[object Array]"==Object.prototype.toString.call(t)?o.push(i.apply(void 0,t)):o.push(i.call(void 0,t))}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},toString:function(e){var t,n,i,r,o=[],a=this.tokens.length,l=0;for(l=0;l<a;l++){var c=(r=this.tokens[l]).type_;if(c===b)o.push(s(r.number_));else if(c===w)n=o.pop(),t=o.pop(),i=r.index_,e&&"^"==i?o.push("Math.pow("+t+","+n+")"):o.push("("+t+i+n+")");else if(c===_)o.push(r.index_);else if(c===x)t=o.pop(),"-"===(i=r.index_)?o.push("("+i+t+")"):o.push(i+"("+t+")");else{if(c!==k)throw new Error("invalid Expression");t=o.pop(),i=o.pop(),o.push(i+"("+t+")")}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},variables:function(){for(var e=this.tokens.length,t=[],n=0;n<e;n++){var i=this.tokens[n];i.type_===_&&-1==t.indexOf(i.index_)&&t.push(i.index_)}return t},toJSFunction:function(e,t){return new Function(e,"with(Parser.values) { return "+this.simplify(t).toString(!0)+"; }")}},v.parse=function(e){return(new v).parse(e)},v.evaluate=function(e,t){return v.parse(e).evaluate(t)},v.Expression=o,v.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:d,fac:y,exp:Math.exp,min:Math.min,max:Math.max,pyt:m,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};return v.prototype={parse:function(e){this.errormsg="",this.success=!0;var t=[],n=[];this.tmpprio=0;var s=77,a=0;for(this.expression=e,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&64&s?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",a++,this.addfunc(n,t,x)),s=77):this.isComment()||(0==(2&s)&&this.error_parsing(this.pos,"unexpected operator"),a+=2,this.addfunc(n,t,w),s=77);else if(this.isNumber()){0==(1&s)&&this.error_parsing(this.pos,"unexpected number");l=new r(b,0,0,this.tokennumber);n.push(l),s=50}else if(this.isString()){0==(1&s)&&this.error_parsing(this.pos,"unexpected string");l=new r(b,0,0,this.tokennumber);n.push(l),s=50}else if(this.isLeftParenth())0==(8&s)&&this.error_parsing(this.pos,'unexpected "("'),128&s&&(a+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(n,t,k)),s=333;else if(this.isRightParenth()){if(256&s){var l=new r(b,0,0,[]);n.push(l)}else 0==(16&s)&&this.error_parsing(this.pos,'unexpected ")"');s=186}else if(this.isComma())0==(32&s)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(n,t,w),a+=2,s=77;else if(this.isConst()){0==(1&s)&&this.error_parsing(this.pos,"unexpected constant");var c=new r(b,0,0,this.tokennumber);n.push(c),s=50}else if(this.isOp2())0==(4&s)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(n,t,w),a+=2,s=8;else if(this.isOp1())0==(4&s)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(n,t,x),a++,s=8;else if(this.isVar()){0==(1&s)&&this.error_parsing(this.pos,"unexpected variable");var u=new r(_,this.tokenindex,0,0);n.push(u),s=186}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');t.length>0;){var p=t.pop();n.push(p)}return a+1!==n.length&&this.error_parsing(this.pos,"parity"),new o(n,i(this.ops1),i(this.ops2),i(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,this.errormsg="parse error [column "+e+"]: "+t,new Error(this.errormsg)},addfunc:function(e,t,n){for(var i=new r(n,this.tokenindex,this.tokenprio+this.tmpprio,0);t.length>0&&i.prio_<=t[t.length-1].prio_;)e.push(t.pop());t.push(i)},isNumber:function(){for(var e=!1,t="";this.pos<this.expression.length;){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&n<=57||46===n))break;t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0}return e},unescape:function(e,t){for(var n=[],i=!1,r=0;r<e.length;r++){var o=e.charAt(r);if(i){switch(o){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("\t");break;case"u":var s=parseInt(e.substring(r+1,r+5),16);n.push(String.fromCharCode(s)),r+=4;break;default:throw this.error_parsing(t+r,"Illegal escape sequence: '\\"+o+"'")}i=!1}else"\\"==o?i=!0:n.push(o)}return n.join("")},isString:function(){var e=!1,t="",n=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,n),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in this.consts){var n=t.length;if(e=this.expression.substr(this.pos,n),t===e)return this.tokennumber=this.consts[t],this.pos+=n,!0}return!1},isOperator:function(){var e=this.expression.charCodeAt(this.pos);if(43===e)this.tokenprio=0,this.tokenindex="+";else if(45===e)this.tokenprio=0,this.tokenindex="-";else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===e)this.tokenprio=1,this.tokenindex="*";else if(47===e)this.tokenprio=2,this.tokenindex="/";else if(37===e)this.tokenprio=2,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e||43===e},isPositiveSign:function(){return 43===this.expression.charCodeAt(this.pos-1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)},isLeftParenth:function(){return 40===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){return 41===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return 44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var e=this.expression.charCodeAt(this.pos);return(32===e||9===e||10===e||13===e)&&(this.pos++,!0)},isOp1:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&e in this.ops1&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isOp2:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&e in this.ops2&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isVar:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&(n<"0"||n>"9")))break;e+=n}return e.length>0&&(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0)},isComment:function(){return 47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)}},v})},{}],77:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){function i(e){for(var t=[],n=s(e);!n.eol();)","==n.peek()&&(t.push(a.trim(n.current())),n.next(),n.start=n.pos),n.next();return t.push(a.trim(n.current())),t.filter(function(e){return!!e})}function r(e,t){if(/^['"]/.test(e))return e.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+e))return+e;if(e){for(var n=e.split("."),i=t;n.length;)i=i[n.shift()];return i}}function o(e,t){return e.replace(/<%[=\-](.+?)%>/g,function(e,n){var o=function(e){for(var t,n=null,r=s(e);!r.eol();){if("("==r.peek()){n=r.current(),r.start=r.pos,r.skipToPair("(",")",!0),t=i((t=r.current()).substring(1,t.length-1));break}r.next()}return n&&{name:n,args:t}}(n=a.trim(n));if(o){var l=o.args.map(function(e){return r(e,t)});return t[o.name].apply(t,l)}return r(n,t)})}var s=e("../assets/stringStream"),a=e("./common");return function(e,t){return t?o(e,t):function(t){return o(e,t)}}})},{"../assets/stringStream":32,"./common":73}],78:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){var i=e("../utils/common"),r=function(){};return{extend:function(e,t){var n=function(e,t,n){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},i.extend(o,e),r.prototype=e.prototype,o.prototype=new r,t&&i.extend(o.prototype,t),n&&i.extend(o,n),o.prototype.constructor=o,o.__super__=e.prototype,o}(this,e,t);return n.extend=this.extend,e.hasOwnProperty("toString")&&(n.prototype.toString=e.toString),n}}})},{"../utils/common":73}],79:[function(e,t,n){if("object"==typeof t&&"function"!=typeof i)var i=function(i){t.exports=i(e,n,t)};i(function(e,t,n){return{score:function(e,t,n){if(e==t)return 1;if(""==t)return 0;for(var i,r,o,s,a,l,c,u,p,h=0,f=t.length,d=e.length,y=1,m=0;m<f;++m){if(l=t.charAt(m),c=e.indexOf(l.toLowerCase()),u=e.indexOf(l.toUpperCase()),p=Math.min(c,u),-1===(a=p>-1?p:Math.max(c,u))){if(n){y+=1-n;continue}return 0}s=.1,e[a]===l&&(s+=.1),0===a?(s+=.6,0===m&&(i=1)):" "===e.charAt(a-1)&&(s+=.8),e=e.substring(a+1,d),h+=s}return r=h/f,o=(r*(f/d)+r)/2,o/=y,i&&o+.15<1&&(o+=.15),o}}})},{}],80:[function(e,t,n){"use strict";function i(e){var t=void 0===arguments[1]?p:arguments[1];return t=a(t),e.__emmetKeymap=t,e.addKeyMap(t),e}function r(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}function o(e){return function(t){var n=new c(t),i=n.selectionList(),r=null;return t.operation(function(){for(var t=0,o=i.length;t<o&&(n.selectionIndex=t,(r=s(e,n))!==CodeMirror.Pass);t++);}),r}}function s(e,t){if("expand_abbreviation_with_tab"==e&&(t.context.somethingSelected()||!t.isValidSyntax()))return r();var n=!1;try{if(!(n=u.run(e,t))&&"insert_formatted_line_break_only"==e)return r()}catch(e){console.error(e)}return n}function a(e){var t=/Mac/.test(navigator.platform),n={};return Object.keys(e).forEach(function(i){return n[t?i:i.replace("Cmd","Ctrl")]=e[i]}),n}var l=function(e){return e&&e.__esModule?e.default:e};t.exports=i;var c=l(e("./editor")),u=l(e("./emmet")),p={"Cmd-E":"emmet.expand_abbreviation",Tab:"emmet.expand_abbreviation_with_tab","Cmd-D":"emmet.balance_outward","Shift-Cmd-D":"emmet.balance_inward","Cmd-M":"emmet.matching_pair","Shift-Cmd-A":"emmet.wrap_with_abbreviation","Ctrl-Alt-Right":"emmet.next_edit_point","Ctrl-Alt-Left":"emmet.prev_edit_point","Cmd-L":"emmet.select_line","Cmd-Shift-M":"emmet.merge_lines","Cmd-/":"emmet.toggle_comment","Cmd-J":"emmet.split_join_tag","Cmd-K":"emmet.remove_tag","Shift-Cmd-Y":"emmet.evaluate_math_expression","Ctrl-Up":"emmet.increment_number_by_1","Ctrl-Down":"emmet.decrement_number_by_1","Ctrl-Alt-Up":"emmet.increment_number_by_01","Ctrl-Alt-Down":"emmet.decrement_number_by_01","Shift-Ctrl-Up":"emmet.increment_number_by_10","Shift-Ctrl-Down":"emmet.decrement_number_by_10","Shift-Cmd-.":"emmet.select_next_item","Shift-Cmd-,":"emmet.select_previous_item","Cmd-B":"emmet.reflect_css_value",Enter:"emmet.insert_formatted_line_break_only"},h=["prev_edit_point","next_edit_point","merge_lines","reflect_css_value","select_next_item","select_previous_item","wrap_with_abbreviation","update_tag","insert_formatted_line_break_only"];i.dispose=function(e){e.__emmetKeymap&&(e.removeKeyMap(e.__emmetKeymap),delete e.__emmetKeymap)},i.defaultKeymap=p,i.systemKeymap=a,i.emmet=u,i.EmmetEditor=c,i.setup=function(e){u.actions.getList().forEach(function(t){var n=t.name,i="emmet."+n;e.commands[i]||(e.commands[i]=~h.indexOf(n)?function(e){return function(t){var n;return t.operation(function(){return n=s(e,new c(t))}),n}}(n):o(n))}),e.defineOption?e.defineOption("profile","html"):e.defaults.profile="html"},"undefined"!=typeof CodeMirror&&i.setup(CodeMirror)},{"./editor":1,"./emmet":2}]},{},[80])(80)}),__whitespace={" ":!0,"\t":!0,"\n":!0,"\f":!0,"\r":!0},difflib={defaultJunkFunction:function(e){return __whitespace.hasOwnProperty(e)},stripLinebreaks:function(e){return e.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(e){for(var t=e.indexOf("\n"),n=e.indexOf("\r"),i=t>-1&&n>-1||n<0?"\n":"\r",r=e.split(i),o=0;o<r.length;o++)r[o]=difflib.stripLinebreaks(r[o]);return r},__reduce:function(e,t,n){if(null!=n)var i=n,r=0;else{if(!t)return null;var i=t[0],r=1}for(;r<t.length;r++)i=e(i,t[r]);return i},__ntuplecomp:function(e,t){for(var n=Math.max(e.length,t.length),i=0;i<n;i++){if(e[i]<t[i])return-1;if(e[i]>t[i])return 1}return e.length==t.length?0:e.length<t.length?-1:1},__calculate_ratio:function(e,t){return t?2*e/t:1},__isindict:function(e){return function(t){return e.hasOwnProperty(t)}},__dictget:function(e,t,n){return e.hasOwnProperty(t)?e[t]:n},SequenceMatcher:function(e,t,n){this.set_seqs=function(e,t){this.set_seq1(e),this.set_seq2(t)},this.set_seq1=function(e){e!=this.a&&(this.a=e,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(e){e!=this.b&&(this.b=e,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var e=this.b,t=e.length,n=this.b2j={},i={},r=0;r<e.length;r++){s=e[r];if(n.hasOwnProperty(s)){var o=n[s];t>=200&&100*o.length>t?(i[s]=1,delete n[s]):o.push(r)}else n[s]=[r]}for(var s in i)i.hasOwnProperty(s)&&delete n[s];var a=this.isjunk,l={};if(a){for(var s in i)i.hasOwnProperty(s)&&a(s)&&(l[s]=1,delete i[s]);for(var s in n)n.hasOwnProperty(s)&&a(s)&&(l[s]=1,delete n[s])}this.isbjunk=difflib.__isindict(l),this.isbpopular=difflib.__isindict(i)},this.find_longest_match=function(e,t,n,i){for(var r=this.a,o=this.b,s=this.b2j,a=this.isbjunk,l=e,c=n,u=0,p=null,h={},f=[],d=e;d<t;d++){var y={},m=difflib.__dictget(s,r[d],f);for(var g in m)if(m.hasOwnProperty(g)){if((p=m[g])<n)continue;if(p>=i)break;y[p]=k=difflib.__dictget(h,p-1,0)+1,k>u&&(l=d-k+1,c=p-k+1,u=k)}h=y}for(;l>e&&c>n&&!a(o[c-1])&&r[l-1]==o[c-1];)l--,c--,u++;for(;l+u<t&&c+u<i&&!a(o[c+u])&&r[l+u]==o[c+u];)u++;for(;l>e&&c>n&&a(o[c-1])&&r[l-1]==o[c-1];)l--,c--,u++;for(;l+u<t&&c+u<i&&a(o[c+u])&&r[l+u]==o[c+u];)u++;return[l,c,u]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var e,t,n,i,r,o,s,a,l,c=this.a.length,u=this.b.length,p=[[0,c,0,u]],h=[];p.length;)e=(r=p.pop())[0],t=r[1],n=r[2],i=r[3],o=(l=this.find_longest_match(e,t,n,i))[0],s=l[1],(a=l[2])&&(h.push(l),e<o&&n<s&&p.push([e,o,n,s]),o+a<t&&s+a<i&&p.push([o+a,t,s+a,i]));h.sort(difflib.__ntuplecomp);var f=j1=k1=block=0,d=[];for(var y in h)h.hasOwnProperty(y)&&(block=h[y],i2=block[0],j2=block[1],k2=block[2],f+k1==i2&&j1+k1==j2?k1+=k2:(k1&&d.push([f,j1,k1]),f=i2,j1=j2,k1=k2));return k1&&d.push([f,j1,k1]),d.push([c,u,0]),this.matching_blocks=d,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var e=0,t=0,n=[];this.opcodes=n;var i,r,o,s,a,l=this.get_matching_blocks();for(var c in l)l.hasOwnProperty(c)&&(r=(i=l[c])[0],o=i[1],s=i[2],a="",e<r&&t<o?a="replace":e<r?a="delete":t<o&&(a="insert"),a&&n.push([a,e,r,t,o]),e=r+s,t=o+s,s&&n.push(["equal",r,e,o,t]));return n},this.get_grouped_opcodes=function(e){e||(e=3);var t=this.get_opcodes();t||(t=[["equal",0,1,0,1]]);var n,i,r,o,s,a;"equal"==t[0][0]&&(i=(n=t[0])[0],r=n[1],o=n[2],s=n[3],a=n[4],t[0]=[i,Math.max(r,o-e),o,Math.max(s,a-e),a]),"equal"==t[t.length-1][0]&&(i=(n=t[t.length-1])[0],r=n[1],o=n[2],s=n[3],a=n[4],t[t.length-1]=[i,r,Math.min(o,r+e),s,Math.min(a,s+e)]);var l=e+e,c=[],u=[];for(var p in t)t.hasOwnProperty(p)&&(i=(n=t[p])[0],r=n[1],o=n[2],s=n[3],a=n[4],"equal"==i&&o-r>l&&(c.push([i,r,Math.min(o,r+e),s,Math.min(a,s+e)]),u.push(c),c=[],r=Math.max(r,o-e),s=Math.max(s,a-e)),c.push([i,r,o,s,a]));return!c||1==c.length&&"equal"==c[0][0]||u.push(c),u},this.ratio=function(){return matches=difflib.__reduce(function(e,t){return e+t[t.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)},this.quick_ratio=function(){var e,t;if(null==this.fullbcount){this.fullbcount=e={};for(o=0;o<this.b.length;o++)e[t=this.b[o]]=difflib.__dictget(e,t,0)+1}e=this.fullbcount;for(var n={},i=difflib.__isindict(n),r=numb=0,o=0;o<this.a.length;o++)i(t=this.a[o])?numb=n[t]:numb=difflib.__dictget(e,t,0),n[t]=numb-1,numb>0&&r++;return difflib.__calculate_ratio(r,this.a.length+this.b.length)},this.real_quick_ratio=function(){var e=this.a.length,t=this.b.length;return _calculate_ratio(Math.min(e,t),e+t)},this.isjunk=n||difflib.defaultJunkFunction,this.a=this.b=null,this.set_seqs(e,t)}},diffview={buildView:function(e){function t(e,t){var n=document.createElement(e);return n.className=t,n}function n(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function i(e,t,n){var i=document.createElement(e);return i.className=t,i.appendChild(document.createTextNode(n)),i}function r(e,r,o,s,a){return r<o?(e.appendChild(n("th",(r+1).toString())),e.appendChild(i("td",a,s[r].replace(/\t/g,""))),r+1):(e.appendChild(document.createElement("th")),e.appendChild(t("td","empty")),r)}function o(e,t,r,o,s){e.appendChild(n("th",null==t?"":(t+1).toString())),e.appendChild(n("th",null==r?"":(r+1).toString())),e.appendChild(i("td",s,o[null!=t?t:r].replace(/\t/g,"")))}var s=e.baseTextLines,a=e.newTextLines,l=e.opcodes,c=e.baseTextName?e.baseTextName:"Base Text",u=e.newTextName?e.newTextName:"New Text",p=e.contextSize,h=0==e.viewType||1==e.viewType?e.viewType:0;if(null==s)throw"Cannot build diff view; baseTextLines is not defined.";if(null==a)throw"Cannot build diff view; newTextLines is not defined.";if(!l)throw"Canno build diff view; opcodes is not defined.";var f=document.createElement("thead"),d=document.createElement("tr");f.appendChild(d),h?(d.appendChild(document.createElement("th")),d.appendChild(document.createElement("th")),d.appendChild(i("th","texttitle",c+" vs. "+u))):(d.appendChild(document.createElement("th")),d.appendChild(i("th","texttitle",c)),d.appendChild(document.createElement("th")),d.appendChild(i("th","texttitle",u))),f=[f];for(var y,m=[],g=0;g<l.length;g++){code=l[g],change=code[0];for(var v=code[1],b=code[2],x=code[3],w=code[4],_=Math.max(b-v,w-x),k=[],S=[],C=0;C<_;C++){if(p&&l.length>1&&(g>0&&C==p||0==g&&0==C)&&"equal"==change){var T=_-(0==g?1:2)*p;if(T>1){if(k.push(d=document.createElement("tr")),v+=T,x+=T,C+=T-1,d.appendChild(n("th","...")),h||d.appendChild(i("td","skip","")),d.appendChild(n("th","...")),d.appendChild(i("td","skip","")),g+1==l.length)break;continue}}k.push(d=document.createElement("tr")),h?"insert"==change?o(d,null,x++,a,change):"replace"==change?(S.push(y=document.createElement("tr")),v<b&&o(d,v++,null,s,"delete"),x<w&&o(y,null,x++,a,"insert")):"delete"==change?o(d,v++,null,s,change):o(d,v++,x++,s,change):(v=r(d,v,b,s,change),x=r(d,x,w,a,change))}for(C=0;C<k.length;C++)m.push(k[C]);for(C=0;C<S.length;C++)m.push(S[C])}m.push(d=i("th","author","diff view generated by ")),d.setAttribute("colspan",h?3:4),d.appendChild(y=n("a","jsdifflib")),y.setAttribute("href","http://github.com/cemerick/jsdifflib"),f.push(d=document.createElement("tbody"));for(var g in m)m.hasOwnProperty(g)&&d.appendChild(m[g]);d=t("table","diff"+(h?" inlinediff":""));for(var g in f)f.hasOwnProperty(g)&&d.appendChild(f[g]);return d}};var Sidebar=new Class({Implements:[Options,Class.Occlude,Events],parameter:"Sidebar",options:{DOM:"",toggleSidebar:"toggleSidebar"},initialize:function(e){if(this.setOptions(e),$(this.options.DOM)){if(this.element=$(this.options.DOM),this.occlude())return this.occluded;this.element.getElement(".toggler").addClass("active"),this.accordion=new Fx.Accordion("#"+this.options.DOM+" .toggler","#"+this.options.DOM+" .elementBody"),this.accordion.setOptions({duration:120}),this.accordion.addEvent("active",function(e,t){e.addClass("active").getSiblings(".toggler").removeClass("active"),this.fireEvent("accordion_activated"),this.fireEvent("accordion_resized",[])}.bind(this))}},toElement:function(){return this.element}});Element.implement({getInnerWidth:function(){return this.getSize().x-this.getStyle("padding-left").toInt()-this.getStyle("padding-right").toInt()-this.getStyle("border-left-width").toInt()-this.getStyle("border-right-width").toInt()},getInnerHeight:function(){return this.getSize().y-this.getStyle("padding-top").toInt()-this.getStyle("padding-bottom").toInt()-this.getStyle("border-top-width").toInt()-this.getStyle("border-bottom-width").toInt()}});var keyMods={shift:!1,shiftKey:!1,control:!1,ctrlKey:!1},Layout={localDraft:{},editors:$H({}),editors_order:["html","css","js"],reservedKeys:[["ctrlKey",13,"run"],["control",13,"run"],["ctrlKey",38,"switchPrev"],["ctrlKey",40,"switchNext"],["ctrlKey+shiftKey",13,"loadDraft"],["control+shift",13,"loadDraft"],["ctrlKey+shiftKey",38,"toggleSidebar"],["control+shift",38,"toggleSidebar"],["ctrlKey+shiftKey",76,"showShortcutDialog"],["control+shift",76,"showShortcutDialog"],["ctrlKey",83,"saveAndReload"],["control",83,"saveAndReload"]],isMobile:navigator.userAgent.match(/(iPhone|iPod|iPad)/)||navigator.userAgent.match(/BlackBerry/)||navigator.userAgent.match(/Android/),render:function(){this.sidebar=new Sidebar({DOM:"sidebar"}),window.addEvents({resize:this.resize.bind(this),keydown:function(e){this.isReservedKey(!1,e)&&this.routeReservedKey(e)}.bind(this)}),this.sidebar.addEvents({accordion_resized:this.resize.bind(this)});document.id("result");this.resize(),this.resize.bind(this).delay(20),Browser.Engine.trident4||this.createDragInstances(),this.createErrorTooltips(),this.fireEvent("ready");new Dropdown;if(this.progressbar=new Mprogress({template:1,parent:"#progressbar"}),this.applyEditorOptions(),sessionId=Cookie.read("session_id"),null===sessionId&&(Cookie.write("session_id","a"+function(e){return Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)}(20)+"z"),sessionId=Cookie.read("session_id")),fiddleOptions.slug){var e=function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n||(n=new XDomainRequest),n.open("GET",e),n.setRequestHeader("X-Hello","true"),n.send(),n},t="//counter.jsfiddle.net/"+fiddleOptions.slug+".json?k="+sessionId,n=document.location;n.href.indexOf("//jsfiddle.net")>=0?e(t):"#debug"===n.hash&&e(t)}},getEditorOptions:function(){var e=window.localStorage.JSFIDDLE_editor_options;return JSON.decode(e)||{}},applyEditorOptions:function(){window.userCmOptions=this.getEditorOptions();var e=window.userCmOptions;Object.each(e,function(e,t){var n=document.getElement("#editor-options *[name="+t+"]");n&&("checkbox"===n.get("type")?n.checked=e:n.set("value",e),n.fireEvent("change"))})},createErrorTooltips:function(){var e=Element("span",{class:"CodeMirror-error-tooltip"}).inject(document.body);document.id("content").addEvents({"mouseover:relay(.CodeMirror-line-error)":function(t){e.set({html:this.get("data-title"),styles:{display:"block"}}),e.position({relativeTo:this,edge:"centerBottom",offset:{y:-15}})},"mouseout:relay(.CodeMirror-line-error)":function(){e.set({html:"",styles:{top:0,left:0,display:"none"}})}})},routeReservedKey:function(e){this.reservedKeys.each(function(t){this.matchKey(e,t)&&mooshell[t.getLast()].bind(mooshell).call()},this)},spinnerState:function(e){"start"===e&&this.progressbar.start(),"end"===e&&this.progressbar.end()},matchKey:function(e,t){if(!e)return!1;var n=e.keyCode||e.code;if(!t.contains(n))return!1;var i=!0;if(t.length>1){var r={};t[0].split("+").each(function(e){r[e]=!0}),$each(keyMods,function(e,t){r[t]||(r[t]=!1)}),$each(r,function(t,n){!!e[n]!=t&&(i=!1)})}return i},isReservedKey:function(e,t){return this.reservedKeys.some(function(e){return this.matchKey(t,e)},this)},findLayoutElements:function(){this.content=document.id("content"),this.columns=this.content.getChildren(".column"),this.windows=this.content.getElements(".window"),this.shims=this.content.getElements(".column .shim"),this.handlers=$H({vertical:this.content.getElementById("handler_vertical"),left:this.columns[0].getElement(".handler_horizontal"),right:this.columns[1].getElement(".handler_horizontal")})},registerEditor:function(e){this.editors[e.options.name]=e,this.resize()},decodeEditors:function(){this.editors.each(function(e){e.b64decode()})},updateFromMirror:function(){this.editors.each(function(e){e.updateFromMirror()})},cleanMirrors:function(){this.editors.each(function(e){e.clean()})},createDragInstances:function(){var e=function(){var e={w:[],h:[]};this.columns.each(function(t,n){var i=t.getStyle("width");e.w[n]=i.contains("%")?i:null}),this.windows.each(function(t,n){var i=t.getStyle("height");e.h[n]=i.contains("%")?i:null}),Cookie.write("window_sizes",JSON.encode(e))}.bind(this),t=function(t){var n=t.getParent().getElements(".window"),i=(t.getPosition(this.content).y+t.getHeight()/2)/this.content.getHeight()*100;n[0].setStyle("height",i+"%"),n[1].setStyle("height",100-i+"%"),this.refreshEditors(),e()}.bind(this),n=function(t){var n=(t.getPosition(this.content).x+t.getWidth()/2)/this.content.getWidth()*100;this.columns[0].setStyle("width",n+"%"),this.columns[1].setStyle("width",100-n+"%"),e()}.bind(this);this.handlers.each(function(e){var i=e.hasClass("handler_horizontal");e.dragInstance=new Drag(e,{modifiers:i?{x:null,y:"top"}:{x:"left",y:null},limit:{x:[100,this.content.getWidth()-100],y:[100,this.content.getHeight()-100]},onBeforeStart:function(){this.shims.show()}.bind(this),onDrag:i?t:n,onCancel:function(){this.shims.hide()}.bind(this),onComplete:function(){this.shims.hide()}.bind(this)})},this),window.addEvent("unload",e),window.addEvent("resize",e),this.setWindowSizes()},setWindowSizes:function(e){void 0===e&&(e=Cookie.read("window_sizes"))&&(e=JSON.decode(e)),e?("array"===$type(e.w)&&e.w.each(function(e,t){this.columns[t].setStyle("width",e)},this),"array"==$type(e.h)&&e.h.each(function(e,t){this.windows[t].setStyle("height",e)},this)):(this.columns.setStyle("width",null),this.windows.setStyle("height",null),Cookie.dispose("window_sizes",{domain:location.host})),this.resize()},resize:function(e){this.content||this.findLayoutElements();var t=window.getSize().y-this.columns[0].getPosition().y+this.windows[0].getStyle("top").toInt()+this.windows[1].getStyle("bottom").toInt();this.content.setStyle("height",t),this.handlers.vertical.setStyle("left",this.windows[0].getCoordinates(this.content).right),this.handlers.left.setStyle("top",this.windows[0].getCoordinates(this.content).bottom),this.handlers.right.setStyle("top",this.windows[2].getCoordinates(this.content).bottom),this.fireEvent("resize")},refreshEditors:function(){Object.each(this.editors,function(e){e.editor.refresh()})}};$extend(Layout,new Events),window.editorsModified=!1,Request.JSON.implement({initialize:function(e){this.parent(e),this.setHeader("X-CSRFToken",Cookie.read("csrftoken"))}}),Track={ui:function(e){"function"==typeof ga&&ga("send",{hitType:"event",eventCategory:"UI",eventAction:e||null})}};var MooShellActions=new Class({Implements:[Options,Events],options:{formId:"show-result",saveAndReloadId:"update",saveAsNewId:"savenew",forkId:"fork",runId:"run",draftId:"mobile",tidyId:"tidy",showJsId:"showjscode",shareSelector:".embedCode",favId:"mark_favourite",entriesSelector:"textarea",resultLabel:"result_label",resultInput:"select_link",collaborateId:"collaborate",sendCallbackId:"sendCallback",applyDraft:"apply-draft",discardDraft:"discard-draft",example_id:!1,exampleURL:"",exampleSaveURL:"",sendCallbackURL:"",loadDependenciesURL:"",tidy:{javascript:"js","javascript 1.7":"js",html:"html",css:"css"},jslint:{evil:!0,passfail:!1,browser:!0,newcap:!1},jslintLanguages:["text/javascript","javascript","javascript 1.7"],showJSLanguages:["text/coffeescript","coffeescript"]},initialize:function(e){this.setOptions(e);var t=function(e,t,n){(e=$(e))&&e.addEvent("click",t.bind(n))};Layout.addEvent("ready",function(){t(this.options.saveAndReloadId,this.saveAndReload,this),t(this.options.saveAsNewId,this.saveAsNew,this),t(this.options.forkId,this.saveAsNew,this),t(this.options.sendCallbackId,this.sendCallback,this),t(this.options.runId,this.run,this),t(this.options.draftId,this.run,this),t(this.options.showJsId,this.showJs,this),t(this.options.tidyId,this.prepareAndLaunchTidy,this),t(this.options.favId,this.makeFavourite,this),t(this.options.collaborateId,this.launchCollaboration,this),t(this.options.applyDraft,this.applyDraft,this),t(this.options.discardDraft,this.discardDraft,this);var e=document.getElements("a.keyActions");e.addEvents({click:function(e){this.showShortcutDialog(e)}.bind(this)}),document.id(document.body).addEvents({keydown:function(t){if(t.shift&&"/"===t.key){"body"===new Element(t.target).get("tag")&&e[0].fireEvent("click")}}});var n=$$(this.options.shareSelector);n.length>0&&n.addEvent("click",function(){this.select()}),this.form=document.id(this.options.formId),this.options.exampleURL&&this.displayExampleURL(),$$(".panelChoice").addEvent("change",this.switchLanguageAction.bind(this)),this.showHideTidyUp(),this.editorOptions()}.bind(this))},hideDraftApply:function(){document.getElement(".draftTriggerCont").hide()},discardDraft:function(e){e&&e.stop(),Layout.editors.each(function(e,t){e.draftRemove(fiddleOptions.example_id)},this),this.hideDraftApply(),Track.ui("Discard draft")},applyDraft:function(e){e.stop(),Layout.editors.each(function(e,t){e.draftApply(fiddleOptions.example_id)},this),this.hideDraftApply(),Track.ui("Apply draft")},editorOptions:function(){document.getElements("#editor-options input, #editor-options select").addEvents({change:function(e){var t="checkbox"===this.get("type")?this.checked:this.get("value"),n=this.get("name");t=function(e){return parseInt(e)>=0?parseInt(e):e}(t),window.defaultCmOptions[n]===t?(Object.erase(window.userCmOptions,n),"indentUnit"===n&&Object.erase(window.userCmOptions,"tabSize")):(window.userCmOptions[n]=t,"indentUnit"===n&&(window.userCmOptions.tabSize=t)),Layout.editors.each(function(e){e.editor.setOption(n,t),"indentUnit"===n&&e.editor.setOption("tabSize",t)},this),window.localStorage.setItem("JSFIDDLE_editor_options",JSON.encode(window.userCmOptions)),Track.ui("Changed editor settings: "+n)}})},switchLanguageAction:function(e){if(e){var t=$(e.target);this.switchLanguage(t)}},switchLanguage:function(e){var t=e.get("data-panel"),n=Layout.editors[t],i=e.getElement("option:selected").get("text"),r=e.getElement("option:selected").get("data-mime-type");"text/babel"===r?n.editor.setOption("mode","text/jsx"):n.editor.setOption("mode",r),Layout.editors[t].setLabelName(i),window["panel_"+t]=i.toLowerCase(),this.showHideTidyUp(),Track.ui("Switch language: "+i)},loadAsset:function(e,t,n,i){if(!e())return i&&(n=n.bind(i)),Asset.javascript(t,{onload:n}),!0},prepareCoffee:function(e){return this.loadAsset(function(){return $defined(window.CoffeeScript)},"/js/coffeescript/coffeescript.js",e,this)},showJs:function(e){if(e&&e.stop(),!this.prepareCoffee(this.showJs,this)){var t,n,i='<div class="modalWrap modal_Coffee"><div class="modalHeading"><h3>JavaScript Code</h3><span class="close">Close window</span></div><div id="" class="modalBody">';if("coffeescript"==panel_js){n=Layout.editors.js.editor.getValue();try{t=CoffeeScript.compile(n),i+="<pre>"+t+"</pre>"}catch(e){i+='<p class="error">'+e+"</p>"}i+="</div></div>",new StickyWin({content:i,relativeTo:$(document.body),position:"center",edge:"center",closeClassName:"close",draggable:!0,dragHandleSelector:"h3",closeOnEsc:!0,destroyOnClose:!0,allowMultiple:!1,onDisplay:this.showModalFx}).show()}}},prepareTidyUp:function(e,t){return this.loadAsset(function(){return $defined(window.Beautifier)},"/js/beautifier.js",e,t)},showHideShowJs:function(){var e=$(this.options.showJsId);e&&(Layout.editors.js.editor.getOption("mode").contains("coffeescript")?e.getParent("li").show():e.getParent("li").hide())},showHideJsLint:function(){var e=!0,t=$(this.options.jslintId);t&&(Layout.editors.each(function(t){this.options.jslintLanguages.contains(t.editor.getOption("mode"))&&(e=!1)},this),e?t.getParent("li").hide():t.getParent("li").show())},showHideTidyUp:function(){if(!this.prepareTidyUp(this.showHideTidyUp,this)){var e=!0,t=$(this.options.tidyId);t&&(Layout.editors.each(function(t){language=this.options.tidy[t.options.language],language&&Beautifier[language]&&(e=!1)},this),e?t.getParent(".actionItem").hide():t.getParent(".actionItem").show())}},prepareAndLaunchTidy:function(e){e.stop(),this.prepareTidyUp(this.makeTidy.bind(this))||this.makeTidy()},makeTidy:function(){Layout.editors.each(function(e){var t,n=e.editor.getValue();if(n&&(t=this.options.tidy[e.options.language])&&Beautifier[t]){var i=Beautifier[t](n);if(i)try{e.editor.setValue(i)}catch(e){console.warn("[Mootools + CodeMirror conflict]",e)}else e.editor.reindent()}},this)},jsLint:function(e){if(e.stop(),JSHINT)return this.JSLintValidate()},JSLintValidate:function(){var e=Layout.editors.js.editor;if(this.options.jslintLanguages.contains(panel_js)){for(var t=e.getValue(),n=0;e.lineCount()>=n;n++)e.setGutterMarker(n,"note-gutter",null);""===t.trim()?sticky.call(this,{title:"Valid!",content:"<p>Good work! Your JavaScript code is perfectly valid.</p>"}):JSHINT(t)?sticky.call(this,{title:"Valid!",content:"<p>Good work! Your JavaScript code is perfectly valid.</p>"}):Array.each(JSHINT.errors,function(t,n){errorEl=Element("span",{class:"CodeMirror-line-error","data-title":t.reason,text:""}),e.setGutterMarker(t.line-1,"note-gutter",errorEl)},this)}else sticky.call(this,{title:"Sorry No JavaScript!",content:"<p>You're using "+panel_js+"</p>"})},makeFavourite:function(e){e.stop(),new Request.JSON({url:makefavouritepath,data:{shell_id:this.getExampleId()},onRequest:function(){Layout.spinnerState("start")},onSuccess:function(e){Layout.decodeEditors(),e.error?alert("ERROR: "+e.error):(history.pushState(history.state,document.title,e.url),Layout.spinnerState("end"),this.updateShareUrls())}.bind(this)}).send(),Track.ui("Mark as favourite")},launchCollaboration:function(e){e&&e.stop(),TogetherJS(this),Track.ui("Launch Collaboration")},sendCallback:function(e){e.stop(),console.log("sending callback - "+this.options.sendCallbackURL),window.editorsModified=!1,Layout.updateFromMirror(),$("id_slug").value="",$("id_version").value="0",new Request.JSON({url:this.options.sendCallbackURL,onSuccess:function(){alert("Thank You")}}).send(this.form),console.log("?")},extraParams:function(e){e.slug&&$("id_slug").set("value",e.slug),e.shell_id&&(fiddleOptions.example_id=e.shell_id)},getExampleId:function(){return fiddleOptions.example_id},updateShareUrls:function(){EmbedCreatorManager.buildPath()},saveSuccess:function(e){Layout.decodeEditors(),e.error?alert("ERROR: "+e.error):(""===fiddleOptions.slug&&(document.getElements("#actions .actionItem.hidden").show(),document.getElements("#actions .actionItem.visible").hide()),history.pushState(history.state,document.title,e.pastie_url_relative),Layout.spinnerState("end"),this.extraParams(e),this.updateShareUrls(),this.discardDraft())},saveAsNew:function(e){e.stop(),window.editorsModified=!1,Layout.updateFromMirror(),$("id_slug").value="",$("id_version").value="0",new Request.JSON({url:this.options.exampleSaveUrl,onRequest:function(){Layout.spinnerState("start")},onSuccess:this.saveSuccess.bind(this)}).send(this.form),Track.ui("Save as new fiddle")},saveAndReload:function(e){e&&e.stop(),window.editorsModified=!1,Layout.updateFromMirror(),new Request.JSON({url:this.options.exampleSaveUrl,onRequest:function(){Layout.spinnerState("start")},onSuccess:this.saveSuccess.bind(this)}).send(this.form),Track.ui("Update fiddle")},run:function(e){var t=!1;e&&e.stop(),!e||"mobile"!==$(e.target).getParent().get("id")&&"mobile"!==$(e.target).get("id")||(t=new Element("input",{hidden:!0,name:"draftonly",id:"draftonly",value:!0})).inject(this.form),Layout.updateFromMirror(),this.form.submit(),t&&t.destroy(),this.fireEvent("run");var n=document.getElements("#result .windowLabel");n&&n.hide(),Track.ui("Run fiddle")},loadDraft:function(e){e&&e.stop(),username?window.open("/draft/","jsfiddle_draft"):window.location="/user/login/",Track.ui("Load draft")},showShortcutDialog:function(e){e&&e.stop();new StickyWin({content:'<div class="modalWrap modal_kbd"><div class="modalHeading"><h3>Keyboard shortcuts</h3><span class="close">Close window</span></div><div id="kbd" class="modalBody"><ul><li><kbd>CTRL</kbd> + <kbd>Return</kbd> <span>Run fiddle</span></li><li><kbd>CTRL</kbd> + <kbd>S</kbd> <span>Save fiddle (Save or Update)</span></li><li><kbd>CTRL</kbd> + <kbd>Shift</kbd> + <kbd>Return</kbd> <span>Load draft</span></li><li><kbd>CTRL</kbd> + <kbd>Shift</kbd> + <kbd>&uarr;</kbd> <span>Toggle sidebar</span></li></ul></div></div>',relativeTo:$(document.body),position:"center",edge:"center",closeClassName:"close",draggable:!0,dragHandleSelector:"h3",closeOnEsc:!0,destroyOnClose:!0,allowMultiple:!1,onDisplay:this.showModalFx}).show()},showModalFx:function(){$$(".modalWrap")[0].addClass("show")},switchTo:function(e){Layout.current_editor=Layout.editors_order[e],Layout.editors[Layout.current_editor].editor.focus()},switchNext:function(){var e=(Layout.editors_order.indexOf(Layout.current_editor)+1)%3;this.switchTo(e)},switchPrev:function(){var e=(Layout.editors_order.indexOf(Layout.current_editor)-1)%3;e<0&&(e=2),this.switchTo(e)},displayExampleURL:function(){var e=document.id(this.options.resultInput);e&&Browser.Engine.gecko&&e.setStyle("padding-top","4px")},loadLibraryVersions:function(e){e&&new Request.JSON({url:this.options.loadLibraryVersionsURL.substitute({group_id:e}),onSuccess:function(e){Track.ui("Load library version"),$("js_lib").empty(),$("js_dependency").empty(),e.libraries.each(function(e){new Element("option",{value:e.id,text:"{group_name} {version}".substitute(e)}).inject($("js_lib")),e.selected&&$("js_lib").set("value",e.id)}),e.dependencies.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject($("js_dependency")),e.selected&&$("dep_"+e.id).set("checked",!0)})}}).send()},loadDependencies:function(e){e&&new Request.JSON({url:this.options.loadDependenciesURL.substitute({lib_id:e}),method:"get",onSuccess:function(e){Track.ui("Load dependencies"),$("js_dependency").empty(),e.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject($("js_dependency")),e.selected&&$("dep_"+e.id).set("checked",!0)})}}).send()}}),Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";e=e||"";var n,i,r,o,s,a,l,c=0;for(e=Base64._utf8_encode(e);c<e.length;)o=(n=e.charCodeAt(c++))>>2,s=(3&n)<<4|(i=e.charCodeAt(c++))>>4,a=(15&i)<<2|(r=e.charCodeAt(c++))>>6,l=63&r,isNaN(i)?a=l=64:isNaN(r)&&(l=64),t=t+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return t},decode:function(e){var t,n,i,r,o,s,a="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(r=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&r)<<4|(o=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(s=this._keyStr.indexOf(e.charAt(l++))),a+=String.fromCharCode(t),64!=o&&(a+=String.fromCharCode(n)),64!=s&&(a+=String.fromCharCode(i));return a=Base64._utf8_decode(a)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}},Dropdown=new Class({initialize:function(){this.dropdown={cont:document.getElements(".dropdownCont"),trigger:document.getElements(".dropdown a.dropdownTrigger")},this.setDefaults()},setDefaults:function(){this.dropdown.cont.hide(),this.dropdown.trigger.each(function(e){e.addEvents({click:this.toggle.bindWithEvent(e,this)})},this),document.getElements(".windowLabel").each(function(e){e.addEvents({click:function(e){e&&e.stop();var t=".windowSettings."+this.get("data-panel");(t=document.getElement(t)).hasClass("opened")?(this.removeClass("active"),t.removeClass("opened"),t.hide()):(document.getElements(".windowSettings").removeClass("opened").hide(),this.addClass("active"),t.addClass("opened"),t.show(),t.position({relativeTo:this,position:"bottomRight",edge:"topRight",offset:{y:14}}),Track.ui("Show panel dropdown: "+this.get("data-panel")))}})}),$(document.body).addEvents({click:function(e){$(e.target).getParent(".dropdownCont")||this.hide(),null===$(e.target).getParent(".windowSettings")&&(document.getElements(".windowSettings").removeClass("opened").hide(),document.getElements(".windowLabel").removeClass("active"))}.bind(this)})},toggle:function(e,t){Element(e.target);if(e.stop(),"none"===this.getNext(".dropdownCont").getStyles("display").display){var n=this.getNext(".dropdownCont");n.show(),n.hasClass("center")&&n.setStyle("margin-left",-n.getCoordinates().width/2)}else t.dropdown.cont.hide()},hide:function(){this.dropdown.cont.hide()}}),sortableResources,update_resource_input=function(e){if(e){if(resources.contains(e))return!1;resources.push(e)}return $("external_resources_id").set("value",resources.join(",")),!0},remove_resource=function(e){resources.contains(e)&&resources.erase(e),$("external_resources_id").set("value",resources.join(",")),external_resource_el=$("external_resource_"+e),external_resource_el.destroy()},validateGithub=function(){return!this.get("value").contains("raw.github")},validateSSL=function(){return!this.get("value").contains("http://")},prepareToSubmit=function(e){e&&e.stop();var t=$("external_resource");if(validateGithub.call(t)?submit_external_resource.call(this):confirm("Github is not a CDN, using it as such will cause issues with loading the file. Do you still wish to it?")&&submit_external_resource.call(this),!validateSSL.call(t)){var n="https:"===document.location.protocol?"You're loading resources over HTTP not HTTPS, your fiddle will not work. Do you wish to continue?":"You should be loading resources over HTTPS not HTTP, are you sure you want to continue?";confirm(n)&&submit_external_resource.call(this)}},update_resource_order=function(){var e=document.getElements("#external_resources_list li").map(function(e){return e.get("id").split("external_resource_")[1]});resources=e,update_resource_input()},submit_external_resource=function(){var e=$("external_resource").value;e&&e!=$("external_resource").retrieve("default_value")&&$("external_resource").value.length>7&&new Request.JSON({url:add_external_resource_url,method:"post",data:{url:e},onSuccess:function(e){if(update_resource_input(e.id)){var t=new Element("li",{id:"external_resource_"+e.id}).inject($("external_resources_list"));new Element("a",{text:e.filename,title:e.url,class:"filename",href:e.url,target:"_blank"}).inject(t),new Element("a",{html:'<i class="bts bt-minus-circle"></i>',rel:e.id,class:"remove",events:{click:function(e){e.stop(),remove_resource(this.get("rel").toInt())}}}).inject(t),sortableResources.addItems(t)}var n=$("external_resource");n.value="",n.removeClass("warning")}}).send()},change_default_input_value=function(e){e&&!this.value?(this.set("value",this.retrieve("default_value")),this.addClass("default")):e||this.value!=this.retrieve("default_value")||(this.set("value",""),this.removeClass("default"))},warn=function(){validateGithub.call(this)&&validateSSL.call(this)?this.removeClass("warning"):this.addClass("warning")};window.addEvent("domready",function(){var e=document.id("add_external_resource");if(e){var t=$("external_resource");t.store("default_value",default_text),update_resource_input(),t.addEvents({change:warn,keydown:function(e){"enter"===e.key&&this.fireEvent("submit",e)},keyup:warn,submit:prepareToSubmit}),sortableResources=new Sortables(document.id("external_resources_list"),{clone:!0,opacity:.5,revert:!0,onComplete:update_resource_order}),e.addEvent("click",prepareToSubmit),preload_resources&&preload_resources.each(function(e){$("external_resource").set("value",e),submit_external_resource()})}});var disallowedPlatforms=["ios","android","ipod"];window.defaultCmOptions={tabSize:2,indentUnit:2,matchBrackets:!0,lineNumbers:!0,lineWrapping:!0,keyMap:"default",autoCloseTags:!0,indentWithTabs:!1,smartIndent:!1,viewportMargin:1/0},window.cmOptions=Object.merge(window.defaultCmOptions,window.userCmOptions);var MooShellEditor=new Class({Implements:[Options,Events],parameter:"Editor",options:{useCodeMirror:!0,codeMirrorOptions:window.cmOptions,syntaxHighlighting:[]},window_names:{javascript:"JavaScript",html:"HTML",css:"CSS",scss:"SCSS",coffeescript:"CoffeeScript","javascript 1.7":"JavaScript 1.7"},initialize:function(e,t){if(this.validationTooltip,this.editorModified=!1,!e)return!1;this.element=$(e),this.options.syntaxHighlighting.contains(t.language)||this.forceDefaultCodeMirrorOptions(),this.setOptions(t);var n=disallowedPlatforms.contains(Browser.Platform.name);if(this.options.useCodeMirror&&!n){this.element.hide(),!this.options.codeMirrorOptions.stylesheet&&this.options.stylesheet&&(this.options.codeMirrorOptions.stylesheet=this.options.stylesheet.map(function(e){return mediapath+e})),this.options.codeMirrorOptions.path||(this.options.codeMirrorOptions.path=codemirrorpath+"js/"),this.options.codeMirrorOptions.content||(this.options.codeMirrorOptions.content=this.element.get("value"));var i=this.element.getParent(),t={value:this.element.value};t=Object.append(t,this.options.codeMirrorOptions),this.editor=CodeMirror(i,t),emmetCodeMirror(this.editor),this.options.codeMirrorOptions.initCallback||this.options.codeMirrorOptions.autofocus&&(Layout.current_editor=this.options.name);this.editor.getLineHandle(this.editor.getCursor().line);this.setEditorEvents({focus:function(){Layout.current_editor=this.options.name},cursorActivity:function(){},blur:function(){},change:function(e){this.validateEditorInput.call(this,i),window.editorsModified=!0,this.editorModified&&this.draftStore(fiddleOptions.example_id),this.editorModified=!0}.bind(this)}),CodeMirror.keyMap.default["Ctrl-Enter"]=function(){return!1},delete CodeMirror.keyMap.default["Cmd-L"]}mooshell.addEvents({run:this.b64decode.bind(this)}),Layout.registerEditor(this),this.setLabelName(this.options.language||this.options.name),this.draftDiff(fiddleOptions.example_id)},validateEditorInput:function(e){var t=this.getCode(),n=[];this.validationTooltip&&this.validationTooltip.destroy(),this.validationTooltip=Element("ul",{class:"warningTooltip"}),this.options.disallowed&&Object.each(this.options.disallowed,function(e,i){t.test(i,"i")&&n.push("<li>"+e+"</li>")}),this.validationTooltip=this.validationTooltip.inject(e),this.validationTooltip.set({html:n.join("")})},getEditor:function(){return this.editor||this.element},getWindow:function(){return this.window||(this.window=this.element.getParent(".window")),this.window},getLabel:function(){return this.getWindow().getElement(".windowLabel .label")},b64decode:function(){this.element.set("value",this.before_decode)},draftDiff:function(e){var t=document.getElement(".draftTriggerCont"),n=this.draftRead(e);if(n&&n[this.options.name]&&n[this.options.name].code){t.show();var i=difflib.stringAsLines(this.getCode()),r=difflib.stringAsLines(n[this.options.name].code),o=new difflib.SequenceMatcher(i,r).get_opcodes(),s=diffview.buildView({baseTextLines:i,newTextLines:r,opcodes:o,viewType:1});diffEl=document.id("diff-"+this.options.name),diffEl.adopt(s)}},draftDifferent:function(e){return this.draftRead(e)[this.options.name].code!==this.getCode()},draftApply:function(e){var t=document.location.pathname.split("/");if(-1===["gh","api","gist","get","post"].indexOf(t[1])&&t.length>=2){var n=this.draftRead(e);n&&n[this.options.name]&&this.draftDifferent(e)&&this.setCode(n[this.options.name].code)}},draftStore:function(e){Layout.editors.each(function(t,n){Layout.localDraft[n]={code:t.getCode()},localStorage.setItem("draft["+e+"]",this.draftEncode(Layout.localDraft))},this)},draftRead:function(e){var t=localStorage.getItem("draft["+e+"]");if(t)return this.draftDecode(t)},draftRemove:function(e){localStorage.removeItem("draft["+e+"]")},draftEncode:function(e){return Base64.encode(JSON.encode(e))},draftDecode:function(e){return JSON.decode(Base64.decode(e))},setCode:function(e){this.editor?this.editor.setValue(e):this.element.set("value",e)},getCode:function(){return this.editor?this.editor.getValue():this.element.get("value")},updateFromMirror:function(){this.before_decode=this.getCode(),this.element.set("value",Base64.encode(this.before_decode))},updateCode:function(){this.element.set("value",this.getCode())},clean:function(){this.element.set("value",""),this.cleanEditor()},cleanEditor:function(){this.editor&&this.editor.setCode("")},hide:function(){this.getWindow().hide()},show:function(){this.getWindow().show()},setEditorOptions:function(e){Object.each(e,function(e,t){this.editor.setOption(t,e.bind(this))},this)},setEditorEvents:function(e){Object.each(e,function(e,t){this.editor.on(t,e.bind(this))},this)},setLanguage:function(e){this.setLabelName(e)},setLabelName:function(e){this.getLabel().set("text",this.window_names[e]||e)},setStyle:function(e,t){return this.editor?$(this.editor.frame).setStyle(e,t):this.element.setStyle(e,t)},setStyles:function(e){return this.editor?$(this.editor.frame).setStyles(e):this.element.setStyles(e)},setWidth:function(e){this.getWindow().setStyle("width",e)},setHeight:function(e){this.getWindow().setStyle("height",e)},getPosition:function(){return this.editor?$(this.editor.frame).getPosition():this.element.getPosition()},forceDefaultCodeMirrorOptions:function(){this.options.codeMirrorOptions=window.cmOptions}});MooShellEditor.JS=new Class({Extends:MooShellEditor,options:{name:"js",language:"javascript",useCodeMirror:!0,codeMirrorOptions:{autofocus:!0,mode:"text/javascript",autoCloseBrackets:!0},syntaxHighlighting:["javascript","javascript 1.7","jsx"],disallowed:{"<script":"Input plain JavaScript code, no HTML.","document.write":"<code>document.write</code> is disallowed in JSFiddle environment and might break your fiddle."}},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}}),MooShellEditor.CSS=new Class({Extends:MooShellEditor,options:{name:"css",language:"css",useCodeMirror:!0,codeMirrorOptions:{mode:"css",autoCloseBrackets:!0},syntaxHighlighting:["css","scss"]},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}}),MooShellEditor.HTML=new Class({Extends:MooShellEditor,options:{name:"html",language:"html",useCodeMirror:!0,codeMirrorOptions:{mode:"text/html",autoCloseBrackets:!0,htmlMode:!0},syntaxHighlighting:["html"],disallowed:{"<html":"No need for the <code>HTML</code> tag, it's already in the output.","<meta":"No need for the <code>META</code> tags.","<head*.?>":"No need for the <code>HEAD</code> tag, it's already in the output.","<doctype":"Select <code>DOCTYPE</code> from the <strong>Info</strong> panel on the left, instead of adding a tag.","<script/?.*text/javascript":"For JavaScript use the panel below or the <strong>Resources</strong> panel for external files.","<link/?.*rel/?.*stylesheet":"For external CSS files use the <strong>Resources</strong> panel on the left.","<style":"For CSS use the panel on the right."}},initialize:function(e,t){this.setOptions(t),this.parent(e,this.options)}}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.log=function(){var e;if(null!=(null!=(e=window.console)?e.log:void 0))return console.log(arguments.length<=1?arguments[0]:arguments)},String.implement({substitute:function(e,t){return String(this).replace(t||/\\?\{([^{}]+)\}/g,function(t,n){var i,r,o,s;if("\\"===t.charAt(0))return t.slice(1);if(null!=e[n])return e[n];if("",o=n.split("."),r=o.length,s=e,r<=1)return"";for(i=0;i<r;){if(null===(s=s[o[i]]))return"";i++}return s})}}),this.Helpers=function(){function t(){this.fireEvent=e(this.fireEvent,this),this.setOptions=e(this.setOptions,this),this.autosubmit=e(this.autosubmit,this)}return t.prototype.autosubmit=function(e){return Array.each(e,function(e){return e.addEvents({change:function(e){var t,n;if(n=this.get("value"),t=this.getParent("form"),""!==n)return t.submit()}})})},t.prototype.setOptions=function(e){return this.options?this.options=Object.merge(this.options,e):this.options=e},t.prototype.fireEvent=function(e,t){if(this.options[e])return this.options[e].call(this,t)},t.prototype.setupEvents=function(e,t){return Object.each(e,function(e,n){if(e)return e.addEvents(t[n])})},t.prototype.isUrl=function(e){return/^(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(e)},t.prototype.isEmail=function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e)},t.prototype.permalink=function(e){return e.toLowerCase().replace(/(?: )/gi,"-")},t.prototype.template={get:function(e){var t;if(t=document.getElement("script[data-template-for="+e+"]"))return t=t.get("text")},parse:function(e,t){return null==t&&(t={}),e=Elements.from(e.substitute(t))}},t}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e=function(e){function i(){this.addPath=t(this.addPath,this),this.buildPath=t(this.buildPath,this),this.collectSkin=t(this.collectSkin,this),this.collectColors=t(this.collectColors,this),this.collectTabs=t(this.collectTabs,this),this.fetchTabs=t(this.fetchTabs,this),this.codeTypeToggle=t(this.codeTypeToggle,this),this.initCreator=t(this.initCreator,this),this.preferIframe=!1,this.hasIframe=!1,this.elements={tabs:document.getElements("#creator .inputCont_checkbox input[type=checkbox][name=tabs]"),colors:document.getElements("#creator .inputCont_text input[type=text]"),skin:document.getElements("#creator .inputCont_checkbox input[type=radio][name=skin]"),code:document.getElements("#creator .embedCode"),preview:document.getElement("#preview"),codeType:document.getElement(".codeTypeToggle"),shareTrigger:document.getElement("#share")},this.events={tabs:{change:this.collectTabs},colors:{keyup:this.collectColors},skin:{change:this.collectSkin},codeType:{click:this.codeTypeToggle},shareTrigger:{click:this.buildPath}},this.setupEvents(this.elements,this.events),this.builder={tabs:[],colors:{},skin:"light"},this.fetchTabs()}return function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,Helpers),i.prototype.initCreator=function(){var e;return e=document.createElement("iframe"),e.width="100%",e.height="300",e.frameBorder="0",e.allowtransparency=!0,e.sandbox="allow-modals allow-forms allow-scripts allow-same-origin allow-popups",e.allow="midi; geolocation; microphone; camera",e.allowfullscreen=!0,e.allowpaymentrequest=!0,this.elements.preview.adopt(e),this.hasIframe=!0},i.prototype.codeTypeToggle=function(e){return e.stop(),this.preferIframe?(this.elements.code[0].getParent().show(),this.elements.code[1].getParent().hide(),this.elements.codeType.set("text","Prefer iframe?"),this.preferIframe=!1):(this.elements.code[0].getParent().hide(),this.elements.code[1].getParent().show(),this.elements.codeType.set("text","Use script"),this.preferIframe=!0)},i.prototype.fetchTabs=function(){var e;return e=this.elements.tabs.filter(function(e){if(e.checked)return e}),this.builder.tabs=e.get("value")},i.prototype.collectTabs=function(){return this.fetchTabs(),this.buildPath()},i.prototype.collectColors=function(e){var t,n,i;return t=e.target,i=t.get("value"),n=t.get("name"),i.length>0?(i.indexOf("#")>-1&&(i=i.split("#")[1]),this.builder.colors[n]=""+i):Object.erase(this.builder.colors,n),this.buildPath()},i.prototype.collectSkin=function(){var e;return e=event.target,this.builder.skin=e.get("value"),this.buildPath()},i.prototype.buildPath=function(){var e,t,n,i,r,o;return e=Object.toQueryString(this.builder.colors),r=this.builder.tabs,n=this.builder.skin,t=""!==e?"?"+e:"",o=r.length>=4||r.length<=0?"light"!==n?r.join(",")+"/":"":r.join(",")+"/",i="light"!==n?n+"/":"",this.addPath("//"+location.host+location.pathname+"{view}/"+o+i+t)},i.prototype.addPath=function(e){var t;return t="",this.elements.code.each(function(n,i){var r,o,s;return s=n.get("data-view"),o=n.get("data-pattern-value"),t=e.replace(/{view}/,s),r=o.replace(/{embedSrc}/,t),n.set("value",r)}),this.hasIframe||this.initCreator(),this.elements.preview.getElement("iframe").set("src",t)},i}(),window.addEvents({domready:function(){return this.EmbedCreatorManager=new e}})}.call(this);var MooShellSettings=new Class({Implements:[Options],options:{library_id:"js_library",dependency_id:"js_dependency"},initialize:function(e){this.setOptions(e),this.libEl=$(this.options.library_id),this.depEl=$(this.options.dependency_id),this.libEl.addEvent("change",function(){this.changeDeps()}.bind(this)),this.changeDeps()},changeDeps:function(){new Request.JSON({url:get_dependencies_url.substitute({lib_id:this.libEl.value}),onSuccess:function(e){this.depEl.empty(),e.each(function(e){new Element("li",{html:["<label class='checkboxCont'>","<input id='dep_{id}' type='checkbox' name='js_dependency[{id}]' value='{id}'/>","<span class='checkbox'><i class='bts bt-check'></i></span>","{name}</label>"].join("").substitute(e)}).inject(this.depEl,"top")},this)}.bind(this)}).send()}});